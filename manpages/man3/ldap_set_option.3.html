<!DOCTYPE html>

<HTML><head><TITLE>Manpage of LDAP_GET_OPTION</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"documentation"}</div>
 </div>
 </header>
 <div class="page-content"><div class="wrap">
<H1>LDAP_GET_OPTION</H1>
Section: C Library Functions (3)<BR>Updated: 2010/06/30<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>




<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

ldap_get_option, ldap_set_option - LDAP option handling routines
<A NAME="lbAC">&nbsp;</A>
<H2>LIBRARY</H2>

OpenLDAP LDAP (libldap, -lldap)
<A NAME="lbAD">&nbsp;</A>
<H2>SYNOPSIS</H2>

<PRE>
<B>#include &lt;<A HREF="file:/usr/include/ldap.h">ldap.h</A>&gt;</B>

<B>int ldap_get_option(LDAP *</B><I>ld</I><B>, int </B><I>option</I><B>, void *</B><I>outvalue</I><B>);</B>

<B>int ldap_set_option(LDAP *</B><I>ld</I><B>, int </B><I>option</I><B>, const void *</B><I>invalue</I><B>);</B>
</PRE><A NAME="lbAE">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>

These routines provide access to options stored either in a LDAP handle
or as global options, where applicable.
They make use of a neutral interface, where the type of the value
either retrieved by 
<B><A HREF="/manpages/index.html?3+ldap_get_option">ldap_get_option</A></B>(3)

or set by
<B><A HREF="/manpages/index.html?3+ldap_set_option">ldap_set_option</A></B>(3)

is cast to 
<B>void *</B>.

The actual type is determined based on the value of the
<B>option</B>

argument.
Global options are set/retrieved by passing a NULL LDAP handle.
<DL COMPACT>
<DT><B>LDAP_OPT_API_FEATURE_INFO</B>

<DD>
Fills-in a 
<B>LDAPAPIFeatureInfo</B>;

<B>outvalue</B>

must be a 
<B>LDAPAPIFeatureInfo *</B>,

pointing to an already allocated struct.
This is a read-only option.
<DT><B>LDAP_OPT_API_INFO</B>

<DD>
Fills-in a 
<B>LDAPAPIInfo</B>;

<B>outvalue</B>

must be a 
<B>LDAPAPIInfo *</B>,

pointing to an already allocated struct.
This is a read-only option.
<DT><B>LDAP_OPT_CLIENT_CONTROLS</B>

<DD>
Sets/gets the client-side controls to be used for all operations.
This is now deprecated as modern LDAP C API provides replacements
for all main operations which accepts client-side controls as
explicit arguments; see for example
<B><A HREF="/manpages/index.html?3+ldap_search_ext">ldap_search_ext</A></B>(3),

<B><A HREF="/manpages/index.html?3+ldap_add_ext">ldap_add_ext</A></B>(3),

<B><A HREF="/manpages/index.html?3+ldap_modify_ext">ldap_modify_ext</A></B>(3)

and so on.
<B>outvalue</B>

must be 
<B>LDAPControl ***</B>,

and the caller is responsible of freeing the returned controls, if any,
by calling 
<B><A HREF="/manpages/index.html?3+ldap_controls_free">ldap_controls_free</A></B>(3),

while
<B>invalue</B>

must be 
<B>LDAPControl *const *</B>;

the library duplicates the controls passed via
<B>invalue</B>.

<DT><B>LDAP_OPT_CONNECT_ASYNC</B>

<DD>
Sets/gets the status of the asynchronous connect flag.
<B>invalue</B>

should either be
<B>LDAP_OPT_OFF</B>

or
<B>LDAP_OPT_ON</B>;

<B>outvalue</B>

must be
<B>int *</B>.

When set, the library will call
<B><A HREF="/manpages/index.html?2+connect">connect</A></B>(2)

and return, without waiting for response.
This leaves the handle in a connecting state.
Subsequent calls to library routines will poll for completion
of the connect before performing further operations.
As a consequence, library calls that need to establish a connection
with a DSA do not block even for the network timeout
(option
<B>LDAP_OPT_NETWORK_TIMEOUT</B>).

This option is OpenLDAP specific.
<DT><B>LDAP_OPT_CONNECT_CB</B>

<DD>
This option allows to set a connect callback.
<B>invalue</B>

must be a 
<B>const struct ldap_conncb *</B>.

Callbacks are executed in last in-first served order.
Handle-specific callbacks are executed first, followed by global ones.
Right before freeing the callback structure, the
<B>lc_del</B>

callback handler is passed a 
<B>NULL</B>

<B>Sockbuf</B>.

Calling
<B><A HREF="/manpages/index.html?3+ldap_get_option">ldap_get_option</A></B>(3)

for this option removes the callback whose pointer matches
<B>outvalue</B>.

This option is OpenLDAP specific.
<DT><B>LDAP_OPT_DEBUG_LEVEL</B>

<DD>
Sets/gets the debug level of the client library.
<B>invalue</B>

must be a 
<B>const int *</B>;

<B>outvalue</B>

must be a
<B>int *</B>.

Valid debug levels are 
<B>LDAP_DEBUG_ANY</B>,

<B>LDAP_DEBUG_ARGS</B>,

<B>LDAP_DEBUG_BER</B>,

<B>LDAP_DEBUG_CONNS</B>,

<B>LDAP_DEBUG_NONE</B>,

<B>LDAP_DEBUG_PACKETS</B>,

<B>LDAP_DEBUG_PARSE</B>,

and
<B>LDAP_DEBUG_TRACE</B>.

This option is OpenLDAP specific.
<DT><B>LDAP_OPT_DEFBASE</B>

<DD>
Sets/gets a string containing the DN to be used as default base
for search operations.
<B>outvalue</B>

must be a
<B>char **</B>,

and the caller is responsible of freeing the returned string by calling
<B><A HREF="/manpages/index.html?3+ldap_memfree">ldap_memfree</A></B>(3),

while
<B>invalue</B>

must be a 
<B>const char *</B>;

the library duplicates the corresponding string.
This option is OpenLDAP specific.
<DT><B>LDAP_OPT_DEREF</B>

<DD>
Sets/gets the value that defines when alias dereferencing must occur.
<B>invalue</B>

must be
<B>const int *</B>;

<B>outvalue</B>

must be
<B>int *</B>.

They cannot be NULL.
The value of 
<B>*invalue</B>

should be one of
<B>LDAP_DEREF_NEVER</B>

(the default),
<B>LDAP_DEREF_SEARCHING</B>,

<B>LDAP_DEREF_FINDING</B>,

or
<B>LDAP_DEREF_ALWAYS</B>.

Note that this has ever been the only means to determine alias dereferencing
within search operations.
<DT><B>LDAP_OPT_DESC</B>

<DD>
Returns the file descriptor associated to the socket buffer
of the LDAP handle passed in as 
<B>ld</B>;

<B>outvalue</B>

must be a 
<B>int *</B>.

This is a read-only, handle-specific option.
<DT><B>LDAP_OPT_DIAGNOSTIC_MESSAGE</B>

<DD>
Sets/gets a string containing the error string associated to the LDAP handle.
This option was formerly known as 
<B>LDAP_OPT_ERROR_STRING</B>.

<B>outvalue</B>

must be a
<B>char **</B>,

and the caller is responsible of freeing the returned string by calling
<B><A HREF="/manpages/index.html?3+ldap_memfree">ldap_memfree</A></B>(3),

while
<B>invalue</B>

must be a 
<B>char *</B>;

the library duplicates the corresponding string.
<DT><B>LDAP_OPT_HOST_NAME</B>

<DD>
Sets/gets a space-separated list of hosts to be contacted by the library 
when trying to establish a connection.
This is now deprecated in favor of
<B>LDAP_OPT_URI</B>.

<B>outvalue</B>

must be a 
<B>char **</B>,

and the caller is responsible of freeing the resulting string by calling
<B><A HREF="/manpages/index.html?3+ldap_memfree">ldap_memfree</A></B>(3),

while
<B>invalue</B>

must be a 
<B>const char *</B>;

the library duplicates the corresponding string.
<DT><B>LDAP_OPT_MATCHED_DN</B>

<DD>
Sets/gets a string containing the matched DN associated to the LDAP handle.
<B>outvalue</B>

must be a
<B>char **</B>,

and the caller is responsible of freeing the returned string by calling
<B><A HREF="/manpages/index.html?3+ldap_memfree">ldap_memfree</A></B>(3),

while
<B>invalue</B>

must be a 
<B>const char *</B>;

the library duplicates the corresponding string.
<DT><B>LDAP_OPT_NETWORK_TIMEOUT</B>

<DD>
Sets/gets the network timeout value after which
<B><A HREF="/manpages/index.html?2+poll">poll</A></B>(2)/<B><A HREF="http://localhost/cgi-bin/man/man2html?2+select">select</A></B>(2)

following a 
<B><A HREF="/manpages/index.html?2+connect">connect</A></B>(2)

returns in case of no activity.
<B>outvalue</B>

must be a 
<B>struct timeval **</B>

(the caller has to free
<B>*outvalue</B>)<B>,</B>

and
<B>invalue</B>

must be a 
<B>const struct timeval *</B>.

They cannot be NULL. Using a struct with seconds set to -1 results
in an infinite timeout, which is the default.
This option is OpenLDAP specific.
<DT><B>LDAP_OPT_PROTOCOL_VERSION</B>

<DD>
Sets/gets the protocol version.
<B>outvalue</B>

and
<B>invalue</B>

must be 
<B>int *</B>.

<DT><B>LDAP_OPT_REFERRAL_URLS</B>

<DD>
Sets/gets an array containing the referral URIs associated to the LDAP handle.
<B>outvalue</B>

must be a
<B>char ***</B>,

and the caller is responsible of freeing the returned string by calling
<B><A HREF="/manpages/index.html?3+ldap_memvfree">ldap_memvfree</A></B>(3),

while
<B>invalue</B>

must be a NULL-terminated
<B>char *const *</B>;

the library duplicates the corresponding string.
This option is OpenLDAP specific.
<DT><B>LDAP_OPT_REFERRALS</B>

<DD>
Determines whether the library should implicitly chase referrals or not.
<B>invalue</B>

must be 
<B>const int *</B>;

its value should either be
<B>LDAP_OPT_OFF</B>

or
<B>LDAP_OPT_ON</B>.

<B>outvalue</B>

must be
<B>int *</B>.





<DT><B>LDAP_OPT_RESTART</B>

<DD>
Determines whether the library should implicitly restart connections (FIXME).
<B>invalue</B>

must be 
<B>const int *</B>;

its value should either be
<B>LDAP_OPT_OFF</B>

or
<B>LDAP_OPT_ON</B>.

<B>outvalue</B>

must be
<B>int *</B>.

<DT><B>LDAP_OPT_RESULT_CODE</B>

<DD>
Sets/gets the LDAP result code associated to the handle.
This option was formerly known as
<B>LDAP_OPT_ERROR_NUMBER</B>.

<B>invalue</B>

must be a 
<B>const int *</B>.

<B>outvalue</B>

must be a
<B>int *</B>.

<DT><B>LDAP_OPT_SERVER_CONTROLS</B>

<DD>
Sets/gets the server-side controls to be used for all operations.
This is now deprecated as modern LDAP C API provides replacements
for all main operations which accepts server-side controls as
explicit arguments; see for example
<B><A HREF="/manpages/index.html?3+ldap_search_ext">ldap_search_ext</A></B>(3),

<B><A HREF="/manpages/index.html?3+ldap_add_ext">ldap_add_ext</A></B>(3),

<B><A HREF="/manpages/index.html?3+ldap_modify_ext">ldap_modify_ext</A></B>(3)

and so on.
<B>outvalue</B>

must be 
<B>LDAPControl ***</B>,

and the caller is responsible of freeing the returned controls, if any,
by calling 
<B><A HREF="/manpages/index.html?3+ldap_controls_free">ldap_controls_free</A></B>(3),

while
<B>invalue</B>

must be 
<B>LDAPControl *const *</B>;

the library duplicates the controls passed via
<B>invalue</B>.

<DT><B>LDAP_OPT_SIZELIMIT</B>

<DD>
Sets/gets the value that defines the maximum number of entries
to be returned by a search operation.
<B>invalue</B>

must be
<B>const int *</B>,

while
<B>outvalue</B>

must be
<B>int *</B>;

They cannot be NULL.
<DT><B>LDAP_OPT_SOCKBUF</B>

<DD>
Returns a pointer to the socket buffer of the LDAP handle passed in as
<B>ld</B>;

<B>outvalue</B>

must be a 
<B>Sockbuf **</B>.

This is a read-only, handle-specific option.
This option is OpenLDAP specific.
<DT><B>LDAP_OPT_TIMELIMIT</B>

<DD>
Sets/gets the value that defines the time limit after which
a search operation should be terminated by the server.
<B>invalue</B>

must be
<B>const int *</B>,

while
<B>outvalue</B>

must be
<B>int *</B>,

and they cannot be NULL.
<DT><B>LDAP_OPT_TIMEOUT</B>

<DD>
Sets/gets a timeout value for the synchronous API calls.
<B>outvalue</B>

must be a 
<B>struct timeval **</B>

(the caller has to free
<B>*outvalue</B>)<B>,</B>

and
<B>invalue</B>

must be a 
<B>struct timeval *</B>,

and they cannot be NULL. Using a struct with seconds set to -1 results
in an infinite timeout, which is the default.
This option is OpenLDAP specific.
<DT><B>LDAP_OPT_URI</B>

<DD>
Sets/gets a comma- or space-separated list of URIs to be contacted by the library 
when trying to establish a connection.
<B>outvalue</B>

must be a 
<B>char **</B>,

and the caller is responsible of freeing the resulting string by calling
<B><A HREF="/manpages/index.html?3+ldap_memfree">ldap_memfree</A></B>(3),

while
<B>invalue</B>

must be a 
<B>const char *</B>;

the library parses the string into a list of 
<B>LDAPURLDesc</B>

structures, so the invocation of 
<B><A HREF="/manpages/index.html?3+ldap_set_option">ldap_set_option</A></B>(3)

may fail if URL parsing fails.
URIs may only contain the
<B>schema</B>,

the
<B>host</B>,

and the
<B>port</B>

fields.
This option is OpenLDAP specific.
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>SASL OPTIONS</H2>

The SASL options are OpenLDAP specific.
<DL COMPACT>
<DT><B>LDAP_OPT_X_SASL_AUTHCID</B>

<DD>
Gets the SASL authentication identity;
<B>outvalue</B>

must be a
<B>char **</B>,

its content needs to be freed by the caller using
<B><A HREF="/manpages/index.html?3+ldap_memfree">ldap_memfree</A></B>(3).

<DT><B>LDAP_OPT_X_SASL_AUTHZID</B>

<DD>
Gets the SASL authorization identity;
<B>outvalue</B>

must be a
<B>char **</B>,

its content needs to be freed by the caller using
<B><A HREF="/manpages/index.html?3+ldap_memfree">ldap_memfree</A></B>(3).

<DT><B>LDAP_OPT_X_SASL_MAXBUFSIZE</B>

<DD>
Gets/sets SASL maximum buffer size;
<B>invalue</B>

must be
<B>const ber_len_t *</B>,

while
<B>outvalue</B>

must be
<B>ber_len_t *</B>.

See also
<B>LDAP_OPT_X_SASL_SECPROPS</B>.

<DT><B>LDAP_OPT_X_SASL_MECH</B>

<DD>
Gets the SASL mechanism;
<B>outvalue</B>

must be a
<B>char **</B>,

its content needs to be freed by the caller using
<B><A HREF="/manpages/index.html?3+ldap_memfree">ldap_memfree</A></B>(3).

<DT><B>LDAP_OPT_X_SASL_MECHLIST</B>

<DD>
Gets the list of the available mechanisms,
in form of a NULL-terminated array of strings;
<B>outvalue</B>

must be
<B>char ***</B>.

The caller must not free or otherwise muck with it.
<DT><B>LDAP_OPT_X_SASL_NOCANON<TT>&nbsp;</TT></B>

<DD>
Sets/gets the NOCANON flag.<BR>
When unset, the hostname is canonicalized.
<B>invalue</B>

must be
<B>const int *</B>;

its value should either be
<B>LDAP_OPT_OFF</B>

or
<B>LDAP_OPT_ON</B>.

<B>outvalue</B>

must be
<B>int *</B>.

<DT><B>LDAP_OPT_X_SASL_REALM</B>

<DD>
Gets the SASL realm;
<B>outvalue</B>

must be a
<B>char **</B>,

its content needs to be freed by the caller using
<B><A HREF="/manpages/index.html?3+ldap_memfree">ldap_memfree</A></B>(3).

<DT><B>LDAP_OPT_X_SASL_SECPROPS</B>

<DD>
Sets the SASL secprops;
<B>invalue</B>

must be a
<B>char *</B>,

containing a comma-separated list of properties.
Legal values are:
<B>none</B>,

<B>nodict</B>,

<B>noplain</B>,

<B>noactive</B>,

<B>passcred</B>,

<B>forwardsec</B>,

<B>noanonymous</B>,

<B>minssf=&lt;minssf&gt;</B>,

<B>maxssf=&lt;maxssf&gt;</B>,

<B>maxbufsize=&lt;maxbufsize&gt;</B>.

<DT><B>LDAP_OPT_X_SASL_SSF</B>

<DD>
Gets the SASL SSF;
<B>outvalue</B>

must be a
<B>ber_len_t *</B>.

<DT><B>LDAP_OPT_X_SASL_SSF_EXTERNAL</B>

<DD>
Sets the SASL SSF value related to an authentication
performed using an EXTERNAL mechanism;
<B>invalue</B>

must be a
<B>const ber_len_t *</B>.

<DT><B>LDAP_OPT_X_SASL_SSF_MAX</B>

<DD>
Gets/sets SASL maximum SSF;
<B>invalue</B>

must be
<B>const ber_len_t *</B>,

while
<B>outvalue</B>

must be
<B>ber_len_t *</B>.

See also
<B>LDAP_OPT_X_SASL_SECPROPS</B>.

<DT><B>LDAP_OPT_X_SASL_SSF_MIN</B>

<DD>
Gets/sets SASL minimum SSF;
<B>invalue</B>

must be
<B>const ber_len_t *</B>,

while
<B>outvalue</B>

must be
<B>ber_len_t *</B>.

See also
<B>LDAP_OPT_X_SASL_SECPROPS</B>.

<DT><B>LDAP_OPT_X_SASL_USERNAME</B>

<DD>
Gets the SASL username;
<B>outvalue</B>

must be a
<B>char **</B>.

Its content needs to be freed by the caller using
<B><A HREF="/manpages/index.html?3+ldap_memfree">ldap_memfree</A></B>(3).

</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>TCP OPTIONS</H2>

The TCP options are OpenLDAP specific.
Mainly intended for use with Linux, they may not be portable.
<DL COMPACT>
<DT><B>LDAP_OPT_X_KEEPALIVE_IDLE</B>

<DD>
Sets/gets the number of seconds a connection needs to remain idle
before TCP starts sending keepalive probes.
<B>invalue</B>

must be
<B>const int *</B>;

<B>outvalue</B>

must be
<B>int *</B>.

<DT><B>LDAP_OPT_X_KEEPALIVE_PROBES</B>

<DD>
Sets/gets the maximum number of keepalive probes TCP should send
before dropping the connection.
<B>invalue</B>

must be
<B>const int *</B>;

<B>outvalue</B>

must be
<B>int *</B>.

<DT><B>LDAP_OPT_X_KEEPALIVE_INTERVAL</B>

<DD>
Sets/gets the interval in seconds between individual keepalive probes.
<B>invalue</B>

must be
<B>const int *</B>;

<B>outvalue</B>

must be
<B>int *</B>.

</DL>
<A NAME="lbAH">&nbsp;</A>
<H2>TLS OPTIONS</H2>

The TLS options are OpenLDAP specific.



<DL COMPACT>
<DT><B>LDAP_OPT_X_TLS_CACERTDIR</B>

<DD>
Sets/gets the path of the directory containing CA certificates.
<B>invalue</B>

must be
<B>const char *</B>;

<B>outvalue</B>

must be
<B>char **</B>,

and its contents need to be freed by the caller using
<B><A HREF="/manpages/index.html?3+ldap_memfree">ldap_memfree</A></B>(3).

<DT><B>LDAP_OPT_X_TLS_CACERTFILE</B>

<DD>
Sets/gets the full-path of the CA certificate file.
<B>invalue</B>

must be
<B>const char *</B>;

<B>outvalue</B>

must be
<B>char **</B>,

and its contents need to be freed by the caller using
<B><A HREF="/manpages/index.html?3+ldap_memfree">ldap_memfree</A></B>(3).

<DT><B>LDAP_OPT_X_TLS_CERTFILE</B>

<DD>
Sets/gets the full-path of the certificate file.
<B>invalue</B>

must be
<B>const char *</B>;

<B>outvalue</B>

must be
<B>char **</B>,

and its contents need to be freed by the caller using
<B><A HREF="/manpages/index.html?3+ldap_memfree">ldap_memfree</A></B>(3).

<DT><B>LDAP_OPT_X_TLS_CIPHER_SUITE</B>

<DD>
Sets/gets the allowed cipher suite.
<B>invalue</B>

must be
<B>const char *</B>;

<B>outvalue</B>

must be
<B>char **</B>,

and its contents need to be freed by the caller using
<B><A HREF="/manpages/index.html?3+ldap_memfree">ldap_memfree</A></B>(3).

<DT><B>LDAP_OPT_X_TLS_CONNECT_ARG</B>

<DD>
Sets/gets the connection callback argument.
<B>invalue</B>

must be
<B>const void *</B>;

<B>outvalue</B>

must be
<B>void **</B>.

<DT><B>LDAP_OPT_X_TLS_CONNECT_CB</B>

<DD>
Sets/gets the connection callback handle.
<B>invalue</B>

must be
<B>const LDAP_TLS_CONNECT_CB *</B>;

<B>outvalue</B>

must be
<B>LDAP_TLS_CONNECT_CB **</B>.

<DT><B>LDAP_OPT_X_TLS_CRLCHECK</B>

<DD>
Sets/gets the CRL evaluation strategy, one of
<B>LDAP_OPT_X_TLS_CRL_NONE</B>,

<B>LDAP_OPT_X_TLS_CRL_PEER</B>,

or
<B>LDAP_OPT_X_TLS_CRL_ALL</B>.

<B>invalue</B>

must be
<B>const int *</B>;

<B>outvalue</B>

must be
<B>int *</B>.

Requires OpenSSL.
<DT><B>LDAP_OPT_X_TLS_CRLFILE</B>

<DD>
Sets/gets the full-path of the CRL file.
<B>invalue</B>

must be
<B>const char *</B>;

<B>outvalue</B>

must be
<B>char **</B>,

and its contents need to be freed by the caller using
<B><A HREF="/manpages/index.html?3+ldap_memfree">ldap_memfree</A></B>(3).

This option is only valid for GnuTLS.
<DT><B>LDAP_OPT_X_TLS_CTX</B>

<DD>
Sets/gets the TLS library context. New TLS sessions will inherit their
default settings from this library context.
<B>invalue</B>

must be
<B>const void *</B>;

<B>outvalue</B>

must be
<B>void **</B>.

When using the OpenSSL library this is an SSL_CTX*. When using other
crypto libraries this is a pointer to an OpenLDAP private structure.
Applications generally should not use this option or attempt to
manipulate this structure.
<DT><B>LDAP_OPT_X_TLS_DHFILE</B>

<DD>
Gets/sets the full-path of the file containing the parameters
for Diffie-Hellman ephemeral key exchange.
<B>invalue</B>

must be
<B>const char *</B>;

<B>outvalue</B>

must be
<B>char **</B>,

and its contents need to be freed by the caller using
<B><A HREF="/manpages/index.html?3+ldap_memfree">ldap_memfree</A></B>(3).

Ignored by GnuTLS and Mozilla NSS.
<DT><B>LDAP_OPT_X_TLS_KEYFILE</B>

<DD>
Sets/gets the full-path of the certificate key file.
<B>invalue</B>

must be
<B>const char *</B>;

<B>outvalue</B>

must be
<B>char **</B>,

and its contents need to be freed by the caller using
<B><A HREF="/manpages/index.html?3+ldap_memfree">ldap_memfree</A></B>(3).

<DT><B>LDAP_OPT_X_TLS_NEWCTX</B>

<DD>
Instructs the library to create a new TLS library context.
<B>invalue</B>

must be
<B>const int *</B>.

A non-zero value pointed to by
<B>invalue</B>

tells the library to create a context for a server.
<DT><B>LDAP_OPT_X_TLS_PROTOCOL_MIN</B>

<DD>
Sets/gets the minimum protocol version.
<B>invalue</B>

must be
<B>const int *</B>;

<B>outvalue</B>

must be
<B>int *</B>.

<DT><B>LDAP_OPT_X_TLS_RANDOM_FILE</B>

<DD>
Sets/gets the random file when
<B>/dev/random</B>

and
<B>/dev/urandom</B>

are not available.
<B>invalue</B>

must be
<B>const char *</B>;

<B>outvalue</B>

must be
<B>char **</B>,

and its contents need to be freed by the caller using
<B><A HREF="/manpages/index.html?3+ldap_memfree">ldap_memfree</A></B>(3).

Ignored by GnuTLS older than version 2.2.  Ignored by Mozilla NSS.
<DT><B>LDAP_OPT_X_TLS_REQUIRE_CERT</B>

<DD>
Sets/gets the peer certificate checking strategy,
one of
<B>LDAP_OPT_X_TLS_NEVER</B>,

<B>LDAP_OPT_X_TLS_HARD</B>,

<B>LDAP_OPT_X_TLS_DEMAND</B>,

<B>LDAP_OPT_X_TLS_ALLOW</B>,

<B>LDAP_OPT_X_TLS_TRY</B>.

<DT><B>LDAP_OPT_X_TLS_SSL_CTX</B>

<DD>
Gets the TLS session context associated with this handle.
<B>outvalue</B>

must be
<B>void **</B>.

When using the OpenSSL library this is an SSL*. When using other
crypto libraries this is a pointer to an OpenLDAP private structure.
Applications generally should not use this option.
</DL>
<A NAME="lbAI">&nbsp;</A>
<H2>ERRORS</H2>

On success, the functions return
<B>LDAP_OPT_SUCCESS</B>,

while they may return
<B>LDAP_OPT_ERROR</B>

to indicate a generic option handling error.
Occasionally, more specific errors can be returned, like
<B>LDAP_NO_MEMORY</B>

to indicate a failure in memory allocation.
<A NAME="lbAJ">&nbsp;</A>
<H2>NOTES</H2>

The LDAP libraries with the
<B>LDAP_OPT_REFERRALS </B>

option set to
<B>LDAP_OPT_ON</B>

(default value) automatically follow referrals using an anonymous bind.
Application developers are encouraged to either implement consistent
referral chasing features, or explicitly disable referral chasing
by setting that option to
<B>LDAP_OPT_OFF</B>.


The protocol version used by the library defaults to LDAPv2 (now historic),
which corresponds to the
<B>LDAP_VERSION2</B>

macro.
Application developers are encouraged to explicitly set
<B>LDAP_OPT_PROTOCOL_VERSION</B>

to LDAPv3, using the 
<B>LDAP_VERSION3</B>

macro, or to allow users to select the protocol version.
<A NAME="lbAK">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="/manpages/index.html?3+ldap">ldap</A></B>(3),

<B><A HREF="/manpages/index.html?3+ldap_error">ldap_error</A></B>(3),

<B>RFC 4422</B>

(<A HREF="http://www.rfc-editor.org),">http://www.rfc-editor.org),</A>
<A NAME="lbAL">&nbsp;</A>
<H2>ACKNOWLEDGEMENTS</H2>



<B>OpenLDAP Software</B>

is developed and maintained by The OpenLDAP Project &lt;<A HREF="http://www.openldap.org/">http://www.openldap.org/</A>&gt;.
<B>OpenLDAP Software</B>

is derived from University of Michigan LDAP 3.3 Release.  

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">LIBRARY</A><DD>
<DT><A HREF="#lbAD">SYNOPSIS</A><DD>
<DT><A HREF="#lbAE">DESCRIPTION</A><DD>
<DT><A HREF="#lbAF">SASL OPTIONS</A><DD>
<DT><A HREF="#lbAG">TCP OPTIONS</A><DD>
<DT><A HREF="#lbAH">TLS OPTIONS</A><DD>
<DT><A HREF="#lbAI">ERRORS</A><DD>
<DT><A HREF="#lbAJ">NOTES</A><DD>
<DT><A HREF="#lbAK">SEE ALSO</A><DD>
<DT><A HREF="#lbAL">ACKNOWLEDGEMENTS</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:31 GMT, December 24, 2015
</div></div>
</body>
</HTML>
