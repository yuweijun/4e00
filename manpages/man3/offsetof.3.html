<!DOCTYPE html>

<HTML><head><TITLE>Manpage of OFFSETOF</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content"><div class="wrap">
<H1>OFFSETOF</H1>
Section: Linux Programmer's Manual (3)<BR>Updated: 2008-07-12<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

offsetof - offset of a structure member
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<PRE>
<B>#include &lt;<A HREF="file:/usr/include/stddef.h">stddef.h</A>&gt;</B>

<B>size_t offsetof(</B><I>type</I><B>, </B><I>member</I><B>);</B>
</PRE>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

The macro
<B>offsetof</B>()

returns the offset of the field
<I>member</I> from the start of the structure <I>type</I>.
<P>
This macro is useful because the sizes of the fields that compose
a structure can vary across implementations,
and compilers may insert different numbers of padding
bytes between fields.
Consequently, an element's offset is not necessarily
given by the sum of the sizes of the previous elements.
<P>
A compiler error will result if
<I>member</I> is not aligned to a byte boundary
(i.e., it is a bit field).
<A NAME="lbAE">&nbsp;</A>
<H2>RETURN VALUE</H2>

<B>offsetof</B>()

returns the offset of the given
<I>member</I>

within the given
<I>type</I>,

in units of bytes.
<A NAME="lbAF">&nbsp;</A>
<H2>CONFORMING TO</H2>

C89, C99, POSIX.1-2001.
<A NAME="lbAG">&nbsp;</A>
<H2>EXAMPLE</H2>

On a Linux/i386 system, when compiled using the default
<B><A HREF="/manpages/index.html?1+gcc">gcc</A></B>(1)

options, the program below produces the following output:

<PRE>

$<B> ./a.out</B>
offsets: i=0; c=4; d=8 a=16
sizeof(struct s)=16
</PRE>

<PRE>
</PRE><A NAME="lbAH">&nbsp;</A>
<H3>Program source</H3>


<PRE>
#include &lt;<A HREF="file:/usr/include/stddef.h">stddef.h</A>&gt;
#include &lt;<A HREF="file:/usr/include/stdio.h">stdio.h</A>&gt;
#include &lt;<A HREF="file:/usr/include/stdlib.h">stdlib.h</A>&gt;

int
main(void)
{
    struct s {
        int i;
        char c;
        double d;
        char a[];
    };

    /* Output is compiler dependent */

    printf(&quot;offsets: i=%ld; c=%ld; d=%ld a=%ld\n&quot;,
            (long) offsetof(struct s, i),
            (long) offsetof(struct s, c),
            (long) offsetof(struct s, d),
            (long) offsetof(struct s, a));
    printf(&quot;sizeof(struct s)=%ld\n&quot;, (long) sizeof(struct s));

    exit(EXIT_SUCCESS);
}
</PRE>

<A NAME="lbAI">&nbsp;</A>
<H2>COLOPHON</H2>

This page is part of release 3.22 of the Linux
<I>man-pages</I>

project.
A description of the project,
and information about reporting bugs,
can be found at
<A HREF="http://www.kernel.org/doc/man-pages/.">http://www.kernel.org/doc/man-pages/.</A>
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">RETURN VALUE</A><DD>
<DT><A HREF="#lbAF">CONFORMING TO</A><DD>
<DT><A HREF="#lbAG">EXAMPLE</A><DD>
<DL>
<DT><A HREF="#lbAH">Program source</A><DD>
</DL>
<DT><A HREF="#lbAI">COLOPHON</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:35 GMT, December 24, 2015
</div></div>
</body>
</HTML>
