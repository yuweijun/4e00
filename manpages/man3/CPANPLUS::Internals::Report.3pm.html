<!DOCTYPE html>

<HTML><head><TITLE>Manpage of CPANPLUS::Internals::Report</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux man pages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>CPANPLUS::Internals::Report</H1>
Section: Perl Programmers Reference Guide (3pm)<BR>Updated: 2009-07-06<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

CPANPLUS::Internals::Report
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>


<PRE>
  ### enable test reporting
  $cb-&gt;configure_object-&gt;set_conf( cpantest =&gt; 1 );
    
  ### set custom mx host, shouldn't normally be needed
  $cb-&gt;configure_object-&gt;set_conf( cpantest_mx =&gt; 'smtp.example.com' );

</PRE>


<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAD"></A>
This module provides all the functionality to send test reports to
<TT>&quot;<A HREF="http://testers.cpan.org">http://testers.cpan.org</A>&quot;</TT> using the <TT>&quot;Test::Reporter&quot;</TT> module.
<P>

All methods will be called automatically if you have <TT>&quot;CPANPLUS&quot;</TT>
configured to enable test reporting (see the <TT>&quot;SYNOPSIS&quot;</TT>).
<A NAME="lbAE">&nbsp;</A>
<H2>METHODS</H2>

<A NAME="ixAAE"></A>
<A NAME="lbAF">&nbsp;</A>
<H3>$bool = $cb-&gt;_have_query_report_modules</H3>



<A NAME="ixAAF"></A>
This function checks if all the required modules are here for querying
reports. It returns true and loads them if they are, or returns false
otherwise.
<A NAME="lbAG">&nbsp;</A>
<H3>$bool = $cb-&gt;_have_send_report_modules</H3>



<A NAME="ixAAG"></A>
This function checks if all the required modules are here for sending
reports. It returns true and loads them if they are, or returns false
otherwise.
<A NAME="lbAH">&nbsp;</A>
<H3>@list = $cb-&gt;_query_report( module =&gt; $modobj, [all_versions =&gt; <FONT SIZE="-1">BOOL</FONT>, verbose =&gt; <FONT SIZE="-1">BOOL</FONT>] )</H3>



<A NAME="ixAAH"></A>
This function queries the <FONT SIZE="-1">CPAN</FONT> testers database at
<I><A HREF="http://testers.cpan.org/">http://testers.cpan.org/</A></I> for test results of specified module objects,
module names or distributions.
<P>

The optional argument <TT>&quot;all_versions&quot;</TT> controls whether all versions of
a given distribution should be grabbed.  It defaults to false
(fetching only reports for the current version).
<P>

Returns the a list with the following data structures (for <FONT SIZE="-1">CPANPLUS</FONT>
version 0.042) on success, or false on failure. The contents of the
data structure depends on what <I><A HREF="http://testers.cpan.org">http://testers.cpan.org</A></I> returns,
but generally looks like this:
<P>



<PRE>
          {
            'grade' =&gt; 'PASS',
            'dist' =&gt; 'CPANPLUS-0.042',
            'platform' =&gt; 'i686-pld-linux-thread-multi'
            'details' =&gt; '<A HREF="http://nntp.x.perl.org/group/perl.cpan.testers/98316'">http://nntp.x.perl.org/group/perl.cpan.testers/98316'</A>
            ...
          },
          {
            'grade' =&gt; 'PASS',
            'dist' =&gt; 'CPANPLUS-0.042',
            'platform' =&gt; 'i686-linux-thread-multi'
            'details' =&gt; '<A HREF="http://nntp.x.perl.org/group/perl.cpan.testers/99416'">http://nntp.x.perl.org/group/perl.cpan.testers/99416'</A>
            ...
          },
          {
            'grade' =&gt; 'FAIL',
            'dist' =&gt; 'CPANPLUS-0.042',
            'platform' =&gt; 'cygwin-multi-64int',
            'details' =&gt; '<A HREF="http://nntp.x.perl.org/group/perl.cpan.testers/99371'">http://nntp.x.perl.org/group/perl.cpan.testers/99371'</A>
            ...
          },
          {
            'grade' =&gt; 'FAIL',
            'dist' =&gt; 'CPANPLUS-0.042',
            'platform' =&gt; 'i586-linux',
            'details' =&gt; '<A HREF="http://nntp.x.perl.org/group/perl.cpan.testers/99396'">http://nntp.x.perl.org/group/perl.cpan.testers/99396'</A>
            ...
          },

</PRE>


<P>

The status of the test can be one of the following:
<FONT SIZE="-1">UNKNOWN</FONT>, <FONT SIZE="-1">PASS</FONT>, <FONT SIZE="-1">FAIL</FONT> or <FONT SIZE="-1">NA</FONT> (not applicable).
<A NAME="lbAI">&nbsp;</A>
<H3>$bool = $cb-&gt;_send_report( module =&gt; $modobj, buffer =&gt; $make_output, failed =&gt; <FONT SIZE="-1">BOOL</FONT>, [save =&gt; <FONT SIZE="-1">BOOL</FONT>, address =&gt; $email_to, verbose =&gt; <FONT SIZE="-1">BOOL</FONT>, force =&gt; <FONT SIZE="-1">BOOL</FONT>]);</H3>



<A NAME="ixAAI"></A>
This function sends a testers report to <TT>&quot;<A HREF="mailto:cpan-testers@perl.org">cpan-testers@perl.org</A>&quot;</TT> for a
particular distribution.
It returns true on success, and false on failure.
<P>

It takes the following options:
<DL COMPACT>
<DT>module<DD>
<A NAME="ixAAJ"></A>
The module object of this particular distribution
<DT>buffer<DD>
<A NAME="ixAAK"></A>
The output buffer from the 'make/make test' process
<DT>failed<DD>
<A NAME="ixAAL"></A>
Boolean indicating if the 'make/make test' went wrong
<DT>save<DD>
<A NAME="ixAAM"></A>
Boolean indicating if the report should be saved locally instead of
mailed out. If provided, this function will return the location the
report was saved to, rather than a simple boolean '<FONT SIZE="-1">TRUE</FONT>'.


<P>


Defaults to false.
<DT>address<DD>
<A NAME="ixAAN"></A>
The email address to mail the report for. You should never need to
override this, but it might be useful for debugging purposes.


<P>


Defaults to <TT>&quot;<A HREF="mailto:cpan-testers@perl.org">cpan-testers@perl.org</A>&quot;</TT>.
<DT>verbose<DD>
<A NAME="ixAAO"></A>
Boolean indicating on whether or not to be verbose.


<P>


Defaults to your configuration settings
<DT>force<DD>
<A NAME="ixAAP"></A>
Boolean indicating whether to force the sending, even if the max
amount of reports for fails have already been reached, or if you
may already have sent it before.


<P>


Defaults to your configuration settings
<P>
</DL>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">METHODS</A><DD>
<DL>
<DT><A HREF="#lbAF">$bool = $cb-&gt;_have_query_report_modules</A><DD>
<DT><A HREF="#lbAG">$bool = $cb-&gt;_have_send_report_modules</A><DD>
<DT><A HREF="#lbAH">@list = $cb-&gt;_query_report( module =&gt; $modobj, [all_versions =&gt; <FONT SIZE="-1">BOOL</FONT>, verbose =&gt; <FONT SIZE="-1">BOOL</FONT>] )</A><DD>
<DT><A HREF="#lbAI">$bool = $cb-&gt;_send_report( module =&gt; $modobj, buffer =&gt; $make_output, failed =&gt; <FONT SIZE="-1">BOOL</FONT>, [save =&gt; <FONT SIZE="-1">BOOL</FONT>, address =&gt; $email_to, verbose =&gt; <FONT SIZE="-1">BOOL</FONT>, force =&gt; <FONT SIZE="-1">BOOL</FONT>]);</A><DD>
</DL>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:16 GMT, December 24, 2015
</div></body>
</HTML>
