<!DOCTYPE html>

<HTML><head><TITLE>Manpage of Sys::Virt::StoragePool</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux man pages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>Sys::Virt::StoragePool</H1>
Section: User Contributed Perl Documentation (3)<BR>Updated: 2012-06-22<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

Sys::Virt::StoragePool - Represent &amp; manage a libvirt storage pool
<A NAME="lbAC">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAC"></A>
The <TT>&quot;Sys::Virt::StoragePool&quot;</TT> module represents a storage pool managed
by libvirt. There are a variety of storage pool implementations for
<FONT SIZE="-1">LVM</FONT>, Local directories/filesystems, network filesystems, disk
partitioning, iSCSI, and <FONT SIZE="-1">SCSI</FONT>.
<A NAME="lbAD">&nbsp;</A>
<H2>METHODS</H2>

<A NAME="ixAAD"></A>
<DL COMPACT>
<DT>my $uuid = $pool-&gt;<I>get_uuid()</I><DD>


<A NAME="ixAAE"></A>
Returns a 16 byte long string containing the raw globally unique identifier
(<FONT SIZE="-1">UUID</FONT>) for the storage pool.
<DT>my $uuid = $pool-&gt;<I>get_uuid_string()</I><DD>


<A NAME="ixAAF"></A>
Returns a printable string representation of the raw <FONT SIZE="-1">UUID</FONT>, in the format
'<FONT SIZE="-1">XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX</FONT>'.
<DT>my $name = $pool-&gt;<I>get_name()</I><DD>


<A NAME="ixAAG"></A>
Returns a string with a locally unique name of the storage pool
<DT>$pool-&gt;<I>is_active()</I><DD>


<A NAME="ixAAH"></A>
Returns a true value if the storage pool is currently running
<DT>$pool-&gt;<I>is_persistent()</I><DD>


<A NAME="ixAAI"></A>
Returns a true value if the storage pool has a persistent configuration
file defined
<DT>my $xml = $pool-&gt;<I>get_xml_description()</I><DD>


<A NAME="ixAAJ"></A>
Returns an <FONT SIZE="-1">XML</FONT> document containing a complete description of
the storage pool's configuration
<DT>$pool-&gt;<I>create()</I><DD>


<A NAME="ixAAK"></A>
Start a storage pool whose configuration was previously defined using the
<TT>&quot;define_storage_pool&quot;</TT> method in Sys::Virt.
<DT>$pool-&gt;<I>undefine()</I><DD>


<A NAME="ixAAL"></A>
Remove the configuration associated with a storage pool previously defined
with the <TT>&quot;define_storage pool&quot;</TT> method in Sys::Virt. If the storage pool is
running, you probably want to use the <TT>&quot;shutdown&quot;</TT> or <TT>&quot;destroy&quot;</TT>
methods instead.
<DT>$pool-&gt;<I>destroy()</I><DD>


<A NAME="ixAAM"></A>
Immediately terminate the machine, and remove it from the virtual
machine monitor. The <TT>$pool</TT> handle is invalid after this call
completes and should not be used again.
<DT>$flag = $pool-&gt;<I>get_autostart()</I>;<DD>


<A NAME="ixAAN"></A>
Return a true value if the storage pool is configured to automatically
start upon boot. Return false, otherwise
<DT>$pool-&gt;set_autostart($flag)<DD>


<A NAME="ixAAO"></A>
Set the state of the autostart flag, which determines whether the
storage pool will automatically start upon boot of the host <FONT SIZE="-1">OS</FONT>
<DT>$pool-&gt;refresh([$flags]);<DD>


<A NAME="ixAAP"></A>
Refresh the storage pool state. Typically this will rescan the list
of storage volumes. The <TT>$flags</TT> parameter is currently unused and
if omitted defaults to zero.
<DT>$pool-&gt;build([$flags]);<DD>


<A NAME="ixAAQ"></A>
Construct the storage pool if it does not exist. As an example, for
a disk based storage pool this would ensure a partition table exists.
The <TT>$flags</TT> parameter allows control over the build operation
and if omitted defaults to zero.
<DT>$pool-&gt;delete([$flags]);<DD>


<A NAME="ixAAR"></A>
Delete the storage pool. The <TT>$flags</TT> parameter allows the data to
be optionally wiped during delete and if omitted defaults to zero.
<DT>$info = $pool-&gt;<I>get_info()</I><DD>


<A NAME="ixAAS"></A>
Retrieve information about the current storage pool state. The
returned hash reference has the following keys
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT>state<DD>
<A NAME="ixAAT"></A>
The current status of the storage pool. See constants later.
<DT>capacity<DD>
<A NAME="ixAAU"></A>
The total logical size of the storage pool
<DT>allocation<DD>
<A NAME="ixAAV"></A>
The current physical allocation of the storage pool
<DT>available<DD>
<A NAME="ixAAW"></A>
The available space for creation of new volumes. This may
be less than the difference between capacity &amp; allocation
if there are sizing / metadata constraints for volumes
</DL>
</DL>

<DL COMPACT><DT><DD>
</DL>

<DT>my $nnames = $pool-&gt;<I>num_of_storage_volumes()</I><DD>


<A NAME="ixAAX"></A>
Return the number of running volumes in this storage pool. The value
can be used as the <TT>&quot;maxnames&quot;</TT> parameter to <TT>&quot;list_storage_vol_names&quot;</TT>.
<DT>my @volNames = $pool-&gt;list_storage_vol_names($maxnames)<DD>


<A NAME="ixAAY"></A>
Return a list of all volume names in this storage pool. The names can
be used with the <TT>&quot;get_volume_by_name&quot;</TT> method.
<DT>my @nets = $pool-&gt;<I>list_volumes()</I><DD>


<A NAME="ixAAZ"></A>
Return a list of all volumes in the storage pool.
The elements in the returned list are instances of the
Sys::Virt::StorageVol class.
<DT>my $vol = $pool-&gt;get_volume_by_name($name)<DD>


<A NAME="ixABA"></A>
Return the volume with a name of <TT>$name</TT>. The returned object is
an instance of the Sys::Virt::StorageVol class.
<DT>my $vol = $pool-&gt;create_volume($xml)<DD>


<A NAME="ixABB"></A>
Create a new volume based on the <FONT SIZE="-1">XML</FONT> description passed into the <TT>$xml</TT>
parameter. The returned object is an instance of the Sys::Virt::StorageVol
class. If the optional <TT>&quot;clonevol&quot;</TT> is provided, data will be copied from
that source volume
<DT>my $vol = $pool-&gt;clone_volume($xml, $clonevol);<DD>


<A NAME="ixABC"></A>
Create a new volume based on the <FONT SIZE="-1">XML</FONT> description passed into the <TT>$xml</TT>
parameter. The returned object is an instance of the Sys::Virt::StorageVol
class. The new volume will be populated with data from the specified clone
source volume.
</DL>
<A NAME="lbAE">&nbsp;</A>
<H2>CONSTANTS</H2>

<A NAME="ixABD"></A>
The following sets of constants may be useful in dealing with some of
the methods in this package
<A NAME="lbAF">&nbsp;</A>
<H3><FONT SIZE="-1">POOL</FONT> <FONT SIZE="-1">STATES</FONT></H3>

<A NAME="ixABE"></A>
The following constants are useful for interpreting the <TT>&quot;state&quot;</TT>
key value in the hash returned by <TT>&quot;get_info&quot;</TT>
<DL COMPACT>
<DT>Sys::Virt::StoragePool::STATE_INACTIVE<DD>
<A NAME="ixABF"></A>
The storage pool is not currently active
<DT>Sys::Virt::StoragePool::STATE_BUILDING<DD>
<A NAME="ixABG"></A>
The storage pool is still being constructed and is not ready for use
yet.
<DT>Sys::Virt::StoragePool::STATE_RUNNING<DD>
<A NAME="ixABH"></A>
The storage pool is running and can be queried for volumes
<DT>Sys::Virt::StoragePool::STATE_DEGRADED<DD>
<A NAME="ixABI"></A>
The storage pool is running, but its operation is degraded due
to a failure.
<DT>Sys::Virt::StoragePool::STATE_INACCESSIBLE<DD>
<A NAME="ixABJ"></A>
The storage pool is not currently accessible
</DL>
<A NAME="lbAG">&nbsp;</A>
<H3><FONT SIZE="-1">DELETION</FONT> <FONT SIZE="-1">MODES</FONT></H3>

<A NAME="ixABK"></A>
<DL COMPACT>
<DT>Sys::Virt::StoragePool::DELETE_NORMAL<DD>
<A NAME="ixABL"></A>
Delete the pool without any attempt to scrub data
<DT>Sys::Virt::StoragePool::DELETE_ZEROED<DD>
<A NAME="ixABM"></A>
Fill the allocated storage with zeros when deleting
</DL>
<A NAME="lbAH">&nbsp;</A>
<H3><FONT SIZE="-1">BUILD</FONT> <FONT SIZE="-1">MODES</FONT></H3>

<A NAME="ixABN"></A>
<DL COMPACT>
<DT>Sys::Virt::StoragePool::BUILD_NEW<DD>
<A NAME="ixABO"></A>
Construct a new storage pool from constituent bits
<DT>Sys::Virt::StoragePool::BUILD_RESIZE<DD>
<A NAME="ixABP"></A>
Resize an existing built storage pool preserving data where
appropriate
<DT>Sys::Virt::StoragePool::BUILD_REPAIR<DD>
<A NAME="ixABQ"></A>
Repair an existing storage pool operating in degraded mode
<DT>Sys::Virt::StoragePool::BUILD_NO_OVERWRITE<DD>
<A NAME="ixABR"></A>
Do not overwrite existing storage pool data
<DT>Sys::Virt::StoragePool::BUILD_OVERWRITE<DD>
<A NAME="ixABS"></A>
Overwrite existing storage pool data
</DL>
<A NAME="lbAI">&nbsp;</A>
<H2>AUTHORS</H2>

<A NAME="ixABT"></A>
Daniel P. Berrange &lt;<A HREF="mailto:berrange@redhat.com">berrange@redhat.com</A>&gt;
<A NAME="lbAJ">&nbsp;</A>
<H2>COPYRIGHT</H2>

<A NAME="ixABU"></A>
Copyright (C) 2006-2009 Red Hat
Copyright (C) 2006-2009 Daniel P. Berrange
<A NAME="lbAK">&nbsp;</A>
<H2>LICENSE</H2>

<A NAME="ixABV"></A>
This program is free software; you can redistribute it and/or modify
it under the terms of either the <FONT SIZE="-1">GNU</FONT> General Public License as published
by the Free Software Foundation (either version 2 of the License, or at
your option any later version), or, the Artistic License, as specified
in the Perl <FONT SIZE="-1">README</FONT> file.
<A NAME="lbAL">&nbsp;</A>
<H2>SEE ALSO</H2>

<A NAME="ixABW"></A>
Sys::Virt, Sys::Virt::Error, <TT>&quot;<A HREF="http://libvirt.org">http://libvirt.org</A>&quot;</TT>
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">DESCRIPTION</A><DD>
<DT><A HREF="#lbAD">METHODS</A><DD>
<DT><A HREF="#lbAE">CONSTANTS</A><DD>
<DL>
<DT><A HREF="#lbAF"><FONT SIZE="-1">POOL</FONT> <FONT SIZE="-1">STATES</FONT></A><DD>
<DT><A HREF="#lbAG"><FONT SIZE="-1">DELETION</FONT> <FONT SIZE="-1">MODES</FONT></A><DD>
<DT><A HREF="#lbAH"><FONT SIZE="-1">BUILD</FONT> <FONT SIZE="-1">MODES</FONT></A><DD>
</DL>
<DT><A HREF="#lbAI">AUTHORS</A><DD>
<DT><A HREF="#lbAJ">COPYRIGHT</A><DD>
<DT><A HREF="#lbAK">LICENSE</A><DD>
<DT><A HREF="#lbAL">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:43 GMT, December 24, 2015
</div></body>
</HTML>
