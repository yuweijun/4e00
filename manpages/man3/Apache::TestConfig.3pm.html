<!DOCTYPE html>

<HTML><head><TITLE>Manpage of Apache::TestConfig</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content"><div class="wrap">
<H1>Apache::TestConfig</H1>
Section: User Contributed Perl Documentation (3)<BR>Updated: 2007-12-31<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

Apache::TestConfigData - Configuration file for Apache::Test
<A NAME="lbAC">&nbsp;</A>
<H2>NAME</H2>

Apache::TestConfig -- Test Configuration setup module
<A NAME="lbAD">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>


<PRE>
  use Apache::TestConfig;

  my $cfg = Apache::TestConfig-&gt;new(%args)
  my $fh = $cfg-&gt;genfile($file);
  $cfg-&gt;writefile($file, $content);
  $cfg-&gt;gendir($dir);
  ...

</PRE>


<A NAME="lbAE">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAD"></A>
<TT>&quot;Apache::TestConfig&quot;</TT> is used in creating the <TT>&quot;Apache::Test&quot;</TT>
configuration files.
<A NAME="lbAF">&nbsp;</A>
<H2>FUNCTIONS</H2>

<A NAME="ixAAE"></A>
<DL COMPACT>
<DT><I>genwarning()</I><DD>
<A NAME="ixAAF"></A>


<PRE>
  my $warn = $cfg-&gt;genwarning($filename)

</PRE>




<P>


<I>genwarning()</I> returns a warning string as a comment, saying that the
file was autogenerated and that it's not a good idea to modify this
file. After the warning a perl trace of calls to this this function is
appended. This trace is useful for finding what code has created the
file.


<P>




<PRE>
  my $warn = $cfg-&gt;genwarning($filename, $from_filename)

</PRE>




<P>


If <TT>$from_filename</TT> is specified it'll be used in the warning to tell
which file it was generated from.


<P>


<I>genwarning()</I> automatically recognizes the comment type based on the
file extension. If the extension is not recognized, the default <TT>&quot;#&quot;</TT>
style is used.


<P>


Currently it support <TT>&quot;&lt;!-- --&gt;&quot;</TT>, <TT>&quot;/* ... */&quot;</TT> and <TT>&quot;#&quot;</TT>
styles.
<DT><I>genfile()</I><DD>
<A NAME="ixAAG"></A>


<PRE>
  my $fh = $cfg-&gt;genfile($file);

</PRE>




<P>


<I>genfile()</I> creates a new file <TT>$file</TT> for writing and returns a file
handle.


<P>


If parent directories of <TT>$file</TT> don't exist they will be
automagically created.


<P>


The file <TT>$file</TT> and any created parent directories (if found empty)
will be automatically removed on cleanup.


<P>


A comment with a warning and calls trace is added to the top of this
file. See <I>genwarning()</I> for more info about this comment.


<P>




<PRE>
  my $fh = $cfg-&gt;genfile($file, $from_file);

</PRE>




<P>


If <TT>$from_filename</TT> is specified it'll be used in the warning to tell
which file it was generated from.


<P>




<PRE>
  my $fh = $cfg-&gt;genfile($file, $from_file, $nowarning);

</PRE>




<P>


If <TT>$nowarning</TT> is true, the warning won't be added. If using this
optional argument and there is no <TT>$from_file</TT> you must pass undef as
in:


<P>




<PRE>
  my $fh = $cfg-&gt;genfile($file, undef, $nowarning);

</PRE>


<DT><I>writefile()</I><DD>
<A NAME="ixAAH"></A>


<PRE>
  $cfg-&gt;writefile($file, $content, [$nowarning]);

</PRE>




<P>


<I>writefile()</I> creates a new file <TT>$file</TT> with the content of
<TT>$content</TT>.


<P>


A comment with a warning and calls trace is added to the top of this
file unless <TT>$nowarnings</TT> is passed and set to a true value. See
<I>genwarning()</I> for more info about this comment.


<P>


If parent directories of <TT>$file</TT> don't exist they will be
automagically created.


<P>


The file <TT>$file</TT> and any created parent directories (if found empty)
will be automatically removed on cleanup.
<DT><I>write_perlscript()</I><DD>
<A NAME="ixAAI"></A>


<PRE>
  $cfg-&gt;write_perlscript($filename, @lines);

</PRE>




<P>


Similar to <I>writefile()</I> but creates an executable Perl script with
correctly set shebang line.
<DT><I>gendir()</I><DD>
<A NAME="ixAAJ"></A>


<PRE>
  $cfg-&gt;gendir($dir);

</PRE>




<P>


<I>gendir()</I> creates a new directory <TT>$dir</TT>.


<P>


If parent directories of <TT>$dir</TT> don't exist they will be
automagically created.


<P>


The directory <TT>$dir</TT> and any created parent directories will be
automatically removed on cleanup if found empty.
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>Environment Variables</H2>

<A NAME="ixAAK"></A>
The following environment variables affect the configuration and the
run-time of the <TT>&quot;Apache::Test&quot;</TT> framework:
<A NAME="lbAH">&nbsp;</A>
<H3><FONT SIZE="-1">APACHE_TEST_COLOR</FONT></H3>

<A NAME="ixAAL"></A>
To aid visual control over the configuration process and the run-time
phase, <TT>&quot;Apache::Test&quot;</TT> uses coloured fonts when the environment
variable <TT>&quot;APACHE_TEST_COLOR&quot;</TT> is set to a true value.
<A NAME="lbAI">&nbsp;</A>
<H3><FONT SIZE="-1">APACHE_TEST_LIVE_DEV</FONT></H3>

<A NAME="ixAAM"></A>
When using <TT>&quot;Apache::Test&quot;</TT> during the project development phase, it's
often convenient to have the <I>project/lib</I> (live) directory appearing
first in <TT>@INC</TT> so any changes to the Perl modules, residing in it,
immediately affect the server, without a need to rerun <TT>&quot;make&quot;</TT> to
update <I>blib/lib</I>. When the environment variable
<TT>&quot;APACHE_TEST_LIVE_DEV&quot;</TT> is set to a true value during the
configuration phase (<TT>&quot;t/TEST -config&quot;</TT>, <TT>&quot;Apache::Test&quot;</TT> will
automatically unshift the <I>project/lib</I> directory into <TT>@INC</TT>, via
the autogenerated <I>t/conf/modperl_inc.pl</I> file.
<A NAME="lbAJ">&nbsp;</A>
<H3><FONT SIZE="-1">APACHE_TEST_INTERACTIVE_PROMPT_OK</FONT></H3>

<A NAME="ixAAN"></A>
Normally interactive prompts aren't run when <FONT SIZE="-1">STDIN</FONT> is not attached to
a tty. But sometimes there is a program that can answer the prompts
(e.g. when testing A-T itself). If this variable is true the
interactive config won't be skipped (if needed).
<A NAME="lbAK">&nbsp;</A>
<H2>Special Placeholders</H2>

<A NAME="ixAAO"></A>
When generating configuration files from the <I>*.in</I> templates,
special placeholder variables get substituted. To embed a placeholder
use the <TT>&quot;@foo@&quot;</TT> syntax. For example in <I>extra.conf.in</I> you can
write:
<P>



<PRE>
  Include @ServerRoot@/conf/myconfig.conf

</PRE>


<P>

When <I>extra.conf</I> is generated, <TT>&quot;@ServerRoot@&quot;</TT> will get replaced
with the location of the server root.
<P>

Placeholders are case-insensitive.
<P>

Available placeholders:
<A NAME="lbAL">&nbsp;</A>
<H3>Configuration Options</H3>

<A NAME="ixAAP"></A>
All configuration variables that can be passed to <TT>&quot;t/TEST&quot;</TT>, such as
<TT>&quot;MaxClients&quot;</TT>, <TT>&quot;DocumentRoot&quot;</TT>, <TT>&quot;ServerRoot&quot;</TT>, etc. To see the
complete list run:
<P>



<PRE>
  % t/TEST --help

</PRE>


<P>

and you will find them in the <TT>&quot;configuration options&quot;</TT> sections.
<A NAME="lbAM">&nbsp;</A>
<H3>NextAvailablePort</H3>

<A NAME="ixAAQ"></A>
Every time this placeholder is encountered it'll be replaced with the
next available port. This is very useful if you need to allocate a
special port, but not hardcode it. Later when running:
<P>



<PRE>
  % t/TEST -port=select

</PRE>


<P>

it's possible to run several concurrent test suites on the same
machine, w/o having port collisions.
<A NAME="lbAN">&nbsp;</A>
<H2>AUTHOR</H2>

<A NAME="ixAAR"></A>
<A NAME="lbAO">&nbsp;</A>
<H2>SEE ALSO</H2>

<A NAME="ixAAS"></A>
<I><A HREF="/manpages/index.html?1+perl">perl</A></I>(1), <I><A HREF="http://localhost/cgi-bin/man/man2html?3+Apache::Test">Apache::Test</A></I>(3)
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">NAME</A><DD>
<DT><A HREF="#lbAD">SYNOPSIS</A><DD>
<DT><A HREF="#lbAE">DESCRIPTION</A><DD>
<DT><A HREF="#lbAF">FUNCTIONS</A><DD>
<DT><A HREF="#lbAG">Environment Variables</A><DD>
<DL>
<DT><A HREF="#lbAH"><FONT SIZE="-1">APACHE_TEST_COLOR</FONT></A><DD>
<DT><A HREF="#lbAI"><FONT SIZE="-1">APACHE_TEST_LIVE_DEV</FONT></A><DD>
<DT><A HREF="#lbAJ"><FONT SIZE="-1">APACHE_TEST_INTERACTIVE_PROMPT_OK</FONT></A><DD>
</DL>
<DT><A HREF="#lbAK">Special Placeholders</A><DD>
<DL>
<DT><A HREF="#lbAL">Configuration Options</A><DD>
<DT><A HREF="#lbAM">NextAvailablePort</A><DD>
</DL>
<DT><A HREF="#lbAN">AUTHOR</A><DD>
<DT><A HREF="#lbAO">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:11 GMT, December 24, 2015
</div></div>
</body>
</HTML>
