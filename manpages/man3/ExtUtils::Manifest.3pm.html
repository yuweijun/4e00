<!DOCTYPE html>

<HTML><head><TITLE>Manpage of ExtUtils::Manifest</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>ExtUtils::Manifest</H1>
Section: Perl Programmers Reference Guide (3pm)<BR>Updated: 2009-04-11<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

ExtUtils::Manifest - utilities to write and check a MANIFEST file
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>


<PRE>
    use ExtUtils::Manifest qw(...funcs to import...);

    mkmanifest();

    my @missing_files    = manicheck;
    my @skipped          = skipcheck;
    my @extra_files      = filecheck;
    my($missing, $extra) = fullcheck;

    my $found    = manifind();

    my $manifest = maniread();

    manicopy($read,$target);

    maniadd({$file =&gt; $comment, ...});

</PRE>


<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAD"></A>
<A NAME="lbAE">&nbsp;</A>
<H3>Functions</H3>

<A NAME="ixAAE"></A>
ExtUtils::Manifest exports no functions by default.  The following are
exported on request
<DL COMPACT>
<DT>mkmanifest<DD>
<A NAME="ixAAF"></A>


<PRE>
    mkmanifest();

</PRE>




<P>


Writes all files in and below the current directory to your <I></I><FONT SIZE="-1"><I>MANIFEST</I></FONT><I></I>.
It works similar to the result of the Unix command


<P>




<PRE>
    find . &gt; MANIFEST

</PRE>




<P>


All files that match any regular expression in a file <I></I><FONT SIZE="-1"><I>MANIFEST</I></FONT><I>.SKIP</I>
(if it exists) are ignored.


<P>


Any existing <I></I><FONT SIZE="-1"><I>MANIFEST</I></FONT><I></I> file will be saved as <I></I><FONT SIZE="-1"><I>MANIFEST</I></FONT><I>.bak</I>.
<DT>manifind<DD>
<A NAME="ixAAG"></A>


<PRE>
    my $found = manifind();

</PRE>




<P>


returns a hash reference. The keys of the hash are the files found
below the current directory.
<DT>manicheck<DD>
<A NAME="ixAAH"></A>


<PRE>
    my @missing_files = manicheck();

</PRE>




<P>


checks if all the files within a <TT>&quot;MANIFEST&quot;</TT> in the current directory
really do exist. If <TT>&quot;MANIFEST&quot;</TT> and the tree below the current
directory are in sync it silently returns an empty list.
Otherwise it returns a list of files which are listed in the
<TT>&quot;MANIFEST&quot;</TT> but missing from the directory, and by default also
outputs these names to <FONT SIZE="-1">STDERR</FONT>.
<DT>filecheck<DD>
<A NAME="ixAAI"></A>


<PRE>
    my @extra_files = filecheck();

</PRE>




<P>


finds files below the current directory that are not mentioned in the
<TT>&quot;MANIFEST&quot;</TT> file. An optional file <TT>&quot;MANIFEST.SKIP&quot;</TT> will be
consulted. Any file matching a regular expression in such a file will
not be reported as missing in the <TT>&quot;MANIFEST&quot;</TT> file. The list of any
extraneous files found is returned, and by default also reported to
<FONT SIZE="-1">STDERR</FONT>.
<DT>fullcheck<DD>
<A NAME="ixAAJ"></A>


<PRE>
    my($missing, $extra) = fullcheck();

</PRE>




<P>


does both a <I>manicheck()</I> and a <I>filecheck()</I>, returning then as two array
refs.
<DT>skipcheck<DD>
<A NAME="ixAAK"></A>


<PRE>
    my @skipped = skipcheck();

</PRE>




<P>


lists all the files that are skipped due to your <TT>&quot;MANIFEST.SKIP&quot;</TT>
file.
<DT>maniread<DD>
<A NAME="ixAAL"></A>


<PRE>
    my $manifest = maniread();
    my $manifest = maniread($manifest_file);

</PRE>




<P>


reads a named <TT>&quot;MANIFEST&quot;</TT> file (defaults to <TT>&quot;MANIFEST&quot;</TT> in the current
directory) and returns a <FONT SIZE="-1">HASH</FONT> reference with files being the keys and
comments being the values of the <FONT SIZE="-1">HASH</FONT>.  Blank lines and lines which
start with <TT>&quot;#&quot;</TT> in the <TT>&quot;MANIFEST&quot;</TT> file are discarded.
<DT>maniskip<DD>
<A NAME="ixAAM"></A>


<PRE>
    my $skipchk = maniskip();
    my $skipchk = maniskip($manifest_skip_file);

    if ($skipchk-&gt;($file)) { .. }

</PRE>




<P>


reads a named <TT>&quot;MANIFEST.SKIP&quot;</TT> file (defaults to <TT>&quot;MANIFEST.SKIP&quot;</TT> in
the current directory) and returns a <FONT SIZE="-1">CODE</FONT> reference that tests whether
a given filename should be skipped.
<DT>manicopy<DD>
<A NAME="ixAAN"></A>


<PRE>
    manicopy(\%src, $dest_dir);
    manicopy(\%src, $dest_dir, $how);

</PRE>




<P>


Copies the files that are the keys in <TT>%src</TT> to the <TT>$dest_dir</TT>.  <TT>%src</TT> is
typically returned by the <I>maniread()</I> function.


<P>




<PRE>
    manicopy( maniread(), $dest_dir );

</PRE>




<P>


This function is useful for producing a directory tree identical to the 
intended distribution tree.


<P>


<TT>$how</TT> can be used to specify a different methods of ``copying''.  Valid
values are <TT>&quot;cp&quot;</TT>, which actually copies the files, <TT>&quot;ln&quot;</TT> which creates
hard links, and <TT>&quot;best&quot;</TT> which mostly links the files but copies any
symbolic link to make a tree without any symbolic link.  <TT>&quot;cp&quot;</TT> is the 
default.
<DT>maniadd<DD>
<A NAME="ixAAO"></A>


<PRE>
  maniadd({ $file =&gt; $comment, ...});

</PRE>




<P>


Adds an entry to an existing <I></I><FONT SIZE="-1"><I>MANIFEST</I></FONT><I></I> unless its already there.


<P>


<TT>$file</TT> will be normalized (ie. Unixified).  <B></B><FONT SIZE="-1"><B>UNIMPLEMENTED</B></FONT><B></B>
</DL>
<A NAME="lbAF">&nbsp;</A>
<H3><FONT SIZE="-1">MANIFEST</FONT></H3>

<A NAME="ixAAP"></A>
A list of files in the distribution, one file per line.  The <FONT SIZE="-1">MANIFEST</FONT>
always uses Unix filepath conventions even if you're not on Unix.  This
means <I>foo/bar</I> style not <I>foo\bar</I>.
<P>

Anything between white space and an end of line within a <TT>&quot;MANIFEST&quot;</TT>
file is considered to be a comment.  Any line beginning with # is also
a comment. Beginning with ExtUtils::Manifest 1.52, a filename may
contain whitespace characters if it is enclosed in single quotes; single
quotes or backslashes in that filename must be backslash-escaped.
<P>



<PRE>
    # this a comment
    some/file
    some/other/file            comment about some/file
    'some/third file'          comment

</PRE>


<A NAME="lbAG">&nbsp;</A>
<H3><FONT SIZE="-1">MANIFEST</FONT>.SKIP</H3>

<A NAME="ixAAQ"></A>
The file <FONT SIZE="-1">MANIFEST</FONT>.SKIP may contain regular expressions of files that
should be ignored by <I>mkmanifest()</I> and <I>filecheck()</I>. The regular
expressions should appear one on each line. Blank lines and lines
which start with <TT>&quot;#&quot;</TT> are skipped.  Use <TT>&quot;\#&quot;</TT> if you need a regular
expression to start with a <TT>&quot;#&quot;</TT>.
<P>

For example:
<P>



<PRE>
    # Version control files and dirs.
    \bRCS\b
    \bCVS\b
    ,v$
    \B\.svn\b

    # Makemaker generated files and dirs.
    ^MANIFEST\.
    ^Makefile$
    ^blib/
    ^MakeMaker-\d

    # Temp, old and emacs backup files.
    ~$
    \.old$
    ^#.*#$
    ^\.#

</PRE>


<P>

If no <FONT SIZE="-1">MANIFEST</FONT>.SKIP file is found, a default set of skips will be
used, similar to the example above.  If you want nothing skipped,
simply make an empty <FONT SIZE="-1">MANIFEST</FONT>.SKIP file.
<P>

In one's own <FONT SIZE="-1">MANIFEST</FONT>.SKIP file, certain directives
can be used to include the contents of other <FONT SIZE="-1">MANIFEST</FONT>.SKIP
files. At present two such directives are recognized.
<DL COMPACT>
<DT>#!include_default<DD>
<A NAME="ixAAR"></A>
This inserts the contents of the default <FONT SIZE="-1">MANIFEST</FONT>.SKIP file
<DT>#!include /Path/to/another/manifest.skip<DD>
<A NAME="ixAAS"></A>
This inserts the contents of the specified external file
</DL>
<P>

The included contents will be inserted into the <FONT SIZE="-1">MANIFEST</FONT>.SKIP
file in between <I>#!start included /path/to/manifest.skip</I>
and <I>#!end included /path/to/manifest.skip</I> markers.
The original <FONT SIZE="-1">MANIFEST</FONT>.SKIP is saved as <FONT SIZE="-1">MANIFEST</FONT>.SKIP.bak.
<A NAME="lbAH">&nbsp;</A>
<H3><FONT SIZE="-1">EXPORT_OK</FONT></H3>

<A NAME="ixAAT"></A>
<TT>&amp;mkmanifest</TT>, <TT>&amp;manicheck</TT>, <TT>&amp;filecheck</TT>, <TT>&amp;fullcheck</TT>,
<TT>&amp;maniread</TT>, and <TT>&amp;manicopy</TT> are exportable.
<A NAME="lbAI">&nbsp;</A>
<H3><FONT SIZE="-1">GLOBAL</FONT> <FONT SIZE="-1">VARIABLES</FONT></H3>

<A NAME="ixAAU"></A>
<TT>$ExtUtils::Manifest::MANIFEST</TT> defaults to <TT>&quot;MANIFEST&quot;</TT>. Changing it
results in both a different <TT>&quot;MANIFEST&quot;</TT> and a different
<TT>&quot;MANIFEST.SKIP&quot;</TT> file. This is useful if you want to maintain
different distributions for different audiences (say a user version
and a developer version including <FONT SIZE="-1">RCS</FONT>).
<P>

<TT>$ExtUtils::Manifest::Quiet</TT> defaults to 0. If set to a true value,
all functions act silently.
<P>

<TT>$ExtUtils::Manifest::Debug</TT> defaults to 0.  If set to a true value,
or if <FONT SIZE="-1">PERL_MM_MANIFEST_DEBUG</FONT> is true, debugging output will be
produced.
<A NAME="lbAJ">&nbsp;</A>
<H2>DIAGNOSTICS</H2>

<A NAME="ixAAV"></A>
All diagnostic output is sent to <TT>&quot;STDERR&quot;</TT>.
<DL COMPACT>
<DT>Not in MANIFEST: <I>file</I><DD>


<A NAME="ixAAW"></A>
is reported if a file is found which is not in <TT>&quot;MANIFEST&quot;</TT>.
<DT>Skipping <I>file</I><DD>


<A NAME="ixAAX"></A>
is reported if a file is skipped due to an entry in <TT>&quot;MANIFEST.SKIP&quot;</TT>.
<DT>No such file: <I>file</I><DD>


<A NAME="ixAAY"></A>
is reported if a file mentioned in a <TT>&quot;MANIFEST&quot;</TT> file does not
exist.
<DT>MANIFEST: <I>$!</I><DD>


<A NAME="ixAAZ"></A>
is reported if <TT>&quot;MANIFEST&quot;</TT> could not be opened.
<DT>Added to MANIFEST: <I>file</I><DD>


<A NAME="ixABA"></A>
is reported by <I>mkmanifest()</I> if <TT>$Verbose</TT> is set and a file is added
to <FONT SIZE="-1">MANIFEST</FONT>. <TT>$Verbose</TT> is set to 1 by default.
</DL>
<A NAME="lbAK">&nbsp;</A>
<H2>ENVIRONMENT</H2>

<A NAME="ixABB"></A>
<DL COMPACT>
<DT><B></B><FONT SIZE="-1"><B>PERL_MM_MANIFEST_DEBUG</B></FONT><B></B><DD>
<A NAME="ixABC"></A>
Turns on debugging
</DL>
<A NAME="lbAL">&nbsp;</A>
<H2>SEE ALSO</H2>

<A NAME="ixABD"></A>
ExtUtils::MakeMaker which has handy targets for most of the functionality.
<A NAME="lbAM">&nbsp;</A>
<H2>AUTHOR</H2>

<A NAME="ixABE"></A>
Andreas Koenig <TT>&quot;<A HREF="mailto:andreas.koenig@anima.de">andreas.koenig@anima.de</A>&quot;</TT>
<P>

Maintained by Michael G Schwern <TT>&quot;<A HREF="mailto:schwern@pobox.com">schwern@pobox.com</A>&quot;</TT> within the
ExtUtils-MakeMaker package and, as a separate <FONT SIZE="-1">CPAN</FONT> package, by
Randy Kobes <TT>&quot;<A HREF="mailto:r.kobes@uwinnipeg.ca">r.kobes@uwinnipeg.ca</A>&quot;</TT>.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DL>
<DT><A HREF="#lbAE">Functions</A><DD>
<DT><A HREF="#lbAF"><FONT SIZE="-1">MANIFEST</FONT></A><DD>
<DT><A HREF="#lbAG"><FONT SIZE="-1">MANIFEST</FONT>.SKIP</A><DD>
<DT><A HREF="#lbAH"><FONT SIZE="-1">EXPORT_OK</FONT></A><DD>
<DT><A HREF="#lbAI"><FONT SIZE="-1">GLOBAL</FONT> <FONT SIZE="-1">VARIABLES</FONT></A><DD>
</DL>
<DT><A HREF="#lbAJ">DIAGNOSTICS</A><DD>
<DT><A HREF="#lbAK">ENVIRONMENT</A><DD>
<DT><A HREF="#lbAL">SEE ALSO</A><DD>
<DT><A HREF="#lbAM">AUTHOR</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:26 GMT, December 24, 2015
</div></body>
</HTML>
