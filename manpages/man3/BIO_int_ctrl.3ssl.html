<!DOCTYPE html>

<HTML><head><TITLE>Manpage of BIO_ctrl</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>BIO_ctrl</H1>
Section: OpenSSL (3)<BR>Updated: 2000-09-18<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

BIO_ctrl, BIO_callback_ctrl, BIO_ptr_ctrl, BIO_int_ctrl, BIO_reset,
BIO_seek, BIO_tell, BIO_flush, BIO_eof, BIO_set_close, BIO_get_close,
BIO_pending, BIO_wpending, BIO_ctrl_pending, BIO_ctrl_wpending,
BIO_get_info_callback, BIO_set_info_callback - BIO control operations
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>


<PRE>
 #include &lt;<A HREF="file:/usr/include/openssl/bio.h">openssl/bio.h</A>&gt;

 long BIO_ctrl(BIO *bp,int cmd,long larg,void *parg);
 long BIO_callback_ctrl(BIO *b, int cmd, void (*fp)(struct bio_st *, int, const char *, int, long, long));
 char * BIO_ptr_ctrl(BIO *bp,int cmd,long larg);
 long BIO_int_ctrl(BIO *bp,int cmd,long larg,int iarg);

 int BIO_reset(BIO *b);
 int BIO_seek(BIO *b, int ofs);
 int BIO_tell(BIO *b);
 int BIO_flush(BIO *b);
 int BIO_eof(BIO *b);
 int BIO_set_close(BIO *b,long flag);
 int BIO_get_close(BIO *b);
 int BIO_pending(BIO *b);
 int BIO_wpending(BIO *b);
 size_t BIO_ctrl_pending(BIO *b);
 size_t BIO_ctrl_wpending(BIO *b);

 int BIO_get_info_callback(BIO *b,bio_info_cb **cbp);
 int BIO_set_info_callback(BIO *b,bio_info_cb *cb);

 typedef void bio_info_cb(BIO *b, int oper, const char *ptr, int arg1, long arg2, long arg3);

</PRE>


<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAD"></A>
<I>BIO_ctrl()</I>, <I>BIO_callback_ctrl()</I>, <I>BIO_ptr_ctrl()</I> and <I>BIO_int_ctrl()</I>
are <FONT SIZE="-1">BIO</FONT> ``control'' operations taking arguments of various types.
These functions are not normally called directly, various macros
are used instead. The standard macros are described below, macros
specific to a particular type of <FONT SIZE="-1">BIO</FONT> are described in the specific
BIOs manual page as well as any special features of the standard
calls.
<P>

<I>BIO_reset()</I> typically resets a <FONT SIZE="-1">BIO</FONT> to some initial state, in the case
of file related BIOs for example it rewinds the file pointer to the
start of the file.
<P>

<I>BIO_seek()</I> resets a file related <FONT SIZE="-1">BIO</FONT>'s (that is file descriptor and
<FONT SIZE="-1">FILE</FONT> BIOs) file position pointer to <B>ofs</B> bytes from start of file.
<P>

<I>BIO_tell()</I> returns the current file position of a file related <FONT SIZE="-1">BIO</FONT>.
<P>

<I>BIO_flush()</I> normally writes out any internally buffered data, in some
cases it is used to signal <FONT SIZE="-1">EOF</FONT> and that no more data will be written.
<P>

<I>BIO_eof()</I> returns 1 if the <FONT SIZE="-1">BIO</FONT> has read <FONT SIZE="-1">EOF</FONT>, the precise meaning of
``<FONT SIZE="-1">EOF</FONT>'' varies according to the <FONT SIZE="-1">BIO</FONT> type.
<P>

<I>BIO_set_close()</I> sets the <FONT SIZE="-1">BIO</FONT> <B>b</B> close flag to <B>flag</B>. <B>flag</B> can
take the value <FONT SIZE="-1">BIO_CLOSE</FONT> or <FONT SIZE="-1">BIO_NOCLOSE</FONT>. Typically <FONT SIZE="-1">BIO_CLOSE</FONT> is used
in a source/sink <FONT SIZE="-1">BIO</FONT> to indicate that the underlying I/O stream should
be closed when the <FONT SIZE="-1">BIO</FONT> is freed.
<P>

<I>BIO_get_close()</I> returns the BIOs close flag.
<P>

<I>BIO_pending()</I>, <I>BIO_ctrl_pending()</I>, <I>BIO_wpending()</I> and <I>BIO_ctrl_wpending()</I>
return the number of pending characters in the BIOs read and write buffers.
Not all BIOs support these calls. <I>BIO_ctrl_pending()</I> and <I>BIO_ctrl_wpending()</I>
return a size_t type and are functions, <I>BIO_pending()</I> and <I>BIO_wpending()</I> are
macros which call <I>BIO_ctrl()</I>.
<A NAME="lbAE">&nbsp;</A>
<H2>RETURN VALUES</H2>

<A NAME="ixAAE"></A>
<I>BIO_reset()</I> normally returns 1 for success and 0 or -1 for failure. File
BIOs are an exception, they return 0 for success and -1 for failure.
<P>

<I>BIO_seek()</I> and <I>BIO_tell()</I> both return the current file position on success
and -1 for failure, except file BIOs which for <I>BIO_seek()</I> always return 0
for success and -1 for failure.
<P>

<I>BIO_flush()</I> returns 1 for success and 0 or -1 for failure.
<P>

<I>BIO_eof()</I> returns 1 if <FONT SIZE="-1">EOF</FONT> has been reached 0 otherwise.
<P>

<I>BIO_set_close()</I> always returns 1.
<P>

<I>BIO_get_close()</I> returns the close flag value: <FONT SIZE="-1">BIO_CLOSE</FONT> or <FONT SIZE="-1">BIO_NOCLOSE</FONT>.
<P>

<I>BIO_pending()</I>, <I>BIO_ctrl_pending()</I>, <I>BIO_wpending()</I> and <I>BIO_ctrl_wpending()</I>
return the amount of pending data.
<A NAME="lbAF">&nbsp;</A>
<H2>NOTES</H2>

<A NAME="ixAAF"></A>
<I>BIO_flush()</I>, because it can write data may return 0 or -1 indicating
that the call should be retried later in a similar manner to <I>BIO_write()</I>. 
The <I>BIO_should_retry()</I> call should be used and appropriate action taken
is the call fails.
<P>

The return values of <I>BIO_pending()</I> and <I>BIO_wpending()</I> may not reliably
determine the amount of pending data in all cases. For example in the
case of a file <FONT SIZE="-1">BIO</FONT> some data may be available in the <FONT SIZE="-1">FILE</FONT> structures
internal buffers but it is not possible to determine this in a
portably way. For other types of <FONT SIZE="-1">BIO</FONT> they may not be supported.
<P>

Filter BIOs if they do not internally handle a particular <I>BIO_ctrl()</I>
operation usually pass the operation to the next <FONT SIZE="-1">BIO</FONT> in the chain.
This often means there is no need to locate the required <FONT SIZE="-1">BIO</FONT> for
a particular operation, it can be called on a chain and it will
be automatically passed to the relevant <FONT SIZE="-1">BIO</FONT>. However this can cause
unexpected results: for example no current filter BIOs implement
<I>BIO_seek()</I>, but this may still succeed if the chain ends in a <FONT SIZE="-1">FILE</FONT>
or file descriptor <FONT SIZE="-1">BIO</FONT>.
<P>

Source/sink BIOs return an 0 if they do not recognize the <I>BIO_ctrl()</I>
operation.
<A NAME="lbAG">&nbsp;</A>
<H2>BUGS</H2>

<A NAME="ixAAG"></A>
Some of the return values are ambiguous and care should be taken. In
particular a return value of 0 can be returned if an operation is not
supported, if an error occurred, if <FONT SIZE="-1">EOF</FONT> has not been reached and in
the case of <I>BIO_seek()</I> on a file <FONT SIZE="-1">BIO</FONT> for a successful operation.
<A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>

<A NAME="ixAAH"></A>
<FONT SIZE="-1">TBA</FONT>
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">RETURN VALUES</A><DD>
<DT><A HREF="#lbAF">NOTES</A><DD>
<DT><A HREF="#lbAG">BUGS</A><DD>
<DT><A HREF="#lbAH">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:13 GMT, December 24, 2015
</div></body>
</HTML>
