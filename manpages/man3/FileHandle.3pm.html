<!DOCTYPE html>

<HTML><head><TITLE>Manpage of FileHandle</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux man pages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>FileHandle</H1>
Section: Perl Programmers Reference Guide (3pm)<BR>Updated: 2009-07-03<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

FileHandle - supply object methods for filehandles
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>


<PRE>
    use FileHandle;

    $fh = FileHandle-&gt;new;
    if ($fh-&gt;open(&quot;&lt; file&quot;)) {
        print &lt;$fh&gt;;
        $fh-&gt;close;
    }

    $fh = FileHandle-&gt;new(&quot;&gt; FOO&quot;);
    if (defined $fh) {
        print $fh &quot;bar\n&quot;;
        $fh-&gt;close;
    }

    $fh = FileHandle-&gt;new(&quot;file&quot;, &quot;r&quot;);
    if (defined $fh) {
        print &lt;$fh&gt;;
        undef $fh;       # automatically closes the file
    }

    $fh = FileHandle-&gt;new(&quot;file&quot;, O_WRONLY|O_APPEND);
    if (defined $fh) {
        print $fh &quot;corge\n&quot;;
        undef $fh;       # automatically closes the file
    }

    $pos = $fh-&gt;getpos;
    $fh-&gt;setpos($pos);

    $fh-&gt;setvbuf($buffer_var, _IOLBF, 1024);

    ($readfh, $writefh) = FileHandle::pipe;

    autoflush STDOUT 1;

</PRE>


<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAD"></A>
<FONT SIZE="-1">NOTE:</FONT> This class is now a front-end to the IO::* classes.
<P>

<TT>&quot;FileHandle::new&quot;</TT> creates a <TT>&quot;FileHandle&quot;</TT>, which is a reference to a
newly created symbol (see the <TT>&quot;Symbol&quot;</TT> package).  If it receives any
parameters, they are passed to <TT>&quot;FileHandle::open&quot;</TT>; if the open fails,
the <TT>&quot;FileHandle&quot;</TT> object is destroyed.  Otherwise, it is returned to
the caller.
<P>

<TT>&quot;FileHandle::new_from_fd&quot;</TT> creates a <TT>&quot;FileHandle&quot;</TT> like <TT>&quot;new&quot;</TT> does.
It requires two parameters, which are passed to <TT>&quot;FileHandle::fdopen&quot;</TT>;
if the fdopen fails, the <TT>&quot;FileHandle&quot;</TT> object is destroyed.
Otherwise, it is returned to the caller.
<P>

<TT>&quot;FileHandle::open&quot;</TT> accepts one parameter or two.  With one parameter,
it is just a front end for the built-in <TT>&quot;open&quot;</TT> function.  With two
parameters, the first parameter is a filename that may include
whitespace or other special characters, and the second parameter is
the open mode, optionally followed by a file permission value.
<P>

If <TT>&quot;FileHandle::open&quot;</TT> receives a Perl mode string (``&gt;'', ``+&lt;'', etc.)
or a <FONT SIZE="-1">POSIX</FONT> <I>fopen()</I> mode string (``w'', ``r+'', etc.), it uses the basic
Perl <TT>&quot;open&quot;</TT> operator.
<P>

If <TT>&quot;FileHandle::open&quot;</TT> is given a numeric mode, it passes that mode
and the optional permissions value to the Perl <TT>&quot;sysopen&quot;</TT> operator.
For convenience, <TT>&quot;FileHandle::import&quot;</TT> tries to import the O_XXX
constants from the Fcntl module.  If dynamic loading is not available,
this may fail, but the rest of FileHandle will still work.
<P>

<TT>&quot;FileHandle::fdopen&quot;</TT> is like <TT>&quot;open&quot;</TT> except that its first parameter
is not a filename but rather a file handle name, a FileHandle object,
or a file descriptor number.
<P>

If the C functions <I>fgetpos()</I> and <I>fsetpos()</I> are available, then
<TT>&quot;FileHandle::getpos&quot;</TT> returns an opaque value that represents the
current position of the FileHandle, and <TT>&quot;FileHandle::setpos&quot;</TT> uses
that value to return to a previously visited position.
<P>

If the C function <I>setvbuf()</I> is available, then <TT>&quot;FileHandle::setvbuf&quot;</TT>
sets the buffering policy for the FileHandle.  The calling sequence
for the Perl function is the same as its C counterpart, including the
macros <TT>&quot;_IOFBF&quot;</TT>, <TT>&quot;_IOLBF&quot;</TT>, and <TT>&quot;_IONBF&quot;</TT>, except that the buffer
parameter specifies a scalar variable to use as a buffer.  <FONT SIZE="-1">WARNING:</FONT> A
variable used as a buffer by <TT>&quot;FileHandle::setvbuf&quot;</TT> must not be
modified in any way until the FileHandle is closed or until
<TT>&quot;FileHandle::setvbuf&quot;</TT> is called again, or memory corruption may
result!
<P>

See perlfunc for complete descriptions of each of the following
supported <TT>&quot;FileHandle&quot;</TT> methods, which are just front ends for the
corresponding built-in functions:
<P>



<PRE>
    close
    fileno
    getc
    gets
    eof
    clearerr
    seek
    tell

</PRE>


<P>

See perlvar for complete descriptions of each of the following
supported <TT>&quot;FileHandle&quot;</TT> methods:
<P>



<PRE>
    autoflush
    output_field_separator
    output_record_separator
    input_record_separator
    input_line_number
    format_page_number
    format_lines_per_page
    format_lines_left
    format_name
    format_top_name
    format_line_break_characters
    format_formfeed

</PRE>


<P>

Furthermore, for doing normal I/O you might need these:
<DL COMPACT>
<DT>$fh-&gt;print<DD>


<A NAME="ixAAE"></A>
See ``print'' in perlfunc.
<DT>$fh-&gt;printf<DD>


<A NAME="ixAAF"></A>
See ``printf'' in perlfunc.
<DT>$fh-&gt;getline<DD>


<A NAME="ixAAG"></A>
This works like &lt;$fh&gt; described in ``I/O Operators'' in perlop
except that it's more readable and can be safely called in a
list context but still returns just one line.
<DT>$fh-&gt;getlines<DD>


<A NAME="ixAAH"></A>
This works like &lt;$fh&gt; when called in a list context to
read all the remaining lines in a file, except that it's more readable.
It will also <I>croak()</I> if accidentally called in a scalar context.
</DL>
<P>

There are many other functions available since FileHandle is descended
from IO::File, IO::Seekable, and IO::Handle.  Please see those
respective pages for documentation on more functions.
<A NAME="lbAE">&nbsp;</A>
<H2>SEE ALSO</H2>

<A NAME="ixAAI"></A>
The <B></B><FONT SIZE="-1"><B>IO</B></FONT><B></B> extension,
perlfunc, 
``I/O Operators'' in perlop.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:27 GMT, December 24, 2015
</div></body>
</HTML>
