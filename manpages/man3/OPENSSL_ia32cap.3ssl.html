<!DOCTYPE html>

<HTML><head><TITLE>Manpage of OPENSSL_ia32cap</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content"><div class="wrap">
<H1>OPENSSL_ia32cap</H1>
Section: OpenSSL (3)<BR>Updated: 2007-04-01<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

OPENSSL_ia32cap - finding the IA-32 processor capabilities
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>


<PRE>
 unsigned long *OPENSSL_ia32cap_loc(void);
 #define OPENSSL_ia32cap (*(OPENSSL_ia32cap_loc()))

</PRE>


<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAD"></A>
Value returned by <I>OPENSSL_ia32cap_loc()</I> is address of a variable
containing <FONT SIZE="-1">IA-32</FONT> processor capabilities bit vector as it appears in <FONT SIZE="-1">EDX</FONT>
register after executing <FONT SIZE="-1">CPUID</FONT> instruction with EAX=1 input value (see
Intel Application Note #241618). Naturally it's meaningful on IA-32[E]
platforms only. The variable is normally set up automatically upon
toolkit initialization, but can be manipulated afterwards to modify
crypto library behaviour. For the moment of this writing six bits are
significant, namely:
<P>

1. bit #28 denoting Hyperthreading, which is used to distiguish
<BR>&nbsp;&nbsp;&nbsp;cores&nbsp;with&nbsp;shared&nbsp;cache;
2. bit #26 denoting <FONT SIZE="-1">SSE2</FONT> support;
3. bit #25 denoting <FONT SIZE="-1">SSE</FONT> support;
4. bit #23 denoting <FONT SIZE="-1">MMX</FONT> support;
5. bit #20, reserved by Intel, is used to choose between <FONT SIZE="-1">RC4</FONT> code
<BR>&nbsp;&nbsp;&nbsp;pathes;
6. bit #4 denoting presence of Time-Stamp Counter.
<P>

For example, clearing bit #26 at run-time disables high-performance
<FONT SIZE="-1">SSE2</FONT> code present in the crypto library. You might have to do this if
target OpenSSL application is executed on <FONT SIZE="-1">SSE2</FONT> capable <FONT SIZE="-1">CPU</FONT>, but under
control of <FONT SIZE="-1">OS</FONT> which does not support <FONT SIZE="-1">SSE2</FONT> extentions. Even though you
can manipulate the value programmatically, you most likely will find it
more appropriate to set up an environment variable with the same name
prior starting target application, e.g. on Intel P4 processor 'env
OPENSSL_ia32cap=0x12900010 apps/openssl', to achieve same effect
without modifying the application source code. Alternatively you can
reconfigure the toolkit with no-sse2 option and recompile.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:35 GMT, December 24, 2015
</div></div>
</body>
</HTML>
