<!DOCTYPE html>

<HTML><head><TITLE>Manpage of XML::Grove::Subst</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>XML::Grove::Subst</H1>
Section: User Contributed Perl Documentation (3)<BR>Updated: 1999-08-25<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

XML::Grove::Subst - substitute values into a template
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>


<PRE>
 use XML::Grove::Subst;

 # Using subst method on XML::Grove::Document or XML::Grove::Element:
 $new_grove = $source_grove-&gt;subst( ARGS );
 $new_grove = $source_grove-&gt;subst_hash( ARG );

 # Using an XML::Grove::Subst instance:
 $subster = XML::Grove::Subst-&gt;new();
 $new_grove = $subster-&gt;subst( $source_grove, ARGS );
 $new_grove = $subster-&gt;subst_hash( $source_grove, ARG );

</PRE>


<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAD"></A>
<TT>&quot;XML::Grove::Subst&quot;</TT> implements <FONT SIZE="-1">XML</FONT> templates.  <TT>&quot;XML::Grove::Subst&quot;</TT>
traverses through a source grove replacing all elements with names
`<TT>&quot;SUB:XXX&quot;</TT>' or `<TT>&quot;SUB:key&quot;</TT>' with their corresponding values from <FONT SIZE="-1">ARGS</FONT> (a
list) or <FONT SIZE="-1">ARG</FONT> (a hash), repsectively.
<A NAME="lbAE">&nbsp;</A>
<H2>METHODS</H2>

<A NAME="ixAAE"></A>
<DL COMPACT>
<DT>$grove_obj-&gt;subst( <I></I><FONT SIZE="-1"><I>ARGS</I></FONT><I></I> ) =item $subster-&gt;subst( $grove_obj, <I></I><FONT SIZE="-1"><I>ARGS</I></FONT><I></I> )<DD>


<A NAME="ixAAF"></A>
Search for `<TT>&quot;SUB:</TT>XXX<TT>&quot;</TT>' elements, where <I></I><FONT SIZE="-1"><I>XXX</I></FONT><I></I> is an array index,
and replace the element with the value from <I></I><FONT SIZE="-1"><I>ARGS</I></FONT><I></I>, a list of values.
The return value is a new grove with the substitutions applied.
<DT>$grove_obj-&gt;subst_hash( <I></I><FONT SIZE="-1"><I>ARG</I></FONT><I></I> ) =item $subster-&gt;subst_hash( $grove_obj, <I></I><FONT SIZE="-1"><I>ARG</I></FONT><I></I> )<DD>


<A NAME="ixAAG"></A>
Search for `<TT>&quot;SUB:key&quot;</TT>' elements and replace the element with the
value from <I></I><FONT SIZE="-1"><I>ARG</I></FONT><I></I>, a hash of values.  The hash key is taken from the
`<TT>&quot;key&quot;</TT>' attribute of the `<TT>&quot;SUB:key&quot;</TT>' element, for example,
`<TT>&quot;&lt;SUB:key key='foo'&gt;&quot;</TT>'.  The return value is a new grove
with the substitutions applied.
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>EXAMPLE</H2>

<A NAME="ixAAH"></A>
The following template, in a file `<TT>&quot;template.xml&quot;</TT>', could be used for
a simple parts database conversion to <FONT SIZE="-1">HTML:</FONT>
<P>



<PRE>
    &lt;html&gt;
      &lt;head&gt;
        &lt;title&gt;&lt;SUB:key key='Name'&gt;&lt;/title&gt;
      &lt;/head&gt;
      &lt;body&gt;
        &lt;h1&gt;&lt;SUB:key key='Name'&gt;&lt;/title&gt;
        &lt;p&gt;Information for part number &lt;SUB:key key='Number'&gt;:&lt;/p&gt;
        &lt;SUB:key key='Description'&gt;
      &lt;/body&gt;
    &lt;/html&gt;

</PRE>


<P>

To use this template you would first parse it and convert it to a
grove, and then use `<TT>&quot;subst_hash()&quot;</TT>' every time you needed a new
page:
<P>



<PRE>
    use XML::Parser::PerlSAX;
    use XML::Grove;
    use XML::Grove::Builder;
    use XML::Grove::Subst;
    use XML::Grove::PerlSAX;
    use XML::Handler::XMLWriter;

    # Load the template
    $b = XML::Grove::Builder-&gt;new();
    $p = XML::Parser::PerlSAX-&gt;new( Handler = $b );
    $source_grove = $p-&gt;parse( Source =&gt; { SystemId =&gt; 'template.xml' } );

    # Apply the substitutions
    $new_grove = $source_grove-&gt;subst_hash( { Name =&gt; 'Acme DCX-2000 Filter',
                                              Number =&gt; 'N4728',
                                              Description =&gt; 'The Best' } );

    # Write the new grove to standard output
    $w = XML::Handler::XMLWriter-&gt;new();
    $wp = XML::Grove::PerlSAX-&gt;new( Handler =&gt; $w );
    $wp-&gt;parse( Source =&gt; { Grove =&gt; $new_grove } );

</PRE>


<A NAME="lbAG">&nbsp;</A>
<H2>AUTHOR</H2>

<A NAME="ixAAI"></A>
Ken MacLeod, <A HREF="mailto:ken@bitsko.slc.ut.us">ken@bitsko.slc.ut.us</A>
<A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>

<A NAME="ixAAJ"></A>
<I><A HREF="/manpages/index.html?1+perl">perl</A></I>(1), <I><A HREF="http://localhost/cgi-bin/man/man2html?3+XML::Grove">XML::Grove</A></I>(3)
<P>

Extensible Markup Language (<FONT SIZE="-1">XML</FONT>) &lt;<A HREF="http://www.w3c.org/XML">http://www.w3c.org/XML</A>&gt;
<A NAME="lbAI">&nbsp;</A>
<H2>POD ERRORS</H2>

<A NAME="ixAAK"></A>
Hey! <B>The above document had some coding errors, which are explained below:</B>
<DL COMPACT>
<DT>Around line 173:<DD>
<A NAME="ixAAL"></A>
You forgot a '=back' before '=head1'
<P>
</DL>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">METHODS</A><DD>
<DT><A HREF="#lbAF">EXAMPLE</A><DD>
<DT><A HREF="#lbAG">AUTHOR</A><DD>
<DT><A HREF="#lbAH">SEE ALSO</A><DD>
<DT><A HREF="#lbAI">POD ERRORS</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:46 GMT, December 24, 2015
</div></body>
</HTML>
