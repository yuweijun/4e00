<!DOCTYPE html>

<HTML><head><TITLE>Manpage of HTML::HeadParser</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"documentation"}</div>
 </div>
 </header>
 <div class="page-content"><div class="wrap">
<H1>HTML::HeadParser</H1>
Section: User Contributed Perl Documentation (3)<BR>Updated: 2009-08-13<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

HTML::HeadParser - Parse &lt;HEAD&gt; section of a HTML document
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>


<PRE>
 require HTML::HeadParser;
 $p = HTML::HeadParser-&gt;new;
 $p-&gt;parse($text) and  print &quot;not finished&quot;;

 $p-&gt;header('Title')          # to access &lt;title&gt;....&lt;/title&gt;
 $p-&gt;header('Content-Base')   # to access &lt;base href=&quot;<A HREF="http://...">http://...</A>&quot;&gt;
 $p-&gt;header('Foo')            # to access &lt;meta http-equiv=&quot;Foo&quot; content=&quot;...&quot;&gt;
 $p-&gt;header('X-Meta-Author')  # to access &lt;meta name=&quot;author&quot; content=&quot;...&quot;&gt;
 $p-&gt;header('X-Meta-Charset') # to access &lt;meta charset=&quot;...&quot;&gt;

</PRE>


<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAD"></A>
The <TT>&quot;HTML::HeadParser&quot;</TT> is a specialized (and lightweight)
<TT>&quot;HTML::Parser&quot;</TT> that will only parse the &lt;<FONT SIZE="-1">HEAD</FONT>&gt;...&lt;/HEAD&gt;
section of an <FONT SIZE="-1">HTML</FONT> document.  The <I>parse()</I> method
will return a <FONT SIZE="-1">FALSE</FONT> value as soon as some &lt;<FONT SIZE="-1">BODY</FONT>&gt; element or body
text are found, and should not be called again after this.
<P>

Note that the <TT>&quot;HTML::HeadParser&quot;</TT> might get confused if raw undecoded
<FONT SIZE="-1">UTF-8</FONT> is passed to the <I>parse()</I> method.  Make sure the strings are
properly decoded before passing them on.
<P>

The <TT>&quot;HTML::HeadParser&quot;</TT> keeps a reference to a header object, and the
parser will update this header object as the various elements of the
&lt;<FONT SIZE="-1">HEAD</FONT>&gt; section of the <FONT SIZE="-1">HTML</FONT> document are recognized.  The following
header fields are affected:
<DL COMPACT>
<DT>Content-Base:<DD>
<A NAME="ixAAE"></A>
The <I>Content-Base</I> header is initialized from the &lt;base
href=``...''&gt; element.
<DT>Title:<DD>
<A NAME="ixAAF"></A>
The <I>Title</I> header is initialized from the &lt;title&gt;...&lt;/title&gt;
element.
<DT>Isindex:<DD>
<A NAME="ixAAG"></A>
The <I>Isindex</I> header will be added if there is a &lt;isindex&gt;
element in the &lt;head&gt;.  The header value is initialized from the
<I>prompt</I> attribute if it is present.  If no <I>prompt</I> attribute is
given it will have '?' as the value.
<DT>X-Meta-Foo:<DD>
<A NAME="ixAAH"></A>
All &lt;meta&gt; elements containing a <TT>&quot;name&quot;</TT> attribute will result in
headers using the prefix <TT>&quot;X-Meta-&quot;</TT> appended with the value of the
<TT>&quot;name&quot;</TT> attribute as the name of the header, and the value of the
<TT>&quot;content&quot;</TT> attribute as the pushed header value.


<P>


&lt;meta&gt; elements containing a <TT>&quot;http-equiv&quot;</TT> attribute will result
in headers as in above, but without the <TT>&quot;X-Meta-&quot;</TT> prefix in the
header name.


<P>


&lt;meta&gt; elements containing a <TT>&quot;charset&quot;</TT> attribute will result in
an <TT>&quot;X-Meta-Charset&quot;</TT> header, using the value of the <TT>&quot;charset&quot;</TT>
attribute as the pushed header value.
</DL>
<A NAME="lbAE">&nbsp;</A>
<H2>METHODS</H2>

<A NAME="ixAAI"></A>
The following methods (in addition to those provided by the
superclass) are available:
<DL COMPACT>
<DT>$hp = HTML::HeadParser-&gt;new<DD>


<A NAME="ixAAJ"></A>

<DT>$hp = HTML::HeadParser-&gt;new( $header )<DD>


<A NAME="ixAAK"></A>

The object constructor.  The optional <TT>$header</TT> argument should be a
reference to an object that implement the <I>header()</I> and <I>push_header()</I>
methods as defined by the <TT>&quot;HTTP::Headers&quot;</TT> class.  Normally it will be
of some class that is a or delegates to the <TT>&quot;HTTP::Headers&quot;</TT> class.


<P>


If no <TT>$header</TT> is given <TT>&quot;HTML::HeadParser&quot;</TT> will create an
<TT>&quot;HTTP::Headers&quot;</TT> object by itself (initially empty).
<DT>$hp-&gt;header;<DD>


<A NAME="ixAAL"></A>
Returns a reference to the header object.
<DT>$hp-&gt;header( $key )<DD>


<A NAME="ixAAM"></A>
Returns a header value.  It is just a shorter way to write
<TT>&quot;$hp-&gt;header-&gt;header($key)&quot;</TT>.
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>EXAMPLE</H2>

<A NAME="ixAAN"></A>


<PRE>
 $h = HTTP::Headers-&gt;new;
 $p = HTML::HeadParser-&gt;new($h);
 $p-&gt;parse(&lt;&lt;EOT);
 &lt;title&gt;Stupid example&lt;/title&gt;
 &lt;base href=&quot;<A HREF="http://www.linpro.no/lwp/">http://www.linpro.no/lwp/</A>&quot;&gt;
 Normal text starts here.
 EOT
 undef $p;
 print $h-&gt;title;   # should print &quot;Stupid example&quot;

</PRE>


<A NAME="lbAG">&nbsp;</A>
<H2>SEE ALSO</H2>

<A NAME="ixAAO"></A>
HTML::Parser, HTTP::Headers
<P>

The <TT>&quot;HTTP::Headers&quot;</TT> class is distributed as part of the
<I>libwww-perl</I> package.  If you don't have that distribution installed
you need to provide the <TT>$header</TT> argument to the <TT>&quot;HTML::HeadParser&quot;</TT>
constructor with your own object that implements the documented
protocol.
<A NAME="lbAH">&nbsp;</A>
<H2>COPYRIGHT</H2>

<A NAME="ixAAP"></A>
Copyright 1996-2001 Gisle Aas. All rights reserved.
<P>

This library is free software; you can redistribute it and/or
modify it under the same terms as Perl itself.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">METHODS</A><DD>
<DT><A HREF="#lbAF">EXAMPLE</A><DD>
<DT><A HREF="#lbAG">SEE ALSO</A><DD>
<DT><A HREF="#lbAH">COPYRIGHT</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:29 GMT, December 24, 2015
</div></div>
</body>
</HTML>
