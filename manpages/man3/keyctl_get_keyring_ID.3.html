<!DOCTYPE html>

<HTML><head><TITLE>Manpage of KEYCTL_GET_KEYRING_ID</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content"><div class="wrap">
<H1>KEYCTL_GET_KEYRING_ID</H1>
Section: Linux Key Management Calls (3)<BR>Updated: 4 May 2006<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>


<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

keyctl_get_keyring_ID - Get the ID of a special keyring

<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<PRE>
<B>#include &lt;<A HREF="file:/usr/include/keyutils.h">keyutils.h</A>&gt;</B>

<B>key_serial_t keyctl_get_keyring_ID(key_serial_t </B><I>key</I><B>,</B>
<B> int </B><I>create</I><B>);</B>
</PRE><A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<B>keyctl_get_keyring_ID</B>()

maps a special
<I>key</I>

or keyring ID to the serial number of the key actually representing that
feature.  The serial number will be returned if that key exists.

If the key or keyring does not yet exist, then if
<I>create</I>

is non-zero, the key or keyring will be created if it is appropriate to do so.

The following special key IDs may be specified as
<I>key</I>:

<DL COMPACT>
<DT><B>KEY_SPEC_THREAD_KEYRING</B>

<DD>
This specifies the caller's thread-specific keyring.
<DT><B>KEY_SPEC_PROCESS_KEYRING</B>

<DD>
This specifies the caller's process-specific keyring.
<DT><B>KEY_SPEC_SESSION_KEYRING</B>

<DD>
This specifies the caller's session-specific keyring.
<DT><B>KEY_SPEC_USER_KEYRING</B>

<DD>
This specifies the caller's UID-specific keyring.
<DT><B>KEY_SPEC_USER_SESSION_KEYRING</B>

<DD>
This specifies the caller's UID-session keyring.
<DT><B>KEY_SPEC_REQKEY_AUTH_KEY</B>

<DD>
This specifies the authorisation key created by
<B>request_key</B>()

and passed to the process it spawns to generate a key.

If a valid keyring ID is passed in, then this will simply be returned if the
key exists; an error will be issued if it doesn't exist.

</DL>
<A NAME="lbAE">&nbsp;</A>
<H2>RETURN VALUE</H2>

On success
<B>keyctl_get_keyring_ID</B>()

returns the serial number of the key it found.  On error, the value
<B>-1</B>

will be returned and errno will have been set to an appropriate error.

<A NAME="lbAF">&nbsp;</A>
<H2>ERRORS</H2>

<DL COMPACT>
<DT><B>ENOKEY</B>

<DD>
No matching key was found.
<DT><B>ENOMEM</B>

<DD>
Insufficient memory to create a key.
<DT><B>EDQUOT</B>

<DD>
The key quota for this user would be exceeded by creating this key or linking
it to the keyring.

</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>LINKING</H2>

This is a library function that can be found in
<I>libkeyutils</I>.

When linking,
<B>-lkeyutils</B>

should be specified to the linker.

<A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="/manpages/index.html?1+keyctl">keyctl</A></B>(1),

<BR>

<B><A HREF="/manpages/index.html?2+add_key">add_key</A></B>(2),

<BR>

<B><A HREF="/manpages/index.html?2+keyctl">keyctl</A></B>(2),

<BR>

<B><A HREF="/manpages/index.html?2+request_key">request_key</A></B>(2),

<BR>

<B><A HREF="/manpages/index.html?3+keyctl">keyctl</A></B>(3),

<BR>

<B><A HREF="/manpages/index.html?8+request-key">request-key</A></B>(8)

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">RETURN VALUE</A><DD>
<DT><A HREF="#lbAF">ERRORS</A><DD>
<DT><A HREF="#lbAG">LINKING</A><DD>
<DT><A HREF="#lbAH">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:30 GMT, December 24, 2015
</div></div>
</body>
</HTML>
