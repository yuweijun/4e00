<!DOCTYPE html>

<HTML><head><TITLE>Manpage of DSA_generate_parameters</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content"><div class="wrap">
<H1>DSA_generate_parameters</H1>
Section: OpenSSL (3)<BR>Updated: 2002-09-25<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

DSA_generate_parameters - generate DSA parameters
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>


<PRE>
 #include &lt;<A HREF="file:/usr/include/openssl/dsa.h">openssl/dsa.h</A>&gt;

 DSA *DSA_generate_parameters(int bits, unsigned char *seed,
                int seed_len, int *counter_ret, unsigned long *h_ret,
                void (*callback)(int, int, void *), void *cb_arg);

</PRE>


<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAD"></A>
<I>DSA_generate_parameters()</I> generates primes p and q and a generator g
for use in the <FONT SIZE="-1">DSA</FONT>.
<P>

<B>bits</B> is the length of the prime to be generated; the <FONT SIZE="-1">DSS</FONT> allows a
maximum of 1024 bits.
<P>

If <B>seed</B> is <B></B><FONT SIZE="-1"><B>NULL</B></FONT><B></B> or <B>seed_len</B> &lt; 20, the primes will be
generated at random. Otherwise, the seed is used to generate
them. If the given seed does not yield a prime q, a new random
seed is chosen and placed at <B>seed</B>.
<P>

<I>DSA_generate_parameters()</I> places the iteration count in
*<B>counter_ret</B> and a counter used for finding a generator in
*<B>h_ret</B>, unless these are <B></B><FONT SIZE="-1"><B>NULL</B></FONT><B></B>.
<P>

A callback function may be used to provide feedback about the progress
of the key generation. If <B>callback</B> is not <B></B><FONT SIZE="-1"><B>NULL</B></FONT><B></B>, it will be
called as follows:
<DL COMPACT>
<DT>*<DD>
When a candidate for q is generated, <B>callback(0, m++, cb_arg)</B> is called
(m is 0 for the first candidate).
<DT>*<DD>
When a candidate for q has passed a test by trial division,
<B>callback(1, -1, cb_arg)</B> is called.
While a candidate for q is tested by Miller-Rabin primality tests,
<B>callback(1, i, cb_arg)</B> is called in the outer loop
(once for each witness that confirms that the candidate may be prime);
i is the loop counter (starting at 0).
<DT>*<DD>
When a prime q has been found, <B>callback(2, 0, cb_arg)</B> and
<B>callback(3, 0, cb_arg)</B> are called.
<DT>*<DD>
Before a candidate for p (other than the first) is generated and tested,
<B>callback(0, counter, cb_arg)</B> is called.
<DT>*<DD>
When a candidate for p has passed the test by trial division,
<B>callback(1, -1, cb_arg)</B> is called.
While it is tested by the Miller-Rabin primality test,
<B>callback(1, i, cb_arg)</B> is called in the outer loop
(once for each witness that confirms that the candidate may be prime).
i is the loop counter (starting at 0).
<DT>*<DD>
When p has been found, <B>callback(2, 1, cb_arg)</B> is called.
<DT>*<DD>
When the generator has been found, <B>callback(3, 1, cb_arg)</B> is called.
</DL>
<A NAME="lbAE">&nbsp;</A>
<H2>RETURN VALUE</H2>

<A NAME="ixAAE"></A>
<I>DSA_generate_parameters()</I> returns a pointer to the <FONT SIZE="-1">DSA</FONT> structure, or
<B></B><FONT SIZE="-1"><B>NULL</B></FONT><B></B> if the parameter generation fails. The error codes can be
obtained by <I><A HREF="/manpages/index.html?3+ERR_get_error">ERR_get_error</A></I>(3).
<A NAME="lbAF">&nbsp;</A>
<H2>BUGS</H2>

<A NAME="ixAAF"></A>
Seed lengths &gt; 20 are not supported.
<A NAME="lbAG">&nbsp;</A>
<H2>SEE ALSO</H2>

<A NAME="ixAAG"></A>
<I><A HREF="/manpages/index.html?3+dsa">dsa</A></I>(3), <I><A HREF="http://localhost/cgi-bin/man/man2html?3+ERR_get_error">ERR_get_error</A></I>(3), <I><A HREF="http://localhost/cgi-bin/man/man2html?3+rand">rand</A></I>(3),
<I><A HREF="/manpages/index.html?3+DSA_free">DSA_free</A></I>(3)
<A NAME="lbAH">&nbsp;</A>
<H2>HISTORY</H2>

<A NAME="ixAAH"></A>
<I>DSA_generate_parameters()</I> appeared in SSLeay 0.8. The <B>cb_arg</B>
argument was added in SSLeay 0.9.0.
In versions up to OpenSSL 0.9.4, <B>callback(1, ...)</B> was called
in the inner loop of the Miller-Rabin test whenever it reached the
squaring step (the parameters to <B>callback</B> did not reveal how many
witnesses had been tested); since OpenSSL 0.9.5, <B>callback(1, ...)</B>
is called as in <I><A HREF="/manpages/index.html?3+BN_is_prime">BN_is_prime</A></I>(3), i.e. once for each witness.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">RETURN VALUE</A><DD>
<DT><A HREF="#lbAF">BUGS</A><DD>
<DT><A HREF="#lbAG">SEE ALSO</A><DD>
<DT><A HREF="#lbAH">HISTORY</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:23 GMT, December 24, 2015
</div></div>
</body>
</HTML>
