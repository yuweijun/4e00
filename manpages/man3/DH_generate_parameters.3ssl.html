<!DOCTYPE html>

<HTML><head><TITLE>Manpage of DH_generate_parameters</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"documentation"}</div>
 </div>
 </header>
 <div class="page-content"><div class="wrap">
<H1>DH_generate_parameters</H1>
Section: OpenSSL (3)<BR>Updated: 2002-09-25<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

DH_generate_parameters, DH_check - generate and check Diffie-Hellman parameters
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>


<PRE>
 #include &lt;<A HREF="file:/usr/include/openssl/dh.h">openssl/dh.h</A>&gt;

 DH *DH_generate_parameters(int prime_len, int generator,
     void (*callback)(int, int, void *), void *cb_arg);

 int DH_check(DH *dh, int *codes);

</PRE>


<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAD"></A>
<I>DH_generate_parameters()</I> generates Diffie-Hellman parameters that can
be shared among a group of users, and returns them in a newly
allocated <B></B><FONT SIZE="-1"><B>DH</B></FONT><B></B> structure. The pseudo-random number generator must be
seeded prior to calling <I>DH_generate_parameters()</I>.
<P>

<B>prime_len</B> is the length in bits of the safe prime to be generated.
<B>generator</B> is a small number &gt; 1, typically 2 or 5.
<P>

A callback function may be used to provide feedback about the progress
of the key generation. If <B>callback</B> is not <B></B><FONT SIZE="-1"><B>NULL</B></FONT><B></B>, it will be
called as described in <I><A HREF="/manpages/index.html?3+BN_generate_prime">BN_generate_prime</A></I>(3) while a random prime
number is generated, and when a prime has been found, <B>callback(3,
0, cb_arg)</B> is called.
<P>

<I>DH_check()</I> validates Diffie-Hellman parameters. It checks that <B>p</B> is
a safe prime, and that <B>g</B> is a suitable generator. In the case of an
error, the bit flags <FONT SIZE="-1">DH_CHECK_P_NOT_SAFE_PRIME</FONT> or
<FONT SIZE="-1">DH_NOT_SUITABLE_GENERATOR</FONT> are set in <B>*codes</B>.
<FONT SIZE="-1">DH_UNABLE_TO_CHECK_GENERATOR</FONT> is set if the generator cannot be
checked, i.e. it does not equal 2 or 5.
<A NAME="lbAE">&nbsp;</A>
<H2>RETURN VALUES</H2>

<A NAME="ixAAE"></A>
<I>DH_generate_parameters()</I> returns a pointer to the <FONT SIZE="-1">DH</FONT> structure, or
<FONT SIZE="-1">NULL</FONT> if the parameter generation fails. The error codes can be
obtained by <I><A HREF="/manpages/index.html?3+ERR_get_error">ERR_get_error</A></I>(3).
<P>

<I>DH_check()</I> returns 1 if the check could be performed, 0 otherwise.
<A NAME="lbAF">&nbsp;</A>
<H2>NOTES</H2>

<A NAME="ixAAF"></A>
<I>DH_generate_parameters()</I> may run for several hours before finding a
suitable prime.
<P>

The parameters generated by <I>DH_generate_parameters()</I> are not to be
used in signature schemes.
<A NAME="lbAG">&nbsp;</A>
<H2>BUGS</H2>

<A NAME="ixAAG"></A>
If <B>generator</B> is not 2 or 5, <B>dh-&gt;g</B>=<B>generator</B> is not
a usable generator.
<A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>

<A NAME="ixAAH"></A>
<I><A HREF="/manpages/index.html?3+dh">dh</A></I>(3), <I><A HREF="http://localhost/cgi-bin/man/man2html?3+ERR_get_error">ERR_get_error</A></I>(3), <I><A HREF="http://localhost/cgi-bin/man/man2html?3+rand">rand</A></I>(3),
<I><A HREF="/manpages/index.html?3+DH_free">DH_free</A></I>(3)
<A NAME="lbAI">&nbsp;</A>
<H2>HISTORY</H2>

<A NAME="ixAAI"></A>
<I>DH_check()</I> is available in all versions of SSLeay and OpenSSL.
The <B>cb_arg</B> argument to <I>DH_generate_parameters()</I> was added in SSLeay 0.9.0.
<P>

In versions before OpenSSL 0.9.5, <FONT SIZE="-1">DH_CHECK_P_NOT_STRONG_PRIME</FONT> is used
instead of <FONT SIZE="-1">DH_CHECK_P_NOT_SAFE_PRIME</FONT>.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">RETURN VALUES</A><DD>
<DT><A HREF="#lbAF">NOTES</A><DD>
<DT><A HREF="#lbAG">BUGS</A><DD>
<DT><A HREF="#lbAH">SEE ALSO</A><DD>
<DT><A HREF="#lbAI">HISTORY</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:23 GMT, December 24, 2015
</div></div>
</body>
</HTML>
