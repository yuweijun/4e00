<!DOCTYPE html>

<HTML><head><TITLE>Manpage of ASN1_STRING_length</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content"><div class="wrap">
<H1>ASN1_STRING_length</H1>
Section: OpenSSL (3)<BR>Updated: 2006-05-14<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

ASN1_STRING_dup, ASN1_STRING_cmp, ASN1_STRING_set, ASN1_STRING_length,
ASN1_STRING_length_set, ASN1_STRING_type, ASN1_STRING_data -
ASN1_STRING utility functions
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>


<PRE>
 #include &lt;<A HREF="file:/usr/include/openssl/asn1.h">openssl/asn1.h</A>&gt;

 int ASN1_STRING_length(ASN1_STRING *x);
 unsigned char * ASN1_STRING_data(ASN1_STRING *x);

 ASN1_STRING * ASN1_STRING_dup(ASN1_STRING *a);

 int ASN1_STRING_cmp(ASN1_STRING *a, ASN1_STRING *b);

 int ASN1_STRING_set(ASN1_STRING *str, const void *data, int len);

 int ASN1_STRING_type(ASN1_STRING *x);

 int ASN1_STRING_to_UTF8(unsigned char **out, ASN1_STRING *in);

</PRE>


<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAD"></A>
These functions allow an <B></B><FONT SIZE="-1"><B>ASN1_STRING</B></FONT><B></B> structure to be manipulated.
<P>

<I>ASN1_STRING_length()</I> returns the length of the content of <B>x</B>.
<P>

<I>ASN1_STRING_data()</I> returns an internal pointer to the data of <B>x</B>.
Since this is an internal pointer it should <B>not</B> be freed or
modified in any way.
<P>

<I>ASN1_STRING_dup()</I> returns a copy of the structure <B>a</B>.
<P>

<I>ASN1_STRING_cmp()</I> compares <B>a</B> and <B>b</B> returning 0 if the two
are identical. The string types and content are compared.
<P>

<I>ASN1_STRING_set()</I> sets the data of string <B>str</B> to the buffer
<B>data</B> or length <B>len</B>. The supplied data is copied. If <B>len</B>
is -1 then the length is determined by strlen(data).
<P>

<I>ASN1_STRING_type()</I> returns the type of <B>x</B>, using standard constants
such as <B>V_ASN1_OCTET_STRING</B>.
<P>

<I>ASN1_STRING_to_UTF8()</I> converts the string <B>in</B> to <FONT SIZE="-1">UTF8</FONT> format, the
converted data is allocated in a buffer in <B>*out</B>. The length of
<B>out</B> is returned or a negative error code. The buffer <B>*out</B>
should be free using <I>OPENSSL_free()</I>.
<A NAME="lbAE">&nbsp;</A>
<H2>NOTES</H2>

<A NAME="ixAAE"></A>
Almost all <FONT SIZE="-1">ASN1</FONT> types in OpenSSL are represented as an <B></B><FONT SIZE="-1"><B>ASN1_STRING</B></FONT><B></B>
structure. Other types such as <B></B><FONT SIZE="-1"><B>ASN1_OCTET_STRING</B></FONT><B></B> are simply typedefed
to <B></B><FONT SIZE="-1"><B>ASN1_STRING</B></FONT><B></B> and the functions call the <B></B><FONT SIZE="-1"><B>ASN1_STRING</B></FONT><B></B> equivalents.
<B></B><FONT SIZE="-1"><B>ASN1_STRING</B></FONT><B></B> is also used for some <B></B><FONT SIZE="-1"><B>CHOICE</B></FONT><B></B> types which consist
entirely of primitive string types such as <B>DirectoryString</B> and
<B>Time</B>.
<P>

These functions should <B>not</B> be used to examine or modify <B></B><FONT SIZE="-1"><B>ASN1_INTEGER</B></FONT><B></B>
or <B></B><FONT SIZE="-1"><B>ASN1_ENUMERATED</B></FONT><B></B> types: the relevant <B></B><FONT SIZE="-1"><B>INTEGER</B></FONT><B></B> or <B></B><FONT SIZE="-1"><B>ENUMERATED</B></FONT><B></B>
utility functions should be used instead.
<P>

In general it cannot be assumed that the data returned by <I>ASN1_STRING_data()</I>
is null terminated or does not contain embedded nulls. The actual format
of the data will depend on the actual string type itself: for example
for and IA5String the data will be <FONT SIZE="-1">ASCII</FONT>, for a BMPString two bytes per
character in big endian format, UTF8String will be in <FONT SIZE="-1">UTF8</FONT> format.
<P>

Similar care should be take to ensure the data is in the correct format
when calling <I>ASN1_STRING_set()</I>.
<A NAME="lbAF">&nbsp;</A>
<H2>RETURN VALUES</H2>

<A NAME="ixAAF"></A>
<A NAME="lbAG">&nbsp;</A>
<H2>SEE ALSO</H2>

<A NAME="ixAAG"></A>
<I><A HREF="/manpages/index.html?3+ERR_get_error">ERR_get_error</A></I>(3)
<A NAME="lbAH">&nbsp;</A>
<H2>HISTORY</H2>

<A NAME="ixAAH"></A>
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">NOTES</A><DD>
<DT><A HREF="#lbAF">RETURN VALUES</A><DD>
<DT><A HREF="#lbAG">SEE ALSO</A><DD>
<DT><A HREF="#lbAH">HISTORY</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:11 GMT, December 24, 2015
</div></div>
</body>
</HTML>
