<!DOCTYPE html>

<HTML><head><TITLE>Manpage of Term::Cap</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>Term::Cap</H1>
Section: Perl Programmers Reference Guide (3pm)<BR>Updated: 2009-02-12<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

Term::Cap - Perl termcap interface
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>


<PRE>
    require Term::Cap;
    $terminal = Tgetent Term::Cap { TERM =&gt; undef, OSPEED =&gt; $ospeed };
    $terminal-&gt;Trequire(qw/ce ku kd/);
    $terminal-&gt;Tgoto('cm', $col, $row, $FH);
    $terminal-&gt;Tputs('dl', $count, $FH);
    $terminal-&gt;Tpad($string, $count, $FH);

</PRE>


<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAD"></A>
These are low-level functions to extract and use capabilities from
a terminal capability (termcap) database.
<P>

More information on the terminal capabilities will be found in the
termcap manpage on most Unix-like systems.
<A NAME="lbAE">&nbsp;</A>
<H3><FONT SIZE="-1">METHODS</FONT></H3>

<A NAME="ixAAE"></A>
<DL COMPACT><DT><DD>
The output strings for <B>Tputs</B> are cached for counts of 1 for performance.
<B>Tgoto</B> and <B>Tpad</B> do not cache.  <TT>&quot;$self-&gt;{_xx}&quot;</TT> is the raw termcap
data and <TT>&quot;$self-&gt;{xx}&quot;</TT> is the cached version.


<P>




<PRE>
    print $terminal-&gt;Tpad($self-&gt;{_xx}, 1);

</PRE>




<P>


<B>Tgoto</B>, <B>Tputs</B>, and <B>Tpad</B> return the string and will also
output the string to <TT>$FH</TT> if specified.


<P>


<B>Tgetent</B>


<P>


Returns a blessed object reference which the user can
then use to send the control strings to the terminal using <B>Tputs</B>
and <B>Tgoto</B>.


<P>


The function extracts the entry of the specified terminal
type <I></I><FONT SIZE="-1"><I>TERM</I></FONT><I></I> (defaults to the environment variable <I></I><FONT SIZE="-1"><I>TERM</I></FONT><I></I>) from the
database.


<P>


It will look in the environment for a <I></I><FONT SIZE="-1"><I>TERMCAP</I></FONT><I></I> variable.  If
found, and the value does not begin with a slash, and the terminal
type name is the same as the environment string <I></I><FONT SIZE="-1"><I>TERM</I></FONT><I></I>, the
<I></I><FONT SIZE="-1"><I>TERMCAP</I></FONT><I></I> string is used instead of reading a termcap file.  If
it does begin with a slash, the string is used as a path name of
the termcap file to search.  If <I></I><FONT SIZE="-1"><I>TERMCAP</I></FONT><I></I> does not begin with a
slash and name is different from <I></I><FONT SIZE="-1"><I>TERM</I></FONT><I></I>, <B>Tgetent</B> searches the
files <I></I>$HOME<I>/.termcap</I>, <I>/etc/termcap</I>, and <I>/usr/share/misc/termcap</I>,
in that order, unless the environment variable <I></I><FONT SIZE="-1"><I>TERMPATH</I></FONT><I></I> exists,
in which case it specifies a list of file pathnames (separated by
spaces or colons) to be searched <B>instead</B>.  Whenever multiple
files are searched and a tc field occurs in the requested entry,
the entry it names must be found in the same file or one of the
succeeding files.  If there is a <TT>&quot;:tc=...:&quot;</TT> in the <I></I><FONT SIZE="-1"><I>TERMCAP</I></FONT><I></I>
environment variable string it will continue the search in the
files as above.


<P>


The extracted termcap entry is available in the object
as <TT>&quot;$self-&gt;{TERMCAP}&quot;</TT>.


<P>


It takes a hash reference as an argument with two optional keys:
<DL COMPACT>
<DT><FONT SIZE="-1">OSPEED</FONT><DD>
<A NAME="ixAAF"></A>
The terminal output bit rate (often mistakenly called the baud rate)
for this terminal - if not set a warning will be generated
and it will be defaulted to 9600.  <I></I><FONT SIZE="-1"><I>OSPEED</I></FONT><I></I> can be be specified as
either a <FONT SIZE="-1">POSIX</FONT> termios/SYSV termio speeds (where 9600 equals 9600) or
an old DSD-style speed ( where 13 equals 9600).
<DT><FONT SIZE="-1">TERM</FONT><DD>
<A NAME="ixAAG"></A>
The terminal type whose termcap entry will be used - if not supplied it will
default to <TT>$ENV</TT>{<FONT SIZE="-1">TERM</FONT>}: if that is not set then <B>Tgetent</B> will croak.
</DL>
</DL>

<DL COMPACT><DT><DD>


<P>


It calls <TT>&quot;croak&quot;</TT> on failure.


<P>


<B>Tpad</B>


<P>


Outputs a literal string with appropriate padding for the current terminal.


<P>


It takes three arguments:
<DL COMPACT>
<DT><B>$string</B><DD>


<A NAME="ixAAH"></A>
The literal string to be output.  If it starts with a number and an optional
'*' then the padding will be increased by an amount relative to this number,
if the '*' is present then this amount will me multiplied by <TT>$cnt</TT>.  This part
of <TT>$string</TT> is removed before output/
<DT><B>$cnt</B><DD>


<A NAME="ixAAI"></A>
Will be used to modify the padding applied to string as described above.
<DT><B>$FH</B><DD>


<A NAME="ixAAJ"></A>
An optional filehandle (or IO::Handle ) that output will be printed to.
</DL>
</DL>

<DL COMPACT><DT><DD>


<P>


The padded <TT>$string</TT> is returned.


<P>


<B>Tputs</B>


<P>


Output the string for the given capability padded as appropriate without
any parameter substitution.


<P>


It takes three arguments:
<DL COMPACT>
<DT><B>$cap</B><DD>


<A NAME="ixAAK"></A>
The capability whose string is to be output.
<DT><B>$cnt</B><DD>


<A NAME="ixAAL"></A>
A count passed to Tpad to modify the padding applied to the output string.
If <TT>$cnt</TT> is zero or one then the resulting string will be cached.
<DT><B>$FH</B><DD>


<A NAME="ixAAM"></A>
An optional filehandle (or IO::Handle ) that output will be printed to.
</DL>
</DL>

<DL COMPACT><DT><DD>


<P>


The appropriate string for the capability will be returned.


<P>


<B>Tgoto</B>


<P>


<B>Tgoto</B> decodes a cursor addressing string with the given parameters.


<P>


There are four arguments:
<DL COMPACT>
<DT><B>$cap</B><DD>


<A NAME="ixAAN"></A>
The name of the capability to be output.
<DT><B>$col</B><DD>


<A NAME="ixAAO"></A>
The first value to be substituted in the output string ( usually the column
in a cursor addressing capability )
<DT><B>$row</B><DD>


<A NAME="ixAAP"></A>
The second value to be substituted in the output string (usually the row
in cursor addressing capabilities)
<DT><B>$FH</B><DD>


<A NAME="ixAAQ"></A>
An optional filehandle (or IO::Handle ) to which the output string will be
printed.
</DL>
</DL>

<DL COMPACT><DT><DD>


<P>


Substitutions are made with <TT>$col</TT> and <TT>$row</TT> in the output string with the
following <I>sprintf()</I> line formats:


<P>




<PRE>
 %%   output `%'
 %d   output value as in printf %d
 %2   output value as in printf %2d
 %3   output value as in printf %3d
 %.   output value as in printf %c
 %+x  add x to value, then do %.

 %&gt;xy if value &gt; x then add y, no output
 %r   reverse order of two parameters, no output
 %i   increment by one, no output
 %B   BCD (16*(value/10)) + (value%10), no output

 %n   exclusive-or all parameters with 0140 (Datamedia 2500)
 %D   Reverse coding (value - 2*(value%16)), no output (Delta Data)

</PRE>




<P>


The output string will be returned.


<P>


<B>Trequire</B>


<P>


Takes a list of capabilities as an argument and will croak if one is not
found.
</DL>

<A NAME="lbAF">&nbsp;</A>
<H2>EXAMPLES</H2>

<A NAME="ixAAR"></A>


<PRE>
    use Term::Cap;

    # Get terminal output speed
    require POSIX;
    my $termios = new POSIX::Termios;
    $termios-&gt;getattr;
    my $ospeed = $termios-&gt;getospeed;

    # Old-style ioctl code to get ospeed:
    #     require 'ioctl.pl';
    #     ioctl(TTY,$TIOCGETP,$sgtty);
    #     ($ispeed,$ospeed) = unpack('cc',$sgtty);

    # allocate and initialize a terminal structure
    $terminal = Tgetent Term::Cap { TERM =&gt; undef, OSPEED =&gt; $ospeed };

    # require certain capabilities to be available
    $terminal-&gt;Trequire(qw/ce ku kd/);

    # Output Routines, if $FH is undefined these just return the string

    # Tgoto does the % expansion stuff with the given args
    $terminal-&gt;Tgoto('cm', $col, $row, $FH);

    # Tputs doesn't do any % expansion.
    $terminal-&gt;Tputs('dl', $count = 1, $FH);

</PRE>


<A NAME="lbAG">&nbsp;</A>
<H2>COPYRIGHT AND LICENSE</H2>

<A NAME="ixAAS"></A>
Please see the <FONT SIZE="-1">README</FONT> file in distribution.
<A NAME="lbAH">&nbsp;</A>
<H2>AUTHOR</H2>

<A NAME="ixAAT"></A>
This module is part of the core Perl distribution and is also maintained
for <FONT SIZE="-1">CPAN</FONT> by Jonathan Stowe &lt;<A HREF="mailto:jns@gellyfish.com">jns@gellyfish.com</A>&gt;.
<A NAME="lbAI">&nbsp;</A>
<H2>SEE ALSO</H2>

<A NAME="ixAAU"></A>
<I><A HREF="/manpages/index.html?5+termcap">termcap</A></I>(5)
<A NAME="lbAJ">&nbsp;</A>
<H2>POD ERRORS</H2>

<A NAME="ixAAV"></A>
Hey! <B>The above document had some coding errors, which are explained below:</B>
<DL COMPACT>
<DT>Around line 89:<DD>
<A NAME="ixAAW"></A>
You can't have =items (as at line 148) unless the first thing after the =over is an =item
<P>
</DL>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DL>
<DT><A HREF="#lbAE"><FONT SIZE="-1">METHODS</FONT></A><DD>
</DL>
<DT><A HREF="#lbAF">EXAMPLES</A><DD>
<DT><A HREF="#lbAG">COPYRIGHT AND LICENSE</A><DD>
<DT><A HREF="#lbAH">AUTHOR</A><DD>
<DT><A HREF="#lbAI">SEE ALSO</A><DD>
<DT><A HREF="#lbAJ">POD ERRORS</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:43 GMT, December 24, 2015
</div></body>
</HTML>
