<!DOCTYPE html>

<HTML><head><TITLE>Manpage of IO::Socket</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content"><div class="wrap">
<H1>IO::Socket</H1>
Section: Perl Programmers Reference Guide (3pm)<BR>Updated: 2009-06-23<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

IO::Socket - Object interface to socket communications
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>


<PRE>
    use IO::Socket;

</PRE>


<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAD"></A>
<TT>&quot;IO::Socket&quot;</TT> provides an object interface to creating and using sockets. It
is built upon the IO::Handle interface and inherits all the methods defined
by IO::Handle.
<P>

<TT>&quot;IO::Socket&quot;</TT> only defines methods for those operations which are common to all
types of socket. Operations which are specified to a socket in a particular 
domain have methods defined in sub classes of <TT>&quot;IO::Socket&quot;</TT>
<P>

<TT>&quot;IO::Socket&quot;</TT> will export all functions (and constants) defined by Socket.
<A NAME="lbAE">&nbsp;</A>
<H2>CONSTRUCTOR</H2>

<A NAME="ixAAE"></A>
<DL COMPACT>
<DT>new ( [<FONT SIZE="-1">ARGS</FONT>] )<DD>
<A NAME="ixAAF"></A>
Creates an <TT>&quot;IO::Socket&quot;</TT>, which is a reference to a
newly created symbol (see the <TT>&quot;Symbol&quot;</TT> package). <TT>&quot;new&quot;</TT>
optionally takes arguments, these arguments are in key-value pairs.
<TT>&quot;new&quot;</TT> only looks for one key <TT>&quot;Domain&quot;</TT> which tells new which domain
the socket will be in. All other arguments will be passed to the
configuration method of the package for that domain, See below.


<P>




<PRE>
 NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE

</PRE>




<P>


As of <FONT SIZE="-1">VERSION</FONT> 1.18 all IO::Socket objects have autoflush turned on
by default. This was not the case with earlier releases.


<P>




<PRE>
 NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE NOTE

</PRE>


</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>METHODS</H2>

<A NAME="ixAAG"></A>
See perlfunc for complete descriptions of each of the following
supported <TT>&quot;IO::Socket&quot;</TT> methods, which are just front ends for the
corresponding built-in functions:
<P>



<PRE>
    socket
    socketpair
    bind
    listen
    accept
    send
    recv
    peername (getpeername)
    sockname (getsockname)
    shutdown

</PRE>


<P>

Some methods take slightly different arguments to those defined in perlfunc
in attempt to make the interface more flexible. These are
<DL COMPACT>
<DT>accept([<FONT SIZE="-1">PKG</FONT>])<DD>
<A NAME="ixAAH"></A>
perform the system call <TT>&quot;accept&quot;</TT> on the socket and return a new
object. The new object will be created in the same class as the listen
socket, unless <TT>&quot;PKG&quot;</TT> is specified. This object can be used to
communicate with the client that was trying to connect.


<P>


In a scalar context the new socket is returned, or undef upon
failure. In a list context a two-element array is returned containing
the new socket and the peer address; the list will be empty upon
failure.


<P>


The timeout in the [<FONT SIZE="-1">PKG</FONT>] can be specified as zero to effect a ``poll'',
but you shouldn't do that because a new IO::Select object will be
created behind the scenes just to do the single poll.  This is
horrendously inefficient.  Use rather true <I>select()</I> with a zero
timeout on the handle, or non-blocking <FONT SIZE="-1">IO</FONT>.
<DT>socketpair(<FONT SIZE="-1">DOMAIN</FONT>, <FONT SIZE="-1">TYPE</FONT>, <FONT SIZE="-1">PROTOCOL</FONT>)<DD>
<A NAME="ixAAI"></A>
Call <TT>&quot;socketpair&quot;</TT> and return a list of two sockets created, or an
empty list on failure.
</DL>
<P>

Additional methods that are provided are:
<DL COMPACT>
<DT>atmark<DD>
<A NAME="ixAAJ"></A>
True if the socket is currently positioned at the urgent data mark,
false otherwise.


<P>




<PRE>
    use IO::Socket;

    my $sock = IO::Socket::INET-&gt;new('some_server');
    $sock-&gt;read($data, 1024) until $sock-&gt;atmark;

</PRE>




<P>


Note: this is a reasonably new addition to the family of socket
functions, so all systems may not support this yet.  If it is
unsupported by the system, an attempt to use this method will
abort the program.


<P>


The <I>atmark()</I> functionality is also exportable as <I>sockatmark()</I> function:


<P>




<PRE>
        use IO::Socket 'sockatmark';

</PRE>




<P>


This allows for a more traditional use of <I>sockatmark()</I> as a procedural
socket function.  If your system does not support <I>sockatmark()</I>, the
<TT>&quot;use&quot;</TT> declaration will fail at compile time.
<DT>connected<DD>
<A NAME="ixAAK"></A>
If the socket is in a connected state the peer address is returned.
If the socket is not in a connected state then undef will be returned.
<DT>protocol<DD>
<A NAME="ixAAL"></A>
Returns the numerical number for the protocol being used on the socket, if
known. If the protocol is unknown, as with an <FONT SIZE="-1">AF_UNIX</FONT> socket, zero
is returned.
<DT>sockdomain<DD>
<A NAME="ixAAM"></A>
Returns the numerical number for the socket domain type. For example, for
an <FONT SIZE="-1">AF_INET</FONT> socket the value of &amp;AF_INET will be returned.
<DT>sockopt(<FONT SIZE="-1">OPT</FONT> [, <FONT SIZE="-1">VAL</FONT>])<DD>
<A NAME="ixAAN"></A>
Unified method to both set and get options in the <FONT SIZE="-1">SOL_SOCKET</FONT> level. If called
with one argument then getsockopt is called, otherwise setsockopt is called.
<DT>socktype<DD>
<A NAME="ixAAO"></A>
Returns the numerical number for the socket type. For example, for
a <FONT SIZE="-1">SOCK_STREAM</FONT> socket the value of &amp;SOCK_STREAM will be returned.
<DT>timeout([<FONT SIZE="-1">VAL</FONT>])<DD>
<A NAME="ixAAP"></A>
Set or get the timeout value associated with this socket. If called without
any arguments then the current setting is returned. If called with an argument
the current setting is changed and the previous value returned.
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>SEE ALSO</H2>

<A NAME="ixAAQ"></A>
Socket, IO::Handle, IO::Socket::INET, IO::Socket::UNIX
<A NAME="lbAH">&nbsp;</A>
<H2>AUTHOR</H2>

<A NAME="ixAAR"></A>
Graham Barr.  <I>atmark()</I> by Lincoln Stein.  Currently maintained by the
Perl Porters.  Please report all bugs to &lt;<A HREF="mailto:perl5-porters@perl.org">perl5-porters@perl.org</A>&gt;.
<A NAME="lbAI">&nbsp;</A>
<H2>COPYRIGHT</H2>

<A NAME="ixAAS"></A>
Copyright (c) 1997-8 Graham Barr &lt;<A HREF="mailto:gbarr@pobox.com">gbarr@pobox.com</A>&gt;. All rights reserved.
This program is free software; you can redistribute it and/or
modify it under the same terms as Perl itself.
<P>

The <I>atmark()</I> implementation: Copyright 2001, Lincoln Stein &lt;<A HREF="mailto:lstein@cshl.org">lstein@cshl.org</A>&gt;.
This module is distributed under the same terms as Perl itself.
Feel free to use, modify and redistribute it as long as you retain
the correct attribution.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">CONSTRUCTOR</A><DD>
<DT><A HREF="#lbAF">METHODS</A><DD>
<DT><A HREF="#lbAG">SEE ALSO</A><DD>
<DT><A HREF="#lbAH">AUTHOR</A><DD>
<DT><A HREF="#lbAI">COPYRIGHT</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:30 GMT, December 24, 2015
</div></div>
</body>
</HTML>
