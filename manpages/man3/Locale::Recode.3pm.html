<!DOCTYPE html>

<HTML><head><TITLE>Manpage of Locale::Recode</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux man pages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>Locale::Recode</H1>
Section: User Contributed Perl Documentation (3)<BR>Updated: 2010-08-21<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

Locale::Recode - Object-Oriented Portable Charset Conversion
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>


<PRE>
  use Locale::Recode;

  $cd = Locale::Recode-&gt;new (from =&gt; 'UTF-8',
                             to   =&gt; 'ISO-8859-1');

  die $cd-&gt;getError if $cd-&gt;getError;

  $cd-&gt;recode ($text) or die $cd-&gt;getError;

  $mime_name = Locale::Recode-&gt;resolveAlias ('latin-1');

  $supported = Locale::Recode-&gt;getSupported;

  $complete = Locale::Recode-&gt;getCharsets;

</PRE>


<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAD"></A>
This module provides routines that convert textual data from one
codeset to another in a portable way.  The module has been started
before <I><A HREF="/manpages/index.html?3+Encode">Encode</A></I>(3) was written.  It's main purpose today is to provide
charset conversion even when <I><A HREF="/manpages/index.html?3+Encode">Encode</A></I>(3) is not available on the system.
It should also work for older Perl versions without Unicode support.
<P>

Internally <I><A HREF="/manpages/index.html?3+Locale::Recode">Locale::Recode</A></I>(3) will use <I><A HREF="http://localhost/cgi-bin/man/man2html?3+Encode">Encode</A></I>(3) whenever possible,
to allow for a faster conversion and for a wider range of supported
charsets, and will only fall back to the Perl implementation when
<I><A HREF="/manpages/index.html?3+Encode">Encode</A></I>(3) is not available or does not support a particular charset
that <I><A HREF="/manpages/index.html?3+Locale::Recode">Locale::Recode</A></I>(3) does.
<P>

<I><A HREF="/manpages/index.html?3+Locale::Recode">Locale::Recode</A></I>(3) is part of libintl-perl, and it's main purpose is
actually to implement a portable charset conversion framework for
the message translation facilities described in <I><A HREF="/manpages/index.html?3+Locale::TextDomain">Locale::TextDomain</A></I>(3).
<A NAME="lbAE">&nbsp;</A>
<H2>CONSTRUCTOR</H2>

<A NAME="ixAAE"></A>
The constructor <TT>&quot;new()&quot;</TT> requires two named arguments:
<DL COMPACT>
<DT><B>from</B><DD>
<A NAME="ixAAF"></A>
The encoding of the original data.  Case doesn't matter, aliases
are resolved.
<DT><B>to</B><DD>
<A NAME="ixAAG"></A>
The target encoding.  Again, case doesn't matter, and aliases
are resolved.
</DL>
<P>

The constructor will never fail.  In case of an error, the object's
internal state is set to bad and it will refuse to do any conversions.
You can inquire the reason for the failure with the method
<I>getError()</I>.
<A NAME="lbAF">&nbsp;</A>
<H2>OBJECT METHODS</H2>

<A NAME="ixAAH"></A>
The following object methods are available.
<DL COMPACT>
<DT><B>recode (</B><FONT SIZE="-1"><B>STRING</B></FONT><B>)</B><DD>
<A NAME="ixAAI"></A>
Converts <B></B><FONT SIZE="-1"><B>STRING</B></FONT><B></B> from the source encoding into the destination
encoding.  In case of success, a truth value is returned, false
otherwise.  You can inquire the reason for the failure with the
method <I>getError()</I>.
<DT><B>getError</B><DD>
<A NAME="ixAAJ"></A>
Returns either false if the object is not in an error state or
an error message.
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>CLASS METHODS</H2>

<A NAME="ixAAK"></A>
The object provides some additional class methods:
<DL COMPACT>
<DT><B>getSupported</B><DD>
<A NAME="ixAAL"></A>
Returns a reference to a list of all supported charsets.  This
may implicitely load additional <I><A HREF="/manpages/index.html?3+Encode">Encode</A></I>(3) conversions like 
<I><A HREF="/manpages/index.html?3+Encode::HanExtra">Encode::HanExtra</A></I>(3) which may produce considerable load on your
system.


<P>


The method is therefore not intended for regular use but rather
for getting resp. displaying <I>once</I> a list of available encodings.


<P>


The members of the list are all converted to uppercase!
<DT><B>getCharsets</B><DD>
<A NAME="ixAAM"></A>
Like <I>getSupported()</I> but also returns all available aliases.
</DL>
<A NAME="lbAH">&nbsp;</A>
<H2>SUPPORTED CHARSETS</H2>

<A NAME="ixAAN"></A>
The range of supported charsets is system-dependent.  The following
somewhat special charsets are always available:
<DL COMPACT>
<DT><B></B><FONT SIZE="-1"><B>UTF-8</B></FONT><B></B><DD>
<A NAME="ixAAO"></A>
<FONT SIZE="-1">UTF-8</FONT> is available independently of your Perl version.  For Perl 5.6
or better or in the presence of <I><A HREF="/manpages/index.html?3+Encode">Encode</A></I>(3), conversions are not done
in Perl but with the interfaces provided by these facilities which
are written in C, hence much faster.


<P>


Encoding data <I>into</I> <FONT SIZE="-1">UTF-8</FONT> is fast, even if it is done in Perl.
Decoding it in Perl may become quite slow.  If you frequently have
to decode <FONT SIZE="-1">UTF-8</FONT> with <B>Locale::Recode</B> you will probably want to
make sure that you do that with Perl 5.6 or beter, or install <I><A HREF="/manpages/index.html?3+Encode">Encode</A></I>(3) to
speed up things.
<DT><B></B><FONT SIZE="-1"><B>INTERNAL</B></FONT><B></B><DD>
<A NAME="ixAAP"></A>
<FONT SIZE="-1">UTF-8</FONT> is fast to write but hard to read for applications.  It is 
therefore not the worst for internal string representation but not
far from that.  <I><A HREF="/manpages/index.html?3+Locale::Recode">Locale::Recode</A></I>(3) stores strings internally as a
reference to an array of integer values like most programming languages
(Perl is an exception) do, trading memory for performance.


<P>


The integer values are the <FONT SIZE="-1">UCS-4</FONT> codes of the characters in host
byte order.


<P>


The encoding <B></B><FONT SIZE="-1"><B>INTERNAL</B></FONT><B></B> is directly availabe via <I><A HREF="/manpages/index.html?3+Locale::Recode">Locale::Recode</A></I>(3)
but of course you should not really use it for data exchange, unless
you know what you are doing.
</DL>
<P>

<I><A HREF="/manpages/index.html?3+Locale::Recode">Locale::Recode</A></I>(3) has native support for a plethora of other encodings,
most of them 8 bit encodings that are fast to decode, including most
encodings used on popular micros like the ISO-8859-* series of encodings,
most Windows-* encodings (also known as CP*), Macintosh, Atari, etc.
<A NAME="lbAI">&nbsp;</A>
<H2>NAMES AND ALIASES</H2>

<A NAME="ixAAQ"></A>
Each charset resp. encoding is available internally under a unique
name.  Whenever the information was available, the preferred <FONT SIZE="-1">MIME</FONT> name
(see &lt;<A HREF="http://www.iana.org/assignments/character-sets/">http://www.iana.org/assignments/character-sets/</A>&gt;) was chosen as 
the internal name.
<P>

Alias handling is quite strict.  The module does not make wild guesses
at what you mean (``What's the meaning of the acronym <FONT SIZE="-1">JIS</FONT>'' is a valid
alias for ``7bit-jis'' in <I><A HREF="/manpages/index.html?3+Encode">Encode</A></I>(3) ....) but aims at providing common
aliases only.  The same applies to so-called aliases that are really 
mistakes, like ``utf8'' for <FONT SIZE="-1">UTF-8</FONT>.
<P>

The module knows all aliases that are listed with the <FONT SIZE="-1">IANA</FONT> character
set registry (&lt;<A HREF="http://www.iana.org/assignments/character-sets/">http://www.iana.org/assignments/character-sets/</A>&gt;), plus
those known to libiconv version 1.8, and a bunch of additional ones.
<A NAME="lbAJ">&nbsp;</A>
<H2>CONVERSION TABLES</H2>

<A NAME="ixAAR"></A>
The conversion tables have either been taken from official sources
like the <FONT SIZE="-1">IANA</FONT> or the Unicode Consortium, from Bruno Haible's libiconv,
or from the sources of the <FONT SIZE="-1">GNU</FONT> libc and the regression tests for 
libintl-perl will check for conformance here.  For some encodings this data
differs from <I><A HREF="/manpages/index.html?3+Encode">Encode</A></I>(3)'s data which would cause these tests to fail.  
In these cases, the module will not invoke the <I><A HREF="/manpages/index.html?3+Encode">Encode</A></I>(3) methods, but
will fall back to the internal implementation for the sake of 
consistency.
<P>

The few encodings that are affected are so simple that you will not
experience any real performance penalty unless you convert large chunks
of data.  But the package is not really intended for such use anyway, and
since <I><A HREF="/manpages/index.html?3+Encode">Encode</A></I>(3) is relatively new, I rather think that the differences
are bugs in Encode which will be fixed soon.
<A NAME="lbAK">&nbsp;</A>
<H2>BUGS</H2>

<A NAME="ixAAS"></A>
The module should provide fall back conversions for other Unicode
encoding schemes like <FONT SIZE="-1">UCS-2</FONT>, <FONT SIZE="-1">UCS-4</FONT> (big- and little-endian).
<P>

The pure Perl <FONT SIZE="-1">UTF-8</FONT> decoder will not always handle corrupt <FONT SIZE="-1">UTF-8</FONT>
correctly, especially at the end and at the beginning of the string.
This is not likely to be fixed, since the module's intention is not
to be a consistency checker for <FONT SIZE="-1">UTF-8</FONT> data.
<A NAME="lbAL">&nbsp;</A>
<H2>AUTHOR</H2>

<A NAME="ixAAT"></A>
Copyright (C) 2002-2009, Guido Flohr &lt;<A HREF="mailto:guido@imperia.net">guido@imperia.net</A>&gt;, all
rights reserved.  See the source code for details.
<P>

This software is contributed to the Perl community by Imperia 
(&lt;<A HREF="http://www.imperia.net/">http://www.imperia.net/</A>&gt;).
<A NAME="lbAM">&nbsp;</A>
<H2>SEE ALSO</H2>

<A NAME="ixAAU"></A>
<I><A HREF="/manpages/index.html?3+Encode">Encode</A></I>(3), <I><A HREF="http://localhost/cgi-bin/man/man2html?3+iconv">iconv</A></I>(3), <I><A HREF="http://localhost/cgi-bin/man/man2html?1+iconv">iconv</A></I>(1), <I><A HREF="http://localhost/cgi-bin/man/man2html?1+recode">recode</A></I>(1), <I><A HREF="http://localhost/cgi-bin/man/man2html?1+perl">perl</A></I>(1)
<A NAME="lbAN">&nbsp;</A>
<H2>POD ERRORS</H2>

<A NAME="ixAAV"></A>
Hey! <B>The above document had some coding errors, which are explained below:</B>
<DL COMPACT>
<DT>Around line 369:<DD>
<A NAME="ixAAW"></A>
=cut found outside a pod block.  Skipping to next block.
<P>
</DL>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">CONSTRUCTOR</A><DD>
<DT><A HREF="#lbAF">OBJECT METHODS</A><DD>
<DT><A HREF="#lbAG">CLASS METHODS</A><DD>
<DT><A HREF="#lbAH">SUPPORTED CHARSETS</A><DD>
<DT><A HREF="#lbAI">NAMES AND ALIASES</A><DD>
<DT><A HREF="#lbAJ">CONVERSION TABLES</A><DD>
<DT><A HREF="#lbAK">BUGS</A><DD>
<DT><A HREF="#lbAL">AUTHOR</A><DD>
<DT><A HREF="#lbAM">SEE ALSO</A><DD>
<DT><A HREF="#lbAN">POD ERRORS</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:32 GMT, December 24, 2015
</div></body>
</HTML>
