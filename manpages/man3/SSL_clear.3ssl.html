<!DOCTYPE html>

<HTML><head><TITLE>Manpage of SSL_clear</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>SSL_clear</H1>
Section: OpenSSL (3)<BR>Updated: 2002-02-27<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

SSL_clear - reset SSL object to allow another connection
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>


<PRE>
 #include &lt;<A HREF="file:/usr/include/openssl/ssl.h">openssl/ssl.h</A>&gt;

 int SSL_clear(SSL *ssl);

</PRE>


<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAD"></A>
Reset <B>ssl</B> to allow another connection. All settings (method, ciphers,
BIOs) are kept.
<A NAME="lbAE">&nbsp;</A>
<H2>NOTES</H2>

<A NAME="ixAAE"></A>
SSL_clear is used to prepare an <FONT SIZE="-1">SSL</FONT> object for a new connection. While all
settings are kept, a side effect is the handling of the current <FONT SIZE="-1">SSL</FONT> session.
If a session is still <B>open</B>, it is considered bad and will be removed
from the session cache, as required by <FONT SIZE="-1">RFC2246</FONT>. A session is considered open,
if <I><A HREF="/manpages/index.html?3+SSL_shutdown">SSL_shutdown</A></I>(3) was not called for the connection
or at least <I><A HREF="/manpages/index.html?3+SSL_set_shutdown">SSL_set_shutdown</A></I>(3) was used to
set the <FONT SIZE="-1">SSL_SENT_SHUTDOWN</FONT> state.
<P>

If a session was closed cleanly, the session object will be kept and all
settings corresponding. This explicitly means, that e.g. the special method
used during the session will be kept for the next handshake. So if the
session was a TLSv1 session, a <FONT SIZE="-1">SSL</FONT> client object will use a TLSv1 client
method for the next handshake and a <FONT SIZE="-1">SSL</FONT> server object will use a TLSv1
server method, even if SSLv23_*_methods were chosen on startup. This
will might lead to connection failures (see <I><A HREF="/manpages/index.html?3+SSL_new">SSL_new</A></I>(3))
for a description of the method's properties.
<A NAME="lbAF">&nbsp;</A>
<H2>WARNINGS</H2>

<A NAME="ixAAF"></A>
<I>SSL_clear()</I> resets the <FONT SIZE="-1">SSL</FONT> object to allow for another connection. The
reset operation however keeps several settings of the last sessions
(some of these settings were made automatically during the last
handshake). It only makes sense when opening a new session (or reusing
an old one) with the same peer that shares these settings.
<I>SSL_clear()</I> is not a short form for the sequence
<I><A HREF="/manpages/index.html?3+SSL_free">SSL_free</A></I>(3); <I><A HREF="http://localhost/cgi-bin/man/man2html?3+SSL_new">SSL_new</A></I>(3); .
<A NAME="lbAG">&nbsp;</A>
<H2>RETURN VALUES</H2>

<A NAME="ixAAG"></A>
The following return values can occur:
<DL COMPACT>
<DT>0<DD>
The <I>SSL_clear()</I> operation could not be performed. Check the error stack to
find out the reason.
<DT>1<DD>
<A NAME="ixAAH"></A>
The <I>SSL_clear()</I> operation was successful.
</DL>
<P>

<I><A HREF="/manpages/index.html?3+SSL_new">SSL_new</A></I>(3), <I><A HREF="http://localhost/cgi-bin/man/man2html?3+SSL_free">SSL_free</A></I>(3),
<I><A HREF="/manpages/index.html?3+SSL_shutdown">SSL_shutdown</A></I>(3), <I><A HREF="http://localhost/cgi-bin/man/man2html?3+SSL_set_shutdown">SSL_set_shutdown</A></I>(3),
<I><A HREF="/manpages/index.html?3+SSL_CTX_set_options">SSL_CTX_set_options</A></I>(3), <I><A HREF="http://localhost/cgi-bin/man/man2html?3+ssl">ssl</A></I>(3),
<I><A HREF="/manpages/index.html?3+SSL_CTX_set_client_cert_cb">SSL_CTX_set_client_cert_cb</A></I>(3)
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">NOTES</A><DD>
<DT><A HREF="#lbAF">WARNINGS</A><DD>
<DT><A HREF="#lbAG">RETURN VALUES</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:40 GMT, December 24, 2015
</div></body>
</HTML>
