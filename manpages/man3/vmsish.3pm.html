<!DOCTYPE html>

<HTML><head><TITLE>Manpage of vmsish</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content"><div class="wrap">
<H1>vmsish</H1>
Section: Perl Programmers Reference Guide (3pm)<BR>Updated: 2009-02-12<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

vmsish - Perl pragma to control VMS-specific language features
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>


<PRE>
    use vmsish;

    use vmsish 'status';        # or '$?'
    use vmsish 'exit';
    use vmsish 'time';

    use vmsish 'hushed';
    no vmsish 'hushed';
    vmsish::hushed($hush);

    use vmsish;
    no vmsish 'time';

</PRE>


<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAD"></A>
If no import list is supplied, all possible VMS-specific features are
assumed.  Currently, there are four VMS-specific features available:
'status' (a.k.a '$?'), 'exit', 'time' and 'hushed'.
<P>

If you're not running <FONT SIZE="-1">VMS</FONT>, this module does nothing.
<DL COMPACT>
<DT>vmsish status<DD>


<A NAME="ixAAE"></A>
This makes <TT>$?</TT> and <TT>&quot;system&quot;</TT> return the native <FONT SIZE="-1">VMS</FONT> exit status
instead of emulating the <FONT SIZE="-1">POSIX</FONT> exit status.
<DT>vmsish exit<DD>


<A NAME="ixAAF"></A>
This makes <TT>&quot;exit 1&quot;</TT> produce a successful exit (with status <FONT SIZE="-1">SS$_NORMAL</FONT>),
instead of emulating <FONT SIZE="-1">UNIX</FONT> <I>exit()</I>, which considers <TT>&quot;exit 1&quot;</TT> to indicate
an error.  As with the <FONT SIZE="-1">CRTL</FONT>'s <I>exit()</I> function, <TT>&quot;exit 0&quot;</TT> is also mapped
to an exit status of <FONT SIZE="-1">SS$_NORMAL</FONT>, and any other argument to <I>exit()</I> is
used directly as Perl's exit status.
<DT>vmsish time<DD>


<A NAME="ixAAG"></A>
This makes all times relative to the local time zone, instead of the
default of Universal Time (a.k.a Greenwich Mean Time, or <FONT SIZE="-1">GMT</FONT>).
<DT>vmsish hushed<DD>


<A NAME="ixAAH"></A>
This suppresses printing of <FONT SIZE="-1">VMS</FONT> status messages to <FONT SIZE="-1">SYS$OUTPUT</FONT> and
<FONT SIZE="-1">SYS$ERROR</FONT> if Perl terminates with an error status.  and allows
programs that are expecting ``unix-style'' Perl to avoid having to parse
<FONT SIZE="-1">VMS</FONT> error messages.  It does not suppress any messages from Perl
itself, just the messages generated by <FONT SIZE="-1">DCL</FONT> after Perl exits.  The <FONT SIZE="-1">DCL</FONT>
symbol <TT>$STATUS</TT> will still have the termination status, but with a
high-order bit set:


<P>


<FONT SIZE="-1">EXAMPLE:</FONT>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;perl&nbsp;-e``exit&nbsp;44;''&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Non-hushed&nbsp;error&nbsp;exit
<BR>&nbsp;&nbsp;&nbsp;&nbsp;<TT>%SYSTEM</TT>-F-ABORT,&nbsp;abort&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT SIZE="-1">DCL</FONT>&nbsp;message
<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;show&nbsp;sym&nbsp;<TT>$STATUS</TT>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<TT>$STATUS</TT>&nbsp;==&nbsp;``%X0000002C''


<P>




<PRE>
    $ perl -e&quot;use vmsish qw(hushed); exit 44;&quot;      Hushed error exit
    $ show sym $STATUS
      $STATUS == &quot;%X1000002C&quot;

</PRE>




<P>


The 'hushed' flag has a global scope during compilation: the <I>exit()</I> or
<I>die()</I> commands that are compiled after 'vmsish hushed' will be hushed
when they are executed.  Doing a ``no vmsish 'hushed''' turns off the
hushed flag.


<P>


The status of the hushed flag also affects output of <FONT SIZE="-1">VMS</FONT> error
messages from compilation errors.   Again, you still get the Perl
error message (and the code in <TT>$STATUS</TT>)


<P>


<FONT SIZE="-1">EXAMPLE:</FONT>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;vmsish&nbsp;'hushed';&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;turn&nbsp;on&nbsp;hushed&nbsp;flag
<BR>&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;Carp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Carp&nbsp;compiled&nbsp;hushed
<BR>&nbsp;&nbsp;&nbsp;&nbsp;exit&nbsp;44;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;will&nbsp;be&nbsp;hushed
<BR>&nbsp;&nbsp;&nbsp;&nbsp;croak('I&nbsp;die');&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;will&nbsp;be&nbsp;hushed
<BR>&nbsp;&nbsp;&nbsp;&nbsp;no&nbsp;vmsish&nbsp;'hushed';&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;turn&nbsp;off&nbsp;hushed&nbsp;flag
<BR>&nbsp;&nbsp;&nbsp;&nbsp;exit&nbsp;44;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;will&nbsp;not&nbsp;be&nbsp;hushed
<BR>&nbsp;&nbsp;&nbsp;&nbsp;croak('I&nbsp;die2'):&nbsp;&nbsp;&nbsp;#&nbsp;<FONT SIZE="-1">WILL</FONT>&nbsp;be&nbsp;hushed,&nbsp;croak&nbsp;was&nbsp;compiled&nbsp;hushed


<P>


You can also control the 'hushed' flag at run-time, using the built-in
routine <I>vmsish::hushed()</I>.  Without argument, it returns the hushed status.
Since vmsish::hushed is built-in, you do not need to ``use vmsish'' to call
it.


<P>


<FONT SIZE="-1">EXAMPLE:</FONT>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;($quiet_exit)&nbsp;{
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<I><A HREF="/manpages/index.html?1+vmsish::hushed">vmsish::hushed</A></I>(1);
<BR>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;
<BR>&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;``Sssshhhh...I'm&nbsp;hushed...\n''&nbsp;if&nbsp;<I>vmsish::hushed()</I>;
<BR>&nbsp;&nbsp;&nbsp;&nbsp;exit&nbsp;44;


<P>


Note that an <I>exit()</I> or <I>die()</I> that is compiled 'hushed' because of ``use
vmsish'' is not un-hushed by calling <I>vmsish::hushed</I>(0) at runtime.


<P>


The messages from error exits from inside the Perl core are generally
more serious, and are not suppressed.
</DL>
<P>

See ``Pragmatic Modules'' in perlmod.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:44 GMT, December 24, 2015
</div></div>
</body>
</HTML>
