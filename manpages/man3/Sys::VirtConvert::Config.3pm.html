<!DOCTYPE html>

<HTML><head><TITLE>Manpage of Sys::VirtConvert::Config</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux man pages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>Sys::VirtConvert::Config</H1>
Section: User Contributed Perl Documentation (3)<BR>Updated: 2012-06-22<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

Sys::VirtConvert::Config - Manage virt-v2v's configuration file
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>


<PRE>
 use Sys::VirtConvert::Config;

 $eh = Sys::VirtConvert::Config-&gt;new(@config_paths);

 my $isopath = $config-&gt;get_transfer_iso();
 my ($path, $deps) = $config-&gt;match_app($desc, $name, $arch);
 my ($name, $type) = $config-&gt;map_network($oldname, $oldtype);

</PRE>


<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAD"></A>
Sys::VirtConvert::Config parses and queries virt-v2v configuration files.
<A NAME="lbAE">&nbsp;</A>
<H2>METHODS</H2>

<A NAME="ixAAE"></A>
<DL COMPACT>
<DT>new(paths)<DD>
<A NAME="ixAAF"></A>
Create a new Sys::VirtConvert::Config object to operate on the configuration
files <I>paths</I>.
<DT>get_transfer_iso<DD>
<A NAME="ixAAG"></A>
Return the path to an iso image containing all software defined in the config
file. Returns undef if no transfer iso is required.
<DT>get_transfer_path(path)<DD>
<A NAME="ixAAH"></A>
Return the path to <I>path</I> as accessible by the libguestfs appliance. This
function will also ensure that the transfer iso is mounted.
<DT>mount_transfer(g)<DD>
<A NAME="ixAAI"></A>
Mount the transfer iso if it is not already mounted, and return the path where
it was mounted.
<DT>unmount_transfer(g)<DD>
<A NAME="ixAAJ"></A>
Unmount the transfer iso if it is currently mounted.
<DT>match_app<DD>
<A NAME="ixAAK"></A>
Return a matching app entry from the virt-v2v configuration. The entry is
returned as a list containing 2 values. The first contains the path to the
application itself. The second contains an arrayref containing the paths of all
the app's listed dependencies.
<DT>match_capability<DD>
<A NAME="ixAAL"></A>
Match a capability from the configuration. Returned as a hashref containing
dependencies, where each dependency is a hashref containing:


<P>




<PRE>
  {capability} -&gt;
    {name} -&gt;       : package name
      {minversion}  : minimum required version
      {ifinstalled} : 1 if the package should be upgraded if necessary, but
                      not installed if it is not already, 0 otherwise

</PRE>




<P>


Returns undef if the capability was not found.
<DT>map_network(oldname, oldtype)<DD>
<A NAME="ixAAM"></A>
Return a new network name/type for <I>oldname</I> and <I>oldtype</I> from the config.
Returns a list of 2 values: (<I>name</I>, <I>type</I>)
<DT>set_default_net_mapping(name, type)<DD>
<A NAME="ixAAN"></A>
Set the default network name and type which will be used if no specific mapping
can be found in a config file.
<DT>use_profile(name)<DD>
<A NAME="ixAAO"></A>
Use the profile <I>name</I> defined in the configuration file. Output method and
storage will be read from this profile, and any network mappings defined in it
will be used in preference to those defined at the top level of the
configuration file.
<DT>get_method<DD>
<A NAME="ixAAP"></A>
Return the output method specified in the selected profile.


<P>


<I>use_profile</I> must have been called previously.
<DT>get_storage<DD>
<A NAME="ixAAQ"></A>
Return the output storage location and a hashref of storage options from the
selected profile.


<P>


<I>use_profile</I> must have been called previously.
<DT>get_storage_opts<DD>
<A NAME="ixAAR"></A>
Return a hashref of storage options from the selected profile.


<P>


<I>use_profile</I> must have been called previously.
<DT>list_profiles<DD>
<A NAME="ixAAS"></A>
Return a list of defined profile names
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>COPYRIGHT</H2>

<A NAME="ixAAT"></A>
Copyright (C) 2009-2011 Red Hat Inc.
<A NAME="lbAG">&nbsp;</A>
<H2>LICENSE</H2>

<A NAME="ixAAU"></A>
Please see the file <FONT SIZE="-1">COPYING</FONT>.LIB for the full license.
<A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>

<A NAME="ixAAV"></A>
<I><A HREF="/manpages/index.html?1+virt-v2v">virt-v2v</A></I>(1),
&lt;<A HREF="http://libguestfs.org/">http://libguestfs.org/</A>&gt;.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">METHODS</A><DD>
<DT><A HREF="#lbAF">COPYRIGHT</A><DD>
<DT><A HREF="#lbAG">LICENSE</A><DD>
<DT><A HREF="#lbAH">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:43 GMT, December 24, 2015
</div></body>
</HTML>
