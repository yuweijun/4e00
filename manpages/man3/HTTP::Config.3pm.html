<!DOCTYPE html>

<HTML><head><TITLE>Manpage of HTTP::Config</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content"><div class="wrap">
<H1>HTTP::Config</H1>
Section: User Contributed Perl Documentation (3)<BR>Updated: 2008-10-20<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

HTTP::Config - Configuration for request and response objects
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>


<PRE>
 use HTTP::Config;
 my $c = HTTP::Config-&gt;new;
 $c-&gt;add(m_domain =&gt; &quot;.example.com&quot;, m_scheme =&gt; &quot;http&quot;, verbose =&gt; 1);
 
 use HTTP::Request;
 my $request = HTTP::Request-&gt;new(GET =&gt; &quot;<A HREF="http://www.example.com">http://www.example.com</A>&quot;);
 
 if (my @m = $c-&gt;matching($request)) {
    print &quot;Yadayada\n&quot; if $m[0]-&gt;{verbose};
 }

</PRE>


<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAD"></A>
An <TT>&quot;HTTP::Config&quot;</TT> object is a list of entries that
can be matched against request or request/response pairs.  Its
purpose is to hold configuration data that can be looked up given a
request or response object.
<P>

Each configuration entry is a hash.  Some keys specify matching to
occur against attributes of request/response objects.  Other keys can
be used to hold user data.
<P>

The following methods are provided:
<DL COMPACT>
<DT>$conf = HTTP::Config-&gt;new<DD>


<A NAME="ixAAE"></A>
Constructs a new empty <TT>&quot;HTTP::Config&quot;</TT> object and returns it.
<DT>$conf-&gt;entries<DD>


<A NAME="ixAAF"></A>
Returns the list of entries in the configuration object.
In scalar context returns the number of entries.
<DT>$conf-&gt;empty<DD>


<A NAME="ixAAG"></A>
Return true if there are no entries in the configuration object.
This is just a shorthand for <TT>&quot;not $conf-&gt;entries&quot;</TT>.
<DT>$conf-&gt;add( %matchspec, %other )<DD>


<A NAME="ixAAH"></A>

<DT>$conf-&gt;add( \%entry )<DD>


<A NAME="ixAAI"></A>

Adds a new entry to the configuration.
You can either pass separate key/value pairs or a hash reference.
<DT>$conf-&gt;remove( %spec )<DD>


<A NAME="ixAAJ"></A>
Removes (and returns) the entries that have matches for all the key/value pairs in <TT>%spec</TT>.
If <TT>%spec</TT> is empty this will match all entries; so it will empty the configuation object.
<DT>$conf-&gt;matching( $uri, $request, $response )<DD>


<A NAME="ixAAK"></A>

<DT>$conf-&gt;matching( $uri )<DD>


<A NAME="ixAAL"></A>
<DT>$conf-&gt;matching( $request )<DD>


<A NAME="ixAAM"></A>
<DT>$conf-&gt;matching( $response )<DD>


<A NAME="ixAAN"></A>

Returns the entries that match the given <TT>$uri</TT>, <TT>$request</TT> and <TT>$response</TT> triplet.


<P>


If called with a single <TT>$request</TT> object then the <TT>$uri</TT> is obtained by calling its 'uri_canonical' method.
If called with a single <TT>$response</TT> object, then the request object is obtained by calling its 'request' method;
and then the <TT>$uri</TT> is obtained as if a single <TT>$request</TT> was provided.


<P>


The entries are returned with the most specific matches first.
In scalar context returns the most specific match or <TT>&quot;undef&quot;</TT> in none match.
<DT>$conf-&gt;add_item( $item, %matchspec )<DD>


<A NAME="ixAAO"></A>

<DT>$conf-&gt;remove_items( %spec )<DD>


<A NAME="ixAAP"></A>
<DT>$conf-&gt;matching_items( $uri, $request, $response )<DD>


<A NAME="ixAAQ"></A>

Wrappers that hides the entries themselves.
</DL>
<A NAME="lbAE">&nbsp;</A>
<H3>Matching</H3>

<A NAME="ixAAR"></A>
The following keys on a configuration entry specify matching.  For all
of these you can provide an array of values instead of a single value.
The entry matches if at least one of the values in the array matches.
<P>

Entries that require match against a response object attribute will never match
unless a response object was provided.
<DL COMPACT>
<DT>m_scheme =&gt; $scheme<DD>


<A NAME="ixAAS"></A>
Matches if the <FONT SIZE="-1">URI</FONT> uses the specified scheme; e.g. ``http''.
<DT>m_secure =&gt; $bool<DD>


<A NAME="ixAAT"></A>
If <TT>$bool</TT> is <FONT SIZE="-1">TRUE</FONT>; matches if the <FONT SIZE="-1">URI</FONT> uses a secure scheme.  If <TT>$bool</TT>
is <FONT SIZE="-1">FALSE</FONT>; matches if the <FONT SIZE="-1">URI</FONT> does not use a secure scheme.  An example
of a secure scheme is ``https''.
<DT>m_host_port =&gt; $hostname:$port<DD>


<A NAME="ixAAU"></A>
Matches if the <FONT SIZE="-1">URI</FONT>'s host_port method return the specified value.
<DT>m_host =&gt; $hostname<DD>


<A NAME="ixAAV"></A>
Matches if the <FONT SIZE="-1">URI</FONT>'s host method returns the specified value.
<DT>m_port =&gt; $port<DD>


<A NAME="ixAAW"></A>
Matches if the <FONT SIZE="-1">URI</FONT>'s port method returns the specified value.
<DT>m_domain =&gt; .$domain<DD>


<A NAME="ixAAX"></A>
Matches if the <FONT SIZE="-1">URI</FONT>'s host method return a value that within the given
domain.  The hostname ``<A HREF="http://www.example.com">www.example.com</A>'' will for instance match the
domain ``.com''.
<DT>m_path =&gt; $path<DD>


<A NAME="ixAAY"></A>
Matches if the <FONT SIZE="-1">URI</FONT>'s path method returns the specified value.
<DT>m_path_prefix =&gt; $path<DD>


<A NAME="ixAAZ"></A>
Matches if the <FONT SIZE="-1">URI</FONT>'s path is the specified path or has the specified
path as prefix.
<DT>m_path_match =&gt; $Regexp<DD>


<A NAME="ixABA"></A>
Matches if the regular expression matches the <FONT SIZE="-1">URI</FONT>'s path.  Eg. qr/\.html$/.
<DT>m_method =&gt; $method<DD>


<A NAME="ixABB"></A>
Matches if the request method matches the specified value. Eg. ``<FONT SIZE="-1">GET</FONT>'' or ``<FONT SIZE="-1">POST</FONT>''.
<DT>m_code =&gt; $digit<DD>


<A NAME="ixABC"></A>

<DT>m_code =&gt; $status_code<DD>


<A NAME="ixABD"></A>

Matches if the response status code matches.  If a single digit is
specified; matches for all response status codes beginning with that digit.
<DT>m_proxy =&gt; $url<DD>


<A NAME="ixABE"></A>
Matches if the request is to be sent to the given Proxy server.
<DT>m_media_type =&gt; */*<DD>


<A NAME="ixABF"></A>

<DT>m_media_type =&gt; text/*<DD>


<A NAME="ixABG"></A>
<DT>m_media_type =&gt; html<DD>


<A NAME="ixABH"></A>
<DT>m_media_type =&gt; xhtml<DD>


<A NAME="ixABI"></A>
<DT>m_media_type =&gt; text/html<DD>


<A NAME="ixABJ"></A>

Matches if the response media type matches.


<P>


With a value of ``html'' matches if <TT>$response</TT>-&gt;content_is_html returns <FONT SIZE="-1">TRUE</FONT>.
With a value of ``xhtml'' matches if <TT>$response</TT>-&gt;content_is_xhtml returns <FONT SIZE="-1">TRUE</FONT>.
<DT>m_uri__<I>$method</I> =&gt; undef<DD>


<A NAME="ixABK"></A>
Matches if the <FONT SIZE="-1">URI</FONT> object provide the method
<DT>m_uri__<I>$method</I> =&gt; $string<DD>


<A NAME="ixABL"></A>
Matches if the <FONT SIZE="-1">URI</FONT>'s <TT>$method</TT> method returns the given value.
<DT>m_header__<I>$field</I> =&gt; $string<DD>


<A NAME="ixABM"></A>
Matches if either the request or the response have a header <TT>$field</TT> with the given value.
<DT>m_response_attr__<I>$key</I> =&gt; undef<DD>


<A NAME="ixABN"></A>

<DT>m_response_attr__<I>$key</I> =&gt; $string<DD>


<A NAME="ixABO"></A>

Matches if the response object has a that key; or the entry has the given value.
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>SEE ALSO</H2>

<A NAME="ixABP"></A>
<FONT SIZE="-1">URI</FONT>, HTTP::Request, HTTP::Response
<A NAME="lbAG">&nbsp;</A>
<H2>COPYRIGHT</H2>

<A NAME="ixABQ"></A>
Copyright 2008, Gisle Aas
<P>

This library is free software; you can redistribute it and/or
modify it under the same terms as Perl itself.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DL>
<DT><A HREF="#lbAE">Matching</A><DD>
</DL>
<DT><A HREF="#lbAF">SEE ALSO</A><DD>
<DT><A HREF="#lbAG">COPYRIGHT</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:29 GMT, December 24, 2015
</div></div>
</body>
</HTML>
