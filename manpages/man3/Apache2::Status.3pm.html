<!DOCTYPE html>

<HTML><head><TITLE>Manpage of docs::api::Apache2::Status</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>docs::api::Apache2::Status</H1>
Section: User Contributed Perl Documentation (3)<BR>Updated: 2007-11-12<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

Apache2::Status - Embedded interpreter status information
<A NAME="lbAC">&nbsp;</A>
<H2>Synopsis</H2>

<A NAME="ixAAC"></A>


<PRE>
  &lt;Location /perl-status&gt;
      SetHandler modperl
      PerlOptions +GlobalRequest
      PerlResponseHandler Apache2::Status
  &lt;/Location&gt;

  or

  &lt;Location /perl-status&gt;
      SetHandler perl-script
      PerlResponseHandler Apache2::Status
  &lt;/Location&gt;

</PRE>


<A NAME="lbAD">&nbsp;</A>
<H2>Description</H2>

<A NAME="ixAAD"></A>
The <TT>&quot;Apache2::Status&quot;</TT> module provides some information
about the status of the Perl interpreter embedded in the server.
<P>

Configure like so:
<P>



<PRE>
  &lt;Location /perl-status&gt;
      SetHandler modperl
      PerlOptions +GlobalRequest
      PerlResponseHandler Apache2::Status
  &lt;/Location&gt;

</PRE>


<P>

Notice that under the
<TT>&quot;modperl&quot;</TT> core
handler the <I>Environment</I> menu option will show only the environment
under that handler. To see the environment seen by handlers running
under the
<TT>&quot;perl-script&quot;</TT>
core handler, configure <TT>&quot;Apache2::Status&quot;</TT> as:
<P>



<PRE>
  &lt;Location /perl-status&gt;
      SetHandler perl-script
      PerlResponseHandler Apache2::Status
  &lt;/Location&gt;

</PRE>


<P>

Other modules can ``plugin'' a menu item like so:
<P>



<PRE>
  require Apache2::Module;
  Apache2::Status-&gt;menu_item(
      'DBI' =&gt; &quot;DBI connections&quot;, #item for Apache::DBI module
      sub {
          my ($r, $q) = @_; #request and CGI objects
          my (@strings);
          push @strings,  &quot;blobs of html&quot;;
          return \@strings;     #return an array ref
      }
  ) if Apache2::Module::loaded('Apache2::Status');

</PRE>


<P>

<B></B><FONT SIZE="-1"><B>WARNING</B></FONT><B></B>: <TT>&quot;Apache2::Status&quot;</TT> must be loaded before these modules via
the <TT>&quot;PerlModule&quot;</TT> or <TT>&quot;PerlRequire&quot;</TT> directives (or from
<I>startup.pl</I>).
<P>

A very common setup might be:
<BR>&nbsp;&nbsp;Perl&nbsp;Module&nbsp;B::TerseSize
<P>



<PRE>
  &lt;Location /perl-status&gt;
      SetHandler perl-script
      PerlResponseHandler Apache2::Status
      PerlSetVar StatusOptionsAll On
      PerlSetVar StatusDeparseOptions &quot;-p -sC&quot;
  &lt;/Location&gt;

</PRE>


<P>

due to the implementation of Apache2::Status::noh_fileline in B::TerseSize,
you must load B::TerseSize first.
<A NAME="lbAE">&nbsp;</A>
<H2>Options</H2>

<A NAME="ixAAE"></A>
<A NAME="lbAF">&nbsp;</A>
<H3>StatusOptionsAll</H3>



<A NAME="ixAAF"></A>
This single directive will enable all of the options described below.
<P>



<PRE>
  PerlSetVar StatusOptionsAll On

</PRE>


<A NAME="lbAG">&nbsp;</A>
<H3>StatusDumper</H3>



<A NAME="ixAAG"></A>
When browsing symbol tables, the values of arrays, hashes and scalars
can be viewed via <TT>&quot;Data::Dumper&quot;</TT> if this configuration variable is
set to <TT>&quot;On&quot;</TT>:
<P>



<PRE>
  PerlSetVar StatusDumper On

</PRE>


<A NAME="lbAH">&nbsp;</A>
<H3>StatusPeek</H3>



<A NAME="ixAAH"></A>
With this option <TT>&quot;On&quot;</TT> and the <TT>&quot;Apache::Peek&quot;</TT> module installed,
functions and variables can be viewed ala <TT>&quot;Devel::Peek&quot;</TT> style:
<P>



<PRE>
  PerlSetVar StatusPeek On

</PRE>


<A NAME="lbAI">&nbsp;</A>
<H3>StatusLexInfo</H3>



<A NAME="ixAAI"></A>
With this option <TT>&quot;On&quot;</TT> and the <TT>&quot;B::LexInfo&quot;</TT> module installed,
subroutine lexical variable information can be viewed.
<P>



<PRE>
  PerlSetVar StatusLexInfo On

</PRE>


<A NAME="lbAJ">&nbsp;</A>
<H3>StatusDeparse</H3>



<A NAME="ixAAJ"></A>
With this option <TT>&quot;On&quot;</TT> subroutines can be ``deparsed''.
<P>



<PRE>
  PerlSetVar StatusDeparse On

</PRE>


<P>

Options can be passed to <TT>&quot;B::Deparse::new&quot;</TT> like so:
<P>



<PRE>
  PerlSetVar StatusDeparseOptions &quot;-p -sC&quot;

</PRE>


<P>

See the <TT>&quot;B::Deparse&quot;</TT> manpage for details.
<A NAME="lbAK">&nbsp;</A>
<H3>StatusTerse</H3>



<A NAME="ixAAK"></A>
With this option <TT>&quot;On&quot;</TT>, text-based op tree graphs of subroutines can
be displayed, thanks to <TT>&quot;B::Terse&quot;</TT>.
<P>



<PRE>
  PerlSetVar StatusTerse On

</PRE>


<A NAME="lbAL">&nbsp;</A>
<H3>StatusTerseSize</H3>



<A NAME="ixAAL"></A>
With this option <TT>&quot;On&quot;</TT> and the <TT>&quot;B::TerseSize&quot;</TT> module installed,
text-based op tree graphs of subroutines and their size can be
displayed.  See the <TT>&quot;B::TerseSize&quot;</TT> docs for more info.
<P>



<PRE>
  PerlSetVar StatusTerseSize On

</PRE>


<A NAME="lbAM">&nbsp;</A>
<H3>StatusTerseSizeMainSummary</H3>



<A NAME="ixAAM"></A>
With this option <TT>&quot;On&quot;</TT> and the <TT>&quot;B::TerseSize&quot;</TT> module installed, a
<I>``Memory Usage''</I> will be added to the <TT>&quot;Apache2::Status&quot;</TT> main menu.
This option is disabled by default, as it can be rather cpu intensive
to summarize memory usage for the entire server.  It is strongly
suggested that this option only be used with a development server
running in <TT>&quot;-X&quot;</TT> mode, as the results will be cached.
<P>



<PRE>
  PerlSetVar StatusTerseSizeMainSummary On

</PRE>


<A NAME="lbAN">&nbsp;</A>
<H3>StatusGraph</H3>



<A NAME="ixAAN"></A>
When <TT>&quot;StatusDumper&quot;</TT> is enabled, another link <I>``</I><FONT SIZE="-1"><I>OP</I></FONT><I> Tree Graph''</I> will
be present with the dump if this configuration variable is set to
<TT>&quot;On&quot;</TT>:
<P>



<PRE>
  PerlSetVar StatusGraph

</PRE>


<P>

This requires the B module (part of the Perl compiler kit) and
<TT>&quot;B::Graph&quot;</TT> (version 0.03 or higher) module to be installed along with
the <TT>&quot;dot&quot;</TT> program.
<P>

Dot is part of the graph visualization toolkit from <FONT SIZE="-1">AT&amp;T:</FONT>
<A HREF="http://www.graphviz.org/.">http://www.graphviz.org/.</A>
<P>

<B></B><FONT SIZE="-1"><B>WARNING</B></FONT><B></B>: Some graphs may produce very large images, some graphs may
produce no image if <TT>&quot;B::Graph&quot;</TT>'s output is incorrect.
<A NAME="lbAO">&nbsp;</A>
<H3>Dot</H3>



<A NAME="ixAAO"></A>
Location of the dot program for <TT>&quot;StatusGraph&quot;</TT>,
if other than <I>/usr/bin</I> or <I>/usr/local/bin</I>
<A NAME="lbAP">&nbsp;</A>
<H3>GraphDir</H3>



<A NAME="ixAAP"></A>
Directory where <TT>&quot;StatusGraph&quot;</TT> should write it's temporary image
files.  Default is <TT>&quot;$ServerRoot/logs/b_graphs&quot;</TT>.
<A NAME="lbAQ">&nbsp;</A>
<H2>Prerequisites</H2>

<A NAME="ixAAQ"></A>
The <TT>&quot;Devel::Symdump&quot;</TT> module, version <TT>2.00</TT> or higher.
<P>

Other optional functionality requirements: <TT>&quot;B::Deparse&quot;</TT> - 0.59,
<TT>&quot;B::Fathom&quot;</TT> - 0.05, <TT>&quot;&quot;B::Graph&quot;&quot;</TT> - 0.03.
<A NAME="lbAR">&nbsp;</A>
<H2>Copyright</H2>

<A NAME="ixAAR"></A>
mod_perl 2.0 and its core modules are copyrighted under
The Apache Software License, Version 2.0.
<A NAME="lbAS">&nbsp;</A>
<H2>See Also</H2>

<A NAME="ixAAS"></A>
<I><A HREF="/manpages/index.html?1+perl">perl</A></I>(1), <I><A HREF="http://localhost/cgi-bin/man/man2html?3+Apache">Apache</A></I>(3), <I><A HREF="http://localhost/cgi-bin/man/man2html?3+Devel::Symdump">Devel::Symdump</A></I>(3), <I><A HREF="http://localhost/cgi-bin/man/man2html?3+Data::Dumper">Data::Dumper</A></I>(3), <A HREF="http://localhost/cgi-bin/man/man2html?3+B">B</A>(3),
<TT>&quot;B::Graph&quot;</TT>(3), mod_perl 2.0 documentation.
<A NAME="lbAT">&nbsp;</A>
<H2>Authors</H2>

<A NAME="ixAAT"></A>
Doug MacEachern with contributions from Stas Bekman
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">Synopsis</A><DD>
<DT><A HREF="#lbAD">Description</A><DD>
<DT><A HREF="#lbAE">Options</A><DD>
<DL>
<DT><A HREF="#lbAF">StatusOptionsAll</A><DD>
<DT><A HREF="#lbAG">StatusDumper</A><DD>
<DT><A HREF="#lbAH">StatusPeek</A><DD>
<DT><A HREF="#lbAI">StatusLexInfo</A><DD>
<DT><A HREF="#lbAJ">StatusDeparse</A><DD>
<DT><A HREF="#lbAK">StatusTerse</A><DD>
<DT><A HREF="#lbAL">StatusTerseSize</A><DD>
<DT><A HREF="#lbAM">StatusTerseSizeMainSummary</A><DD>
<DT><A HREF="#lbAN">StatusGraph</A><DD>
<DT><A HREF="#lbAO">Dot</A><DD>
<DT><A HREF="#lbAP">GraphDir</A><DD>
</DL>
<DT><A HREF="#lbAQ">Prerequisites</A><DD>
<DT><A HREF="#lbAR">Copyright</A><DD>
<DT><A HREF="#lbAS">See Also</A><DD>
<DT><A HREF="#lbAT">Authors</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:11 GMT, December 24, 2015
</div></body>
</HTML>
