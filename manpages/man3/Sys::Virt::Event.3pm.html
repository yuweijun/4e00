<!DOCTYPE html>

<HTML><head><TITLE>Manpage of Sys::Virt::Event</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux man pages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>Sys::Virt::Event</H1>
Section: User Contributed Perl Documentation (3)<BR>Updated: 2012-02-13<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

Sys::Virt::Event - An event loop contract
<A NAME="lbAC">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAC"></A>
The <TT>&quot;Sys::Virt::Event&quot;</TT> module represents the contract for integrating
libvirt with an event loop. This package is abstract and intended to
be subclassed to provide an actual implementation.
<A NAME="lbAD">&nbsp;</A>
<H2>METHODS</H2>

<A NAME="ixAAD"></A>
<DL COMPACT>
<DT><I>register_default()</I><DD>
<A NAME="ixAAE"></A>
Register the default libvirt event loop implementation
<DT><I>run_default()</I><DD>
<A NAME="ixAAF"></A>
Run a single iteration of the default event loop implementation
<DT>register($impl)<DD>
<A NAME="ixAAG"></A>
Register an event loop implementation. The implementation should be a
instance of a sub-class of the <TT>&quot;Sys::Virt::Event&quot;</TT> package.
<DT>$self-&gt;_run_handle_callback($watch, $fd, $events, $cb, $opaque)<DD>


<A NAME="ixAAH"></A>
A helper method for executing a callback in response to one of more
<TT>$events</TT> on the file handle <TT>$fd</TT>. The <TT>$watch</TT> number is the
unique idenifier associated with the file descriptor. The <TT>$cb</TT>
and <TT>$opaque</TT> parameters are the callback and data registered for
the handle.
<DT>$self-&gt;_run_timeout_callback($timer, $cb, $opaque)<DD>


<A NAME="ixAAI"></A>
A helper method for executing a callback in response to the
expiry of a timeout identified by <TT>$timer</TT>. The <TT>$cb</TT>
and <TT>$opaque</TT> parameters are the callback and data registered for
the timeout.
<DT>$self-&gt;_free_callback_opaque($ff, $opaque)<DD>


<A NAME="ixAAJ"></A>
A helper method for freeing the data associated with a callback.
The <TT>$ff</TT> and <TT>$opaque</TT> parameters are the callback and data
registered for the handle/timeout.
<DT>my $watch = Sys::Virt::Event::add_handle($fd, $events, $coderef)<DD>


<A NAME="ixAAK"></A>
Adds a watch on the file descriptor <TT>$fd</TT> for the events <TT>$events</TT>
which is a mask of the <FONT SIZE="-1">FILE</FONT> <FONT SIZE="-1">HANDLE</FONT> <FONT SIZE="-1">EVENTS</FONT> constants listed later.
The <TT>$coderef</TT> parameter is a subroutine to invoke when an event
is triggered. The subroutine will be passed three parameters, the
watch identifier, the file descriptor and the event mask. This
method returns the watch identifier which can be used to update or
remove the watch
<DT>Sys::Virt::Event::update_handle($watch, $events)<DD>


<A NAME="ixAAL"></A>
Update the event mask for the file descriptor watch <TT>$watch</TT>
to use the events <TT>$events</TT>.
<DT>Sys::Virt::Event::remove_handle($watch)<DD>
<A NAME="ixAAM"></A>
Remove the event mask for the file descriptor watch <TT>$watch</TT>.
<DT>my $watch = Sys::Virt::Event::add_timeout($frequency, $coderef)<DD>


<A NAME="ixAAN"></A>
Adds a timeout to trigger with <TT>$frequency</TT> milliseconds interval.
The <TT>$coderef</TT> parameter is a subroutine to invoke when an event
is triggered. The subroutine will be passed one parameter, the
timer identifier. This method returns the watch identifier which
can be used to update or remove the watch
<DT>Sys::Virt::Event::update_timeout($timer, $frequency)<DD>


<A NAME="ixAAO"></A>
Update the timeout <TT>$timer</TT> to have the frequency <TT>$frequency</TT>
milliseconds.
<DT>Sys::Virt::Event::remove_timeout($timer)<DD>
<A NAME="ixAAP"></A>
Remove the timeout <TT>$timer</TT>
</DL>
<A NAME="lbAE">&nbsp;</A>
<H2>CONSTANTS</H2>

<A NAME="ixAAQ"></A>
<A NAME="lbAF">&nbsp;</A>
<H3><FONT SIZE="-1">FILE</FONT> <FONT SIZE="-1">HANDLE</FONT> <FONT SIZE="-1">EVENTS</FONT></H3>

<A NAME="ixAAR"></A>
When integrating with an event loop the following constants
define the file descriptor events
<DL COMPACT>
<DT>Sys::Virt::Event::HANDLE_READABLE<DD>
<A NAME="ixAAS"></A>
The file descriptor has data available for read without blocking
<DT>Sys::Virt::Event::HANDLE_WRITABLE<DD>
<A NAME="ixAAT"></A>
The file descriptor has ability to write data without blocking
<DT>Sys::Virt::Event::HANDLE_ERROR<DD>
<A NAME="ixAAU"></A>
An error occurred on the file descriptor
<DT>Sys::Virt::Event::HANDLE_HANGUP<DD>
<A NAME="ixAAV"></A>
The remote end of the file descriptor closed
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>AUTHORS</H2>

<A NAME="ixAAW"></A>
Daniel P. Berrange &lt;<A HREF="mailto:berrange@redhat.com">berrange@redhat.com</A>&gt;
<A NAME="lbAH">&nbsp;</A>
<H2>COPYRIGHT</H2>

<A NAME="ixAAX"></A>
Copyright (C) 2006-2009 Red Hat
Copyright (C) 2006-2009 Daniel P. Berrange
<A NAME="lbAI">&nbsp;</A>
<H2>LICENSE</H2>

<A NAME="ixAAY"></A>
This program is free software; you can redistribute it and/or modify
it under the terms of either the <FONT SIZE="-1">GNU</FONT> General Public License as published
by the Free Software Foundation (either version 2 of the License, or at
your option any later version), or, the Artistic License, as specified
in the Perl <FONT SIZE="-1">README</FONT> file.
<A NAME="lbAJ">&nbsp;</A>
<H2>SEE ALSO</H2>

<A NAME="ixAAZ"></A>
Sys::Virt,  <TT>&quot;<A HREF="http://libvirt.org">http://libvirt.org</A>&quot;</TT>
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">DESCRIPTION</A><DD>
<DT><A HREF="#lbAD">METHODS</A><DD>
<DT><A HREF="#lbAE">CONSTANTS</A><DD>
<DL>
<DT><A HREF="#lbAF"><FONT SIZE="-1">FILE</FONT> <FONT SIZE="-1">HANDLE</FONT> <FONT SIZE="-1">EVENTS</FONT></A><DD>
</DL>
<DT><A HREF="#lbAG">AUTHORS</A><DD>
<DT><A HREF="#lbAH">COPYRIGHT</A><DD>
<DT><A HREF="#lbAI">LICENSE</A><DD>
<DT><A HREF="#lbAJ">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:43 GMT, December 24, 2015
</div></body>
</HTML>
