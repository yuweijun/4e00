<!DOCTYPE html>

<HTML><head><TITLE>Manpage of DBI::PurePerl</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux man pages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>DBI::PurePerl</H1>
Section: User Contributed Perl Documentation (3)<BR>Updated: 2008-06-02<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

DBI::PurePerl -- a DBI emulation using pure perl (no C/XS compilation required)
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>


<PRE>
 BEGIN { $ENV{DBI_PUREPERL} = 2 }
 use DBI;

</PRE>


<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAD"></A>
This is a pure perl emulation of the <FONT SIZE="-1">DBI</FONT> internals.  In almost all
cases you will be better off using standard <FONT SIZE="-1">DBI</FONT> since the portions
of the standard version written in C make it *much* faster.
<P>

However, if you are in a situation where it isn't possible to install
a compiled version of standard <FONT SIZE="-1">DBI</FONT>, and you're using pure-perl <FONT SIZE="-1">DBD</FONT>
drivers, then this module allows you to use most common features
of <FONT SIZE="-1">DBI</FONT> without needing any changes in your scripts.
<A NAME="lbAE">&nbsp;</A>
<H2>EXPERIMENTAL STATUS</H2>

<A NAME="ixAAE"></A>
DBI::PurePerl is new so please treat it as experimental pending
more extensive testing.  So far it has passed all tests with <FONT SIZE="-1">DBD::CSV</FONT>,
DBD::AnyData, DBD::XBase, DBD::Sprite, DBD::mysqlPP.  Please send
bug reports to Jeff Zucker at &lt;<A HREF="mailto:jeff@vpservices.com">jeff@vpservices.com</A>&gt; with a cc to
&lt;<A HREF="mailto:dbi-dev@perl.org">dbi-dev@perl.org</A>&gt;.
<A NAME="lbAF">&nbsp;</A>
<H2>USAGE</H2>

<A NAME="ixAAF"></A>
The usage is the same as for standard <FONT SIZE="-1">DBI</FONT> with the exception
that you need to set the enviornment variable <FONT SIZE="-1">DBI_PUREPERL</FONT> if
you want to use the PurePerl version.
<P>



<PRE>
 DBI_PUREPERL == 0 (the default) Always use compiled DBI, die
                   if it isn't properly compiled &amp; installed

 DBI_PUREPERL == 1 Use compiled DBI if it is properly compiled
                   &amp; installed, otherwise use PurePerl

 DBI_PUREPERL == 2 Always use PurePerl

</PRE>


<P>

You may set the enviornment variable in your shell (e.g. with
set or setenv or export, etc) or else set it in your script like
this:
<P>



<PRE>
 BEGIN { $ENV{DBI_PUREPERL}=2 }

</PRE>


<P>

before you <TT>&quot;use DBI;&quot;</TT>.
<A NAME="lbAG">&nbsp;</A>
<H2>INSTALLATION</H2>

<A NAME="ixAAG"></A>
In most situations simply install <FONT SIZE="-1">DBI</FONT> (see the <FONT SIZE="-1">DBI</FONT> pod for details).
<P>

In the situation in which you can not install <FONT SIZE="-1">DBI</FONT> itself, you
may manually copy <FONT SIZE="-1">DBI</FONT>.pm and PurePerl.pm into the appropriate
directories.
<P>

For example:
<P>



<PRE>
 cp DBI.pm      /usr/jdoe/mylibs/.
 cp PurePerl.pm /usr/jdoe/mylibs/DBI/.

</PRE>


<P>

Then add this to the top of scripts:
<P>



<PRE>
 BEGIN {
   $ENV{DBI_PUREPERL} = 1;      # or =2
   unshift @INC, '/usr/jdoe/mylibs';
 }

</PRE>


<P>

(Or should we perhaps patch Makefile.PL so that if <FONT SIZE="-1">DBI_PUREPERL</FONT>
is set to 2 prior to make, the normal compile process is skipped
and the files are installed automatically?)
<A NAME="lbAH">&nbsp;</A>
<H2>DIFFERENCES BETWEEN DBI AND DBI::PurePerl</H2>

<A NAME="ixAAH"></A>
<A NAME="lbAI">&nbsp;</A>
<H3>Attributes</H3>

<A NAME="ixAAI"></A>
Boolean attributes still return boolean values but the actual values
used may be different, i.e., 0 or undef instead of an empty string.
<P>

Some handle attributes are either not supported or have very limited
functionality:
<P>



<PRE>
  ActiveKids
  InactiveDestroy
  Kids
  Taint
  TaintIn
  TaintOut

</PRE>


<P>

(and probably others)
<A NAME="lbAJ">&nbsp;</A>
<H3>Tracing</H3>

<A NAME="ixAAJ"></A>
Trace functionality is more limited and the code to handle tracing is
only embeded into DBI:PurePerl if the <FONT SIZE="-1">DBI_TRACE</FONT> environment variable
is defined.  To enable total tracing you can set the <FONT SIZE="-1">DBI_TRACE</FONT>
environment variable as usual.  But to enable individual handle
tracing using the <I>trace()</I> method you also need to set the <FONT SIZE="-1">DBI_TRACE</FONT>
environment variable, but set it to 0.
<A NAME="lbAK">&nbsp;</A>
<H3>Parameter Usage Checking</H3>

<A NAME="ixAAK"></A>
The <FONT SIZE="-1">DBI</FONT> does some basic parameter count checking on method calls.
DBI::PurePerl doesn't.
<A NAME="lbAL">&nbsp;</A>
<H3>Speed</H3>

<A NAME="ixAAL"></A>
DBI::PurePerl is slower. Although, with some drivers in some
contexts this may not be very significant for you.
<P>

By way of example... the test.pl script in the <FONT SIZE="-1">DBI</FONT> source
distribution has a simple benchmark that just does:
<P>



<PRE>
    my $null_dbh = DBI-&gt;connect('dbi:NullP:','','');
    my $i = 10_000;
    $null_dbh-&gt;prepare('') while $i--;

</PRE>


<P>

In other words just prepares a statement, creating and destroying
a statement handle, over and over again.  Using the real <FONT SIZE="-1">DBI</FONT> this
runs at ~4550 handles per second whereas DBI::PurePerl manages
~2800 per second on the same machine (not too bad really).
<A NAME="lbAM">&nbsp;</A>
<H3>May not fully support <I>hash()</I></H3>

<A NAME="ixAAM"></A>
If you want to use type 1 hash, i.e., <TT>&quot;hash($string,1)&quot;</TT> with
DBI::PurePerl, you'll need version 1.56 or higher of Math::BigInt
(available on <FONT SIZE="-1">CPAN</FONT>).
<A NAME="lbAN">&nbsp;</A>
<H3>Doesn't support <I>preparse()</I></H3>

<A NAME="ixAAN"></A>
The <FONT SIZE="-1">DBI-</FONT>&gt;<I>preparse()</I> method isn't supported in DBI::PurePerl.
<A NAME="lbAO">&nbsp;</A>
<H3>Doesn't support DBD::Proxy</H3>

<A NAME="ixAAO"></A>
There's a subtle problem somewhere I've not been able to identify.
DBI::ProxyServer seem to work fine with DBI::PurePerl but DBD::Proxy
does not work 100% (which is sad because that would be far more useful :)
Try re-enabling t/80proxy.t for DBI::PurePerl to see if the problem
that remains will affect you're usage.
<A NAME="lbAP">&nbsp;</A>
<H3>Others</H3>

<A NAME="ixAAP"></A>


<PRE>
  can() - doesn't have any special behaviour

</PRE>


<P>

Please let us know if you find any other differences between <FONT SIZE="-1">DBI</FONT>
and DBI::PurePerl.
<A NAME="lbAQ">&nbsp;</A>
<H2>AUTHORS</H2>

<A NAME="ixAAQ"></A>
Tim Bunce and Jeff Zucker.
<P>

Tim provided the direction and basis for the code.  The original
idea for the module and most of the brute force porting from C to
Perl was by Jeff. Tim then reworked some core parts to boost the
performance and accuracy of the emulation. Thanks also to Randal
Schwartz and John Tobey for patches.
<A NAME="lbAR">&nbsp;</A>
<H2>COPYRIGHT</H2>

<A NAME="ixAAR"></A>
Copyright (c) 2002  Tim Bunce  Ireland.
<P>

See <FONT SIZE="-1">COPYRIGHT</FONT> section in <FONT SIZE="-1">DBI</FONT>.pm for usage and distribution rights.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">EXPERIMENTAL STATUS</A><DD>
<DT><A HREF="#lbAF">USAGE</A><DD>
<DT><A HREF="#lbAG">INSTALLATION</A><DD>
<DT><A HREF="#lbAH">DIFFERENCES BETWEEN DBI AND DBI::PurePerl</A><DD>
<DL>
<DT><A HREF="#lbAI">Attributes</A><DD>
<DT><A HREF="#lbAJ">Tracing</A><DD>
<DT><A HREF="#lbAK">Parameter Usage Checking</A><DD>
<DT><A HREF="#lbAL">Speed</A><DD>
<DT><A HREF="#lbAM">May not fully support <I>hash()</I></A><DD>
<DT><A HREF="#lbAN">Doesn't support <I>preparse()</I></A><DD>
<DT><A HREF="#lbAO">Doesn't support DBD::Proxy</A><DD>
<DT><A HREF="#lbAP">Others</A><DD>
</DL>
<DT><A HREF="#lbAQ">AUTHORS</A><DD>
<DT><A HREF="#lbAR">COPYRIGHT</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:22 GMT, December 24, 2015
</div></body>
</HTML>
