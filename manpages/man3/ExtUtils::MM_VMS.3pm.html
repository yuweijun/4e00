<!DOCTYPE html>

<HTML><head><TITLE>Manpage of ExtUtils::MM_VMS</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"documentation"}</div>
 </div>
 </header>
 <div class="page-content"><div class="wrap">
<H1>ExtUtils::MM_VMS</H1>
Section: Perl Programmers Reference Guide (3pm)<BR>Updated: 2009-08-05<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

ExtUtils::MM_VMS - methods to override UN*X behaviour in ExtUtils::MakeMaker
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>


<PRE>
  Do not use this directly.
  Instead, use ExtUtils::MM and it will figure out which MM_*
  class to use for you.

</PRE>


<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAD"></A>
See ExtUtils::MM_Unix for a documentation of the methods provided
there. This package overrides the implementation of these methods, not
the semantics.
<A NAME="lbAE">&nbsp;</A>
<H3>Methods always loaded</H3>

<A NAME="ixAAE"></A>
<DL COMPACT>
<DT>wraplist<DD>
<A NAME="ixAAF"></A>
Converts a list into a string wrapped at approximately 80 columns.
</DL>
<A NAME="lbAF">&nbsp;</A>
<H3>Methods</H3>

<A NAME="ixAAG"></A>
Those methods which override default MM_Unix methods are marked
``(override)'', while methods unique to <FONT SIZE="-1">MM_VMS</FONT> are marked ``(specific)''.
For overridden methods, documentation is limited to an explanation
of why this method overrides the MM_Unix method; see the ExtUtils::MM_Unix
documentation for more details.
<DL COMPACT>
<DT>guess_name (override)<DD>
<A NAME="ixAAH"></A>
Try to determine name of extension being built.  We begin with the name
of the current directory.  Since <FONT SIZE="-1">VMS</FONT> filenames are case-insensitive,
however, we look for a <I>.pm</I> file whose name matches that of the current
directory (presumably the 'main' <I>.pm</I> file for this extension), and try
to find a <TT>&quot;package&quot;</TT> statement from which to obtain the Mixed::Case
package name.
<DT>find_perl (override)<DD>
<A NAME="ixAAI"></A>
Use <FONT SIZE="-1">VMS</FONT> file specification syntax and <FONT SIZE="-1">CLI</FONT> commands to find and
invoke Perl images.
<DT>maybe_command (override)<DD>
<A NAME="ixAAJ"></A>
Follows <FONT SIZE="-1">VMS</FONT> naming conventions for executable files.
If the name passed in doesn't exactly match an executable file,
appends <I>.Exe</I> (or equivalent) to check for executable image, and <I>.Com</I>
to check for <FONT SIZE="-1">DCL</FONT> procedure.  If this fails, checks directories in <FONT SIZE="-1">DCL$PATH</FONT>
and finally <I>Sys$System:</I> for an executable file having the name specified,
with or without the <I>.Exe</I>-equivalent suffix.
<DT>pasthru (override)<DD>
<A NAME="ixAAK"></A>
<FONT SIZE="-1">VMS</FONT> has $(<FONT SIZE="-1">MMSQUALIFIERS</FONT>) which is a listing of all the original command line
options.  This is used in every invocation of make in the <FONT SIZE="-1">VMS</FONT> Makefile so
<FONT SIZE="-1">PASTHRU</FONT> should not be necessary.  Using <FONT SIZE="-1">PASTHRU</FONT> tends to blow commands past
the 256 character limit.
<DT>pm_to_blib (override)<DD>
<A NAME="ixAAL"></A>
<FONT SIZE="-1">VMS</FONT> wants a dot in every file so we can't have one called 'pm_to_blib',
it becomes 'pm_to_blib.' and <FONT SIZE="-1">MMS/K</FONT> isn't smart enough to know that when
you have a target called 'pm_to_blib' it should look for 'pm_to_blib.'.


<P>


So in <FONT SIZE="-1">VMS</FONT> its pm_to_blib.ts.
<DT>perl_script (override)<DD>
<A NAME="ixAAM"></A>
If name passed in doesn't specify a readable file, appends <I>.com</I> or
<I>.pl</I> and tries again, since it's customary to have file types on all files
under <FONT SIZE="-1">VMS</FONT>.
<DT>replace_manpage_separator<DD>
<A NAME="ixAAN"></A>
Use as separator a character which is legal in a VMS-syntax file name.
<DT>init_DEST<DD>
<A NAME="ixAAO"></A>
(override) Because of the difficulty concatenating <FONT SIZE="-1">VMS</FONT> filepaths we
must pre-expand the DEST* variables.
<DT>init_DIRFILESEP<DD>
<A NAME="ixAAP"></A>
No seperator between a directory path and a filename on <FONT SIZE="-1">VMS</FONT>.
<DT>init_main (override)<DD>
<A NAME="ixAAQ"></A>

<DT>init_others (override)<DD>
<A NAME="ixAAR"></A>

Provide VMS-specific forms of various utility commands, then hand
off to the default MM_Unix method.


<P>


<FONT SIZE="-1">DEV_NULL</FONT> should probably be overriden with something.


<P>


Also changes <FONT SIZE="-1">EQUALIZE_TIMESTAMP</FONT> to set revision date of target file to
one second later than source file, since <FONT SIZE="-1">MMK</FONT> interprets precisely
equal revision dates for a source and target file as a sign that the
target needs to be updated.
<DT>init_platform (override)<DD>
<A NAME="ixAAS"></A>
Add <FONT SIZE="-1">PERL_VMS</FONT>, <FONT SIZE="-1">MM_VMS_REVISION</FONT> and <FONT SIZE="-1">MM_VMS_VERSION</FONT>.


<P>


<FONT SIZE="-1">MM_VMS_REVISION</FONT> is for backwards compatibility before <FONT SIZE="-1">MM_VMS</FONT> had a
<TT>$VERSION</TT>.
<DT>platform_constants<DD>
<A NAME="ixAAT"></A>

<DT>init_VERSION (override)<DD>
<A NAME="ixAAU"></A>

Override the *DEFINE_VERSION macros with <FONT SIZE="-1">VMS</FONT> semantics.  Translate the
<FONT SIZE="-1">MAKEMAKER</FONT> filepath to <FONT SIZE="-1">VMS</FONT> style.
<DT>constants (override)<DD>
<A NAME="ixAAV"></A>
Fixes up numerous file and directory macros to insure <FONT SIZE="-1">VMS</FONT> syntax
regardless of input syntax.  Also makes lists of files
comma-separated.
<DT>special_targets<DD>
<A NAME="ixAAW"></A>
Clear the default .SUFFIXES and put in our own list.
<DT>cflags (override)<DD>
<A NAME="ixAAX"></A>
Bypass shell script and produce qualifiers for <FONT SIZE="-1">CC</FONT> directly (but warn
user if a shell script for this extension exists).  Fold multiple
/Defines into one, since some C compilers pay attention to only one
instance of this qualifier on the command line.
<DT>const_cccmd (override)<DD>
<A NAME="ixAAY"></A>
Adds directives to point C preprocessor to the right place when
handling #include &lt;<A HREF="file:/usr/include/sys/foo.h">sys/foo.h</A>&gt; directives.  Also constructs <FONT SIZE="-1">CC</FONT>
command line a bit differently than MM_Unix method.
<DT>tools_other (override)<DD>
<A NAME="ixAAZ"></A>
Throw in some dubious extra macros for Makefile args.


<P>


Also keep around the old $(<FONT SIZE="-1">SAY</FONT>) macro in case somebody's using it.
<DT>init_dist (override)<DD>
<A NAME="ixABA"></A>
VMSish defaults for some values.


<P>




<PRE>
  macro         description                     default

  ZIPFLAGS      flags to pass to ZIP            -Vu

  COMPRESS      compression command to          gzip
                use for tarfiles
  SUFFIX        suffix to put on                -gz 
                compressed files

  SHAR          shar command to use             vms_share

  DIST_DEFAULT  default target to use to        tardist
                create a distribution

  DISTVNAME     Use VERSION_SYM instead of      $(DISTNAME)-$(VERSION_SYM)
                VERSION for the name

</PRE>


<DT>c_o (override)<DD>
<A NAME="ixABB"></A>
Use <FONT SIZE="-1">VMS</FONT> syntax on command line.  In particular, $(<FONT SIZE="-1">DEFINE</FONT>) and
$(<FONT SIZE="-1">PERL_INC</FONT>) have been pulled into $(<FONT SIZE="-1">CCCMD</FONT>).  Also use MM[<FONT SIZE="-1">SK</FONT>] macros.
<DT>xs_c (override)<DD>
<A NAME="ixABC"></A>
Use MM[<FONT SIZE="-1">SK</FONT>] macros.
<DT>xs_o (override)<DD>
<A NAME="ixABD"></A>
Use MM[<FONT SIZE="-1">SK</FONT>] macros, and <FONT SIZE="-1">VMS</FONT> command line for C compiler.
<DT>dlsyms (override)<DD>
<A NAME="ixABE"></A>
Create <FONT SIZE="-1">VMS</FONT> linker options files specifying universal symbols for this
extension's shareable image, and listing other shareable images or 
libraries to which it should be linked.
<DT>dynamic_lib (override)<DD>
<A NAME="ixABF"></A>
Use <FONT SIZE="-1">VMS</FONT> Link command.
<DT>static_lib (override)<DD>
<A NAME="ixABG"></A>
Use <FONT SIZE="-1">VMS</FONT> commands to manipulate object library.
<DT>extra_clean_files<DD>
<A NAME="ixABH"></A>
Clean up some <FONT SIZE="-1">OS</FONT> specific files.  Plus the temp file used to shorten
a lot of commands.
<DT>zipfile_target<DD>
<A NAME="ixABI"></A>

<DT>tarfile_target<DD>
<A NAME="ixABJ"></A>
<DT>shdist_target<DD>
<A NAME="ixABK"></A>

Syntax for invoking shar, tar and zip differs from that for Unix.
<DT>install (override)<DD>
<A NAME="ixABL"></A>
Work around <FONT SIZE="-1">DCL</FONT>'s 255 character limit several times,and use
VMS-style command line quoting in a few cases.
<DT>perldepend (override)<DD>
<A NAME="ixABM"></A>
Use VMS-style syntax for files; it's cheaper to just do it directly here
than to have the MM_Unix method call <TT>&quot;catfile&quot;</TT> repeatedly.  Also, if
we have to rebuild Config.pm, use MM[<FONT SIZE="-1">SK</FONT>] to do it.
<DT>makeaperl (override)<DD>
<A NAME="ixABN"></A>
Undertake to build a new set of Perl images using <FONT SIZE="-1">VMS</FONT> commands.  Since
<FONT SIZE="-1">VMS</FONT> does dynamic loading, it's not necessary to statically link each
extension into the Perl image, so this isn't the normal build path.
Consequently, it hasn't really been tested, and may well be incomplete.
<DT>maketext_filter (override)<DD>
<A NAME="ixABO"></A>
Insure that colons marking targets are preceded by space, in order
to distinguish the target delimiter from a colon appearing as
part of a filespec.
<DT>prefixify (override)<DD>
<A NAME="ixABP"></A>
prefixifying on <FONT SIZE="-1">VMS</FONT> is simple.  Each should simply be:


<P>




<PRE>
    perl_root:[some.dir]

</PRE>




<P>


which can just be converted to:


<P>




<PRE>
    volume:[your.prefix.some.dir]

</PRE>




<P>


otherwise you get the default layout.


<P>


In effect, your search prefix is ignored and <TT>$Config</TT>{vms_prefix} is
used instead.
<DT>cd<DD>
<A NAME="ixABQ"></A>

<DT>oneliner<DD>
<A NAME="ixABR"></A>
<DT><B>echo</B><DD>
<A NAME="ixABS"></A>

perl trips up on ``&lt;foo&gt;'' thinking it's an input redirect.  So we use the
native Write command instead.  Besides, its faster.
<DT>quote_literal<DD>
<A NAME="ixABT"></A>

<DT>escape_newlines<DD>
<A NAME="ixABU"></A>
<DT>max_exec_len<DD>
<A NAME="ixABV"></A>

256 characters.
<DT>init_linker<DD>
<A NAME="ixABW"></A>

<DT>catdir (override)<DD>
<A NAME="ixABX"></A>
<DT>catfile (override)<DD>
<A NAME="ixABY"></A>

Eliminate the macros in the output to the <FONT SIZE="-1">MMS/MMK</FONT> file.


<P>


(File::Spec::VMS used to do this for us, but it's being removed)
<DT>eliminate_macros<DD>
<A NAME="ixABZ"></A>
Expands MM[<FONT SIZE="-1">KS</FONT>]/Make macros in a text string, using the contents of
identically named elements of <TT>%$self</TT>, and returns the result
as a file specification in Unix syntax.


<P>


<FONT SIZE="-1">NOTE:</FONT>  This is the canonical version of the method.  The version in
File::Spec::VMS is deprecated.
<DT>fixpath<DD>
<A NAME="ixACA"></A>


<PRE>
   my $path = $mm-&gt;fixpath($path);
   my $path = $mm-&gt;fixpath($path, $is_dir);

</PRE>




<P>


Catchall routine to clean up problem MM[<FONT SIZE="-1">SK</FONT>]/Make macros.  Expands macros
in any directory specification, in order to avoid juxtaposing two
VMS-syntax directories when MM[<FONT SIZE="-1">SK</FONT>] is run.  Also expands expressions which
are all macro, so that we can tell how long the expansion is, and avoid
overrunning <FONT SIZE="-1">DCL</FONT>'s command buffer when MM[<FONT SIZE="-1">KS</FONT>] is running.


<P>


<I>fixpath()</I> checks to see whether the result matches the name of a
directory in the current default directory and returns a directory or
file specification accordingly.  <TT>$is_dir</TT> can be set to true to
force <I>fixpath()</I> to consider the path to be a directory or false to force
it to be a file.


<P>


<FONT SIZE="-1">NOTE:</FONT>  This is the canonical version of the method.  The version in
File::Spec::VMS is deprecated.
<DT>os_flavor<DD>
<A NAME="ixACB"></A>
<FONT SIZE="-1">VMS</FONT> is <FONT SIZE="-1">VMS</FONT>.
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>AUTHOR</H2>

<A NAME="ixACC"></A>
Original author Charles Bailey <I><A HREF="mailto:bailey@newman.upenn.edu">bailey@newman.upenn.edu</A></I>
<P>

Maintained by Michael G Schwern <I><A HREF="mailto:schwern@pobox.com">schwern@pobox.com</A></I>
<P>

See ExtUtils::MakeMaker for patching and contact information.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DL>
<DT><A HREF="#lbAE">Methods always loaded</A><DD>
<DT><A HREF="#lbAF">Methods</A><DD>
</DL>
<DT><A HREF="#lbAG">AUTHOR</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:26 GMT, December 24, 2015
</div></div>
</body>
</HTML>
