<!DOCTYPE html>

<HTML><head><TITLE>Manpage of FileCache</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"documentation"}</div>
 </div>
 </header>
 <div class="page-content"><div class="wrap">
<H1>FileCache</H1>
Section: Perl Programmers Reference Guide (3pm)<BR>Updated: 2009-05-05<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

FileCache - keep more files open than the system permits
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>


<PRE>
    no strict 'refs';

    use FileCache;
    # or
    use FileCache maxopen =&gt; 16;

    cacheout $mode, $path;
    # or
    cacheout $path;
    print $path @data;

    $fh = cacheout $mode, $path;
    # or
    $fh = cacheout $path;
    print $fh @data;

</PRE>


<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAD"></A>
The <TT>&quot;cacheout&quot;</TT> function will make sure that there's a filehandle open
for reading or writing available as the pathname you give it. It
automatically closes and re-opens files if you exceed your system's
maximum number of file descriptors, or the suggested maximum <I>maxopen</I>.
<DL COMPACT>
<DT>cacheout <FONT SIZE="-1">EXPR</FONT><DD>
<A NAME="ixAAE"></A>
The 1-argument form of cacheout will open a file for writing (<TT>'&gt;'</TT>)
on it's first use, and appending (<TT>'&gt;&gt;'</TT>) thereafter.


<P>


Returns <FONT SIZE="-1">EXPR</FONT> on success for convenience. You may neglect the
return value and manipulate <FONT SIZE="-1">EXPR</FONT> as the filehandle directly if you prefer.
<DT>cacheout <FONT SIZE="-1">MODE</FONT>, <FONT SIZE="-1">EXPR</FONT><DD>
<A NAME="ixAAF"></A>
The 2-argument form of cacheout will use the supplied mode for the initial
and subsequent openings. Most valid modes for 3-argument <TT>&quot;open&quot;</TT> are supported
namely; <TT>'&gt;'</TT>, <TT>'+&gt;'</TT>, <TT>'&lt;'</TT>, <TT>'&lt;+'</TT>, <TT>'&gt;&gt;'</TT>,
<TT> '|-' </TT> and <TT> '-|' </TT>


<P>


To pass supplemental arguments to a program opened with <TT> '|-' </TT> or <TT> '-|' </TT>
append them to the command string as you would system <FONT SIZE="-1">EXPR</FONT>.


<P>


Returns <FONT SIZE="-1">EXPR</FONT> on success for convenience. You may neglect the
return value and manipulate <FONT SIZE="-1">EXPR</FONT> as the filehandle directly if you prefer.
</DL>
<A NAME="lbAE">&nbsp;</A>
<H2>CAVEATS</H2>

<A NAME="ixAAG"></A>
While it is permissible to <TT>&quot;close&quot;</TT> a FileCache managed file,
do not do so if you are calling <TT>&quot;FileCache::cacheout&quot;</TT> from a package other
than which it was imported, or with another module which overrides <TT>&quot;close&quot;</TT>.
If you must, use <TT>&quot;FileCache::cacheout_close&quot;</TT>.
<P>

Although FileCache can be used with piped opens ('-|' or '|-') doing so is
strongly discouraged.  If FileCache finds it necessary to close and then reopen
a pipe, the command at the far end of the pipe will be reexecuted - the results
of performing <FONT SIZE="-1">IO</FONT> on FileCache'd pipes is unlikely to be what you expect.  The
ability to use FileCache on pipes may be removed in a future release.
<P>

FileCache does not store the current file offset if it finds it necessary to
close a file.  When the file is reopened, the offset will be as specified by the
original <TT>&quot;open&quot;</TT> file mode.  This could be construed to be a bug.
<P>

The module functionality relies on symbolic references, so things will break
under 'use strict' unless 'no strict ``refs''' is also specified.
<A NAME="lbAF">&nbsp;</A>
<H2>BUGS</H2>

<A NAME="ixAAH"></A>
<I>sys/param.h</I> lies with its <TT>&quot;NOFILE&quot;</TT> define on some systems,
so you may have to set <I>maxopen</I> yourself.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">CAVEATS</A><DD>
<DT><A HREF="#lbAF">BUGS</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:27 GMT, December 24, 2015
</div></div>
</body>
</HTML>
