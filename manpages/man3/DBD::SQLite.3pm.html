<!DOCTYPE html>

<HTML><head><TITLE>Manpage of DBD::SQLite</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content"><div class="wrap">
<H1>DBD::SQLite</H1>
Section: User Contributed Perl Documentation (3)<BR>Updated: 2009-11-23<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

DBD::SQLite - Self-contained RDBMS in a DBI Driver
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>


<PRE>
  use DBI;
  my $dbh = DBI-&gt;connect(&quot;dbi:SQLite:dbname=$dbfile&quot;,&quot;&quot;,&quot;&quot;);

</PRE>


<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAD"></A>
SQLite is a public domain file-based relational database engine that
you can find at &lt;<A HREF="http://www.sqlite.org/">http://www.sqlite.org/</A>&gt;.
<P>

<B>DBD::SQLite</B> is a Perl <FONT SIZE="-1">DBI</FONT> driver for SQLite, that includes
the entire thing in the distribution.
So in order to get a fast transaction capable <FONT SIZE="-1">RDBMS</FONT> working for your
perl project you simply have to install this module, and <B>nothing</B>
else.
<P>

SQLite supports the following features:
<DL COMPACT>
<DT>Implements a large subset of <FONT SIZE="-1">SQL92</FONT><DD>
<A NAME="ixAAE"></A>
See &lt;<A HREF="http://www.sqlite.org/lang.html">http://www.sqlite.org/lang.html</A>&gt; for details.
<DT>A complete <FONT SIZE="-1">DB</FONT> in a single disk file<DD>
<A NAME="ixAAF"></A>
Everything for your database is stored in a single disk file, making it
easier to move things around than with <FONT SIZE="-1">DBD::CSV</FONT>.
<DT>Atomic commit and rollback<DD>
<A NAME="ixAAG"></A>
Yes, <B>DBD::SQLite</B> is small and light, but it supports full transactions!
<DT>Extensible<DD>
<A NAME="ixAAH"></A>
User-defined aggregate or regular functions can be registered with the
<FONT SIZE="-1">SQL</FONT> parser.
</DL>
<P>

There's lots more to it, so please refer to the docs on the SQLite web
page, listed above, for <FONT SIZE="-1">SQL</FONT> details. Also refer to <FONT SIZE="-1">DBI</FONT> for details
on how to use <FONT SIZE="-1">DBI</FONT> itself. The <FONT SIZE="-1">API</FONT> works like every <FONT SIZE="-1">DBI</FONT> module does.
However, currently many statement attributes are not implemented or
are limited by the typeless nature of the SQLite database.
<A NAME="lbAE">&nbsp;</A>
<H2>NOTABLE DIFFERENCES FROM OTHER DRIVERS</H2>

<A NAME="ixAAI"></A>
<A NAME="lbAF">&nbsp;</A>
<H3>Database Name Is A File Name</H3>

<A NAME="ixAAJ"></A>
SQLite creates a file per a database. You should pass the <TT>&quot;path&quot;</TT> of
the database file (with or without a parent directory) in the <FONT SIZE="-1">DBI</FONT>
connection string (as a database <TT>&quot;name&quot;</TT>):
<P>



<PRE>
  my $dbh = DBI-&gt;connect(&quot;dbi:SQLite:dbname=$dbfile&quot;,&quot;&quot;,&quot;&quot;);

</PRE>


<P>

The file is opened in read/write mode, and will be created if
it does not exist yet.
<P>

Although the database is stored in a single file, the directory
containing the database file must be writable by SQLite because the
library will create several temporary files there.
<P>

If the filename <TT>$dbfile</TT> is ``:memory:'', then a private, temporary
in-memory database is created for the connection. This in-memory
database will vanish when the database connection is closed.
It is handy for your library tests.
<P>

Note that future versions of SQLite might make use of additional
special filenames that begin with the ``:'' character. It is recommended
that when a database filename actually does begin with a ``:'' character
you should prefix the filename with a pathname such as ``./'' to avoid
ambiguity.
<P>

If the filename <TT>$dbfile</TT> is an empty string, then a private,
temporary on-disk database will be created. This private database will
be automatically deleted as soon as the database connection is closed.
<A NAME="lbAG">&nbsp;</A>
<H3>Accessing A Database With Other Tools</H3>

<A NAME="ixAAK"></A>
To access the database from the command line, try using <TT>&quot;dbish&quot;</TT>
which comes with the DBI::Shell module. Just type:
<P>



<PRE>
  dbish dbi:SQLite:foo.db

</PRE>


<P>

On the command line to access the file <I>foo.db</I>.
<P>

Alternatively you can install SQLite from the link above without
conflicting with <B>DBD::SQLite</B> and use the supplied <TT>&quot;sqlite3&quot;</TT>
command line tool.
<A NAME="lbAH">&nbsp;</A>
<H3>Blobs</H3>

<A NAME="ixAAL"></A>
As of version 1.11, blobs should ``just work'' in SQLite as text columns.
However this will cause the data to be treated as a string, so <FONT SIZE="-1">SQL</FONT>
statements such as length(x) will return the length of the column as a <FONT SIZE="-1">NUL</FONT>
terminated string, rather than the size of the blob in bytes. In order to
store natively as a <FONT SIZE="-1">BLOB</FONT> use the following code:
<P>



<PRE>
  use DBI qw(:sql_types);
  my $dbh = DBI-&gt;connect(&quot;dbi:SQLite:dbfile&quot;,&quot;&quot;,&quot;&quot;);
  
  my $blob = `cat foo.jpg`;
  my $sth = $dbh-&gt;prepare(&quot;INSERT INTO mytable VALUES (1, ?)&quot;);
  $sth-&gt;bind_param(1, $blob, SQL_BLOB);
  $sth-&gt;execute();

</PRE>


<P>

And then retrieval just works:
<P>



<PRE>
  $sth = $dbh-&gt;prepare(&quot;SELECT * FROM mytable WHERE id = 1&quot;);
  $sth-&gt;execute();
  my $row = $sth-&gt;fetch;
  my $blobo = $row-&gt;[1];
  
  # now $blobo == $blob

</PRE>


<A NAME="lbAI">&nbsp;</A>
<H3>Functions And Bind Parameters</H3>

<A NAME="ixAAM"></A>
As of this writing, a <FONT SIZE="-1">SQL</FONT> that compares a return value of a function
with a numeric bind value like this doesn't work as you might expect.
<P>



<PRE>
  my $sth = $dbh-&gt;prepare(q{
    SELECT bar FROM foo GROUP BY bar HAVING count(*) &gt; ?;
  });
  $sth-&gt;<A HREF="/manpages/index.html?5+execute">execute</A>(5);

</PRE>


<P>

This is because DBD::SQLite assumes that all the bind values are text
(and should be quoted) by default. Thus the above statement becomes
like this while executing:
<P>



<PRE>
  SELECT bar FROM foo GROUP BY bar HAVING count(*) &gt; &quot;5&quot;;

</PRE>


<P>

There are two workarounds for this.
<DL COMPACT>
<DT>Use <I>bind_param()</I> explicitly<DD>
<A NAME="ixAAN"></A>
As shown above in the <TT>&quot;BLOB&quot;</TT> section, you can always use
<TT>&quot;bind_param()&quot;</TT> to tell the type of a bind value.


<P>




<PRE>
  use DBI qw(:sql_types);  # Don't forget this
  
  my $sth = $dbh-&gt;prepare(q{
    SELECT bar FROM foo GROUP BY bar HAVING count(*) &gt; ?;
  });
  $sth-&gt;bind_param(1, 5, SQL_INTEGER);
  $sth-&gt;execute();

</PRE>


<DT>Add zero to make it a number<DD>
<A NAME="ixAAO"></A>
This is somewhat weird, but works anyway.


<P>




<PRE>
  my $sth = $dbh-&gt;prepare(q{
    SELECT bar FROM foo GROUP BY bar HAVING count(*) &gt; (? + 0);
  });
  $sth-&gt;<A HREF="/manpages/index.html?5+execute">execute</A>(5);

</PRE>


</DL>
<A NAME="lbAJ">&nbsp;</A>
<H3>Foreign Keys</H3>

<A NAME="ixAAP"></A>
<B></B><FONT SIZE="-1"><B>BE</B></FONT><B> </B><FONT SIZE="-1"><B>PREPARED</B></FONT><B>! </B><FONT SIZE="-1"><B>WOLVES</B></FONT><B> </B><FONT SIZE="-1"><B>APPROACH</B></FONT><B>!!</B>
<P>

SQLite has started supporting foreign key constraints since 3.6.19
(released on Oct 14, 2009; bundled with DBD::SQLite 1.26_05).
To be exact, SQLite has long been able to parse a schema with foreign
keys, but the constraints has not been enforced. Now you can issue
a pragma actually to enable this feature and enforce the constraints.
<P>

To do this, issue the following pragma (see below), preferably as
soon as you connect to a database and you're not in a transaction:
<P>



<PRE>
  $dbh-&gt;do(&quot;PRAGMA foreign_keys = ON&quot;);

</PRE>


<P>

And you can explicitly disable the feature whenever you like by
turning the pragma off:
<P>



<PRE>
  $dbh-&gt;do(&quot;PRAGMA foreign_keys = OFF&quot;);

</PRE>


<P>

As of this writing, this feature is disabled by default by the
sqlite team, and by us, to secure backward compatibility, as
this feature may break your applications, and actually broke
some for us. If you have used a schema with foreign key constraints
but haven't cared them much and supposed they're always ignored for
SQLite, be prepared, and <B>please do extensive testing to ensure
that your applications will continue to work when the foreign keys
support is enabled by default</B>. It is very likely that the sqlite
team will turn it default-on in the future, and we plan to do it
<FONT SIZE="-1">NO</FONT> <FONT SIZE="-1">LATER</FONT> <FONT SIZE="-1">THAN</FONT> they do so.
<P>

See &lt;<A HREF="http://www.sqlite.org/foreignkeys.html">http://www.sqlite.org/foreignkeys.html</A>&gt; for details.
<A NAME="lbAK">&nbsp;</A>
<H3>Pragma</H3>

<A NAME="ixAAQ"></A>
SQLite has a set of ``Pragma''s to modifiy its operation or to query
for its internal data. These are specific to SQLite and are not
likely to work with other <FONT SIZE="-1">DBD</FONT> libraries, but you may find some of
these are quite useful. DBD::SQLite actually sets some (like
<TT>&quot;foreign_keys&quot;</TT> above) for you when you connect to a database.
See &lt;<A HREF="http://www.sqlite.org/pragma.html">http://www.sqlite.org/pragma.html</A>&gt; for details.
<A NAME="lbAL">&nbsp;</A>
<H3>Performance</H3>

<A NAME="ixAAR"></A>
SQLite is fast, very fast. Matt processed my 72MB log file with it,
inserting the data (400,000+ rows) by using transactions and only
committing every 1000 rows (otherwise the insertion is quite slow),
and then performing queries on the data.
<P>

Queries like count(*) and avg(bytes) took fractions of a second to
return, but what surprised him most of all was:
<P>



<PRE>
  SELECT url, count(*) as count
  FROM access_log
  GROUP BY url
  ORDER BY count desc
  LIMIT 20

</PRE>


<P>

To discover the top 20 hit URLs on the site (&lt;<A HREF="http://axkit.org">http://axkit.org</A>&gt;),
and it returned within 2 seconds. He was seriously considering
switching his log analysis code to use this little speed demon!
<P>

Oh yeah, and that was with no indexes on the table, on a 400MHz <FONT SIZE="-1">PIII</FONT>.
<P>

For best performance be sure to tune your hdparm settings if you
are using linux. Also you might want to set:
<P>



<PRE>
  PRAGMA default_synchronous = OFF

</PRE>


<P>

Which will prevent sqlite from doing fsync's when writing (which
slows down non-transactional writes significantly) at the expense
of some peace of mind. Also try playing with the cache_size pragma.
<P>

The memory usage of SQLite can also be tuned using the cache_size
pragma.
<P>



<PRE>
  $dbh-&gt;do(&quot;PRAGMA cache_size = 800000&quot;);

</PRE>


<P>

The above will allocate 800M for <FONT SIZE="-1">DB</FONT> cache; the default is 2M.
Your sweet spot probably lies somewhere in between.
<A NAME="lbAM">&nbsp;</A>
<H2>DRIVER PRIVATE ATTRIBUTES</H2>

<A NAME="ixAAS"></A>
<A NAME="lbAN">&nbsp;</A>
<H3>Database Handle Attributes</H3>

<A NAME="ixAAT"></A>
<DL COMPACT>
<DT>sqlite_version<DD>
<A NAME="ixAAU"></A>
Returns the version of the SQLite library which <B>DBD::SQLite</B> is using,
e.g., ``2.8.0''. Can only be read.
<DT>sqlite_unicode<DD>
<A NAME="ixAAV"></A>
If set to a true value, <B>DBD::SQLite</B> will turn the <FONT SIZE="-1">UTF-8</FONT> flag on for all
text strings coming out of the database (this feature is currently disabled
for perl &lt; 5.8.5). For more details on the <FONT SIZE="-1">UTF-8</FONT> flag see
perlunicode. The default is for the <FONT SIZE="-1">UTF-8</FONT> flag to be turned off.


<P>


Also note that due to some bizarreness in SQLite's type system (see
&lt;<A HREF="http://www.sqlite.org/datatype3.html">http://www.sqlite.org/datatype3.html</A>&gt;), if you want to retain
blob-style behavior for <B>some</B> columns under <TT>&quot;$dbh-&gt;{sqlite_unicode} = 1&quot;</TT> (say, to store images in the database), you have to state so
explicitly using the 3-argument form of ``bind_param'' in <FONT SIZE="-1">DBI</FONT> when doing
updates:


<P>




<PRE>
  use DBI qw(:sql_types);
  $dbh-&gt;{sqlite_unicode} = 1;
  my $sth = $dbh-&gt;prepare(&quot;INSERT INTO mytable (blobcolumn) VALUES (?)&quot;);
  
  # Binary_data will be stored as is.
  $sth-&gt;bind_param(1, $binary_data, SQL_BLOB);

</PRE>




<P>


Defining the column type as <TT>&quot;BLOB&quot;</TT> in the <FONT SIZE="-1">DDL</FONT> is <B>not</B> sufficient.


<P>


This attribute was originally named as <TT>&quot;unicode&quot;</TT>, and renamed to
<TT>&quot;sqlite_unicode&quot;</TT> for integrity since version 1.26_06. Old <TT>&quot;unicode&quot;</TT>
attribute is still accessible but will be deprecated in the near future.
</DL>
<A NAME="lbAO">&nbsp;</A>
<H2>METHODS</H2>

<A NAME="ixAAW"></A>
<A NAME="lbAP">&nbsp;</A>
<H3>table_info</H3>

<A NAME="ixAAX"></A>


<PRE>
  $sth = $dbh-&gt;table_info(undef, $schema, $table, $type, \%attr);

</PRE>


<P>

Returns all tables and schemas (databases) as specified in ``table_info'' in <FONT SIZE="-1">DBI</FONT>.
The schema and table arguments will do a <TT>&quot;LIKE&quot;</TT> search. You can specify an
<FONT SIZE="-1">ESCAPE</FONT> character by including an 'Escape' attribute in \%attr. The <TT>$type</TT>
argument accepts a comma seperated list of the following types '<FONT SIZE="-1">TABLE</FONT>',
'<FONT SIZE="-1">VIEW</FONT>', '<FONT SIZE="-1">LOCAL</FONT> <FONT SIZE="-1">TEMPORARY</FONT>' and '<FONT SIZE="-1">SYSTEM</FONT> <FONT SIZE="-1">TABLE</FONT>' (by default all are returned).
Note that a statement handle is returned, and not a direct list of tables.
<P>

The following fields are returned:
<P>

<B></B><FONT SIZE="-1"><B>TABLE_CAT</B></FONT><B></B>: Always <FONT SIZE="-1">NULL</FONT>, as SQLite does not have the concept of catalogs.
<P>

<B></B><FONT SIZE="-1"><B>TABLE_SCHEM</B></FONT><B></B>: The name of the schema (database) that the table or view is
in. The default schema is 'main', temporary tables are in 'temp' and other
databases will be in the name given when the database was attached.
<P>

<B></B><FONT SIZE="-1"><B>TABLE_NAME</B></FONT><B></B>: The name of the table or view.
<P>

<B></B><FONT SIZE="-1"><B>TABLE_TYPE</B></FONT><B></B>: The type of object returned. Will be one of '<FONT SIZE="-1">TABLE</FONT>', '<FONT SIZE="-1">VIEW</FONT>',
'<FONT SIZE="-1">LOCAL</FONT> <FONT SIZE="-1">TEMPORARY</FONT>' or '<FONT SIZE="-1">SYSTEM</FONT> <FONT SIZE="-1">TABLE</FONT>'.
<A NAME="lbAQ">&nbsp;</A>
<H2>DRIVER PRIVATE METHODS</H2>

<A NAME="ixAAY"></A>
The following methods can be called via the <I>func()</I> method with a little
tweak, but the use of <I>func()</I> method is now discouraged by the <FONT SIZE="-1">DBI</FONT> author
for various reasons (see <FONT SIZE="-1">DBI</FONT>'s document
&lt;<A HREF="http://search.cpan.org/dist/DBI/lib/DBI/DBD.pm#">http://search.cpan.org/dist/DBI/lib/DBI/DBD.pm#</A><I>Using_install_method()</I>_to_expose_driver-private_methods&gt;
for details). So, if you're using <FONT SIZE="-1">DBI</FONT> &gt;= 1.608, use these <TT>&quot;sqlite_&quot;</TT>
methods. If you need to use an older <FONT SIZE="-1">DBI</FONT>, you can call these like this:
<P>



<PRE>
  $dbh-&gt;func( ..., &quot;(method name without sqlite_ prefix)&quot; );

</PRE>


<A NAME="lbAR">&nbsp;</A>
<H3>$dbh-&gt;<I>sqlite_last_insert_rowid()</I></H3>



<A NAME="ixAAZ"></A>
This method returns the last inserted rowid. If you specify an <FONT SIZE="-1">INTEGER</FONT> <FONT SIZE="-1">PRIMARY</FONT>
<FONT SIZE="-1">KEY</FONT> as the first column in your table, that is the column that is returned.
Otherwise, it is the hidden <FONT SIZE="-1">ROWID</FONT> column. See the sqlite docs for details.
<P>

Generally you should not be using this method. Use the <FONT SIZE="-1">DBI</FONT> last_insert_id
method instead. The usage of this is:
<P>



<PRE>
  $h-&gt;last_insert_id($catalog, $schema, $table_name, $field_name [, \%attr ])

</PRE>


<P>

Running <TT>&quot;$h-&gt;last_insert_id(&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;)&quot;</TT> is the equivalent of running
<TT>&quot;$dbh-&gt;sqlite_last_insert_rowid()&quot;</TT> directly.
<A NAME="lbAS">&nbsp;</A>
<H3>$dbh-&gt;<I>sqlite_busy_timeout()</I></H3>



<A NAME="ixABA"></A>
Retrieve the current busy timeout.
<A NAME="lbAT">&nbsp;</A>
<H3>$dbh-&gt;sqlite_busy_timeout( $ms )</H3>



<A NAME="ixABB"></A>
Set the current busy timeout. The timeout is in milliseconds.
<A NAME="lbAU">&nbsp;</A>
<H3>$dbh-&gt;sqlite_create_function( $name, $argc, $code_ref )</H3>



<A NAME="ixABC"></A>
This method will register a new function which will be useable in an <FONT SIZE="-1">SQL</FONT>
query. The method's parameters are:
<DL COMPACT>
<DT>$name<DD>


<A NAME="ixABD"></A>
The name of the function. This is the name of the function as it will
be used from <FONT SIZE="-1">SQL</FONT>.
<DT>$argc<DD>


<A NAME="ixABE"></A>
The number of arguments taken by the function. If this number is -1,
the function can take any number of arguments.
<DT>$code_ref<DD>


<A NAME="ixABF"></A>
This should be a reference to the function's implementation.
</DL>
<P>

For example, here is how to define a <I>now()</I> function which returns the
current number of seconds since the epoch:
<P>



<PRE>
  $dbh-&gt;sqlite_create_function( 'now', 0, sub { return time } );

</PRE>


<P>

After this, it could be use from <FONT SIZE="-1">SQL</FONT> as:
<P>



<PRE>
  INSERT INTO mytable ( now() );

</PRE>


<P>

<I></I><FONT SIZE="-1"><I>REGEXP</I></FONT><I> function</I>
<A NAME="ixABG"></A>
<P>

SQLite includes syntactic support for an infix operator '<FONT SIZE="-1">REGEXP</FONT>', but
without any implementation. The <TT>&quot;DBD::SQLite&quot;</TT> driver
automatically registers an implementation that performs standard
perl regular expression matching, using current locale. So for example
you can search for words starting with an 'A' with a query like
<P>



<PRE>
  SELECT * from table WHERE column REGEXP '\bA\w+'

</PRE>


<P>

If you want case-insensitive searching, use perl regex flags, like this :
<P>



<PRE>
  SELECT * from table WHERE column REGEXP '(?i:\bA\w+)'

</PRE>


<P>

The default <FONT SIZE="-1">REGEXP</FONT> implementation can be overriden through the
<TT>&quot;create_function&quot;</TT> <FONT SIZE="-1">API</FONT> described above.
<P>

Note that regexp matching will <B>not</B> use SQLite indices, but will iterate
over all rows, so it could be quite costly in terms of performance.
<A NAME="lbAV">&nbsp;</A>
<H3>$dbh-&gt;sqlite_create_collation( $name, $code_ref )</H3>



<A NAME="ixABH"></A>
This method manually registers a new function which will be useable in an <FONT SIZE="-1">SQL</FONT>
query as a <FONT SIZE="-1">COLLATE</FONT> option for sorting. Such functions can also be registered
automatically on demand: see section ``<FONT SIZE="-1">COLLATION</FONT> <FONT SIZE="-1">FUNCTIONS</FONT>'' below.
<P>

The method's parameters are:
<DL COMPACT>
<DT>$name<DD>


<A NAME="ixABI"></A>
The name of the function exposed to <FONT SIZE="-1">SQL</FONT>.
<DT>$code_ref<DD>


<A NAME="ixABJ"></A>
Reference to the function's implementation.
The driver will check that this is a proper sorting function.
</DL>
<A NAME="lbAW">&nbsp;</A>
<H3>$dbh-&gt;sqlite_collation_needed( $code_ref )</H3>



<A NAME="ixABK"></A>
This method manually registers a callback function that will
be invoked whenever an undefined collation sequence is required
from an <FONT SIZE="-1">SQL</FONT> statement. The callback is invoked as
<P>



<PRE>
  $code_ref-&gt;($dbh, $collation_name)

</PRE>


<P>

and should register the desired collation using
``sqlite_create_collation''.
<P>

An initial callback is already registered by <TT>&quot;DBD::SQLite&quot;</TT>,
so for most common cases it will be simpler to just
add your collation sequences in the <TT>%DBD::SQLite::COLLATION</TT>
hash (see section ``<FONT SIZE="-1">COLLATION</FONT> <FONT SIZE="-1">FUNCTIONS</FONT>'' below).
<A NAME="lbAX">&nbsp;</A>
<H3>$dbh-&gt;sqlite_create_aggregate( $name, $argc, $pkg )</H3>



<A NAME="ixABL"></A>
This method will register a new aggregate function which can then be used
from <FONT SIZE="-1">SQL</FONT>. The method's parameters are:
<DL COMPACT>
<DT>$name<DD>


<A NAME="ixABM"></A>
The name of the aggregate function, this is the name under which the
function will be available from <FONT SIZE="-1">SQL</FONT>.
<DT>$argc<DD>


<A NAME="ixABN"></A>
This is an integer which tells the <FONT SIZE="-1">SQL</FONT> parser how many arguments the
function takes. If that number is -1, the function can take any number
of arguments.
<DT>$pkg<DD>


<A NAME="ixABO"></A>
This is the package which implements the aggregator interface.
</DL>
<P>

The aggregator interface consists of defining three methods:
<DL COMPACT>
<DT><I>new()</I><DD>
<A NAME="ixABP"></A>
This method will be called once to create an object which should
be used to aggregate the rows in a particular group. The <I>step()</I> and
<I>finalize()</I> methods will be called upon the reference return by
the method.
<DT>step(@_)<DD>
<A NAME="ixABQ"></A>
This method will be called once for each row in the aggregate.
<DT><I>finalize()</I><DD>
<A NAME="ixABR"></A>
This method will be called once all rows in the aggregate were
processed and it should return the aggregate function's result. When
there is no rows in the aggregate, <I>finalize()</I> will be called right
after <I>new()</I>.
</DL>
<P>

Here is a simple aggregate function which returns the variance
(example adapted from pysqlite):
<P>



<PRE>
  package variance;
  
  sub new { bless [], shift; }
  
  sub step {
      my ( $self, $value ) = @_;
  
      push @$self, $value;
  }
  
  sub finalize {
      my $self = $_[0];
  
      my $n = @$self;
  
      # Variance is NULL unless there is more than one row
      return undef unless $n || $n == 1;
  
      my $mu = 0;
      foreach my $v ( @$self ) {
          $mu += $v;
      }
      $mu /= $n;
  
      my $sigma = 0;
      foreach my $v ( @$self ) {
          $sigma += ($x - $mu)**2;
      }
      $sigma = $sigma / ($n - 1);
  
      return $sigma;
  }
  
  $dbh-&gt;sqlite_create_aggregate( &quot;variance&quot;, 1, 'variance' );

</PRE>


<P>

The aggregate function can then be used as:
<P>



<PRE>
  SELECT group_name, variance(score)
  FROM results
  GROUP BY group_name;

</PRE>


<P>

For more examples, see the DBD::SQLite::Cookbook.
<A NAME="lbAY">&nbsp;</A>
<H3>$dbh-&gt;sqlite_progress_handler( $n_opcodes, $code_ref )</H3>



<A NAME="ixABS"></A>
This method registers a handler to be invoked periodically during long
running calls to SQLite.
<P>

An example use for this interface is to keep a <FONT SIZE="-1">GUI</FONT> updated during a
large query. The parameters are:
<DL COMPACT>
<DT>$n_opcodes<DD>


<A NAME="ixABT"></A>
The progress handler is invoked once for every <TT>$n_opcodes</TT>
virtual machine opcodes in SQLite.
<DT>$code_ref<DD>


<A NAME="ixABU"></A>
Reference to the handler subroutine.  If the progress handler returns
non-zero, the SQLite operation is interrupted. This feature can be used to
implement a ``Cancel'' button on a <FONT SIZE="-1">GUI</FONT> dialog box.


<P>


Set this argument to <TT>&quot;undef&quot;</TT> if you want to unregister a previous
progress handler.
</DL>
<A NAME="lbAZ">&nbsp;</A>
<H3>$dbh-&gt;sqlite_commit_hook( $code_ref )</H3>



<A NAME="ixABV"></A>
This method registers a callback function to be invoked whenever a
transaction is committed. Any callback set by a previous call to
<TT>&quot;sqlite_commit_hook&quot;</TT> is overridden. A reference to the previous
callback (if any) is returned.  Registering an <TT>&quot;undef&quot;</TT> disables the
callback.
<P>

When the commit hook callback returns zero, the commit operation is
allowed to continue normally. If the callback returns non-zero, then
the commit is converted into a rollback (in that case, any attempt to
<I>explicitly</I> call <TT>&quot;$dbh-&gt;rollback()&quot;</TT> afterwards would yield an
error).
<A NAME="lbBA">&nbsp;</A>
<H3>$dbh-&gt;sqlite_rollback_hook( $code_ref )</H3>



<A NAME="ixABW"></A>
This method registers a callback function to be invoked whenever a
transaction is rolled back. Any callback set by a previous call to
<TT>&quot;sqlite_rollback_hook&quot;</TT> is overridden. A reference to the previous
callback (if any) is returned.  Registering an <TT>&quot;undef&quot;</TT> disables the
callback.
<A NAME="lbBB">&nbsp;</A>
<H3>$dbh-&gt;sqlite_update_hook( $code_ref )</H3>



<A NAME="ixABX"></A>
This method registers a callback function to be invoked whenever a row
is updated, inserted or deleted. Any callback set by a previous call to
<TT>&quot;sqlite_update_hook&quot;</TT> is overridden. A reference to the previous
callback (if any) is returned.  Registering an <TT>&quot;undef&quot;</TT> disables the
callback.
<P>

The callback will be called as
<P>



<PRE>
  $code_ref-&gt;($action_code, $database, $table, $rowid)

</PRE>


<P>

where
<DL COMPACT>
<DT>$action_code<DD>


<A NAME="ixABY"></A>
is an integer equal to either <TT>&quot;DBD::SQLite::INSERT&quot;</TT>,
<TT>&quot;DBD::SQLite::DELETE&quot;</TT> or <TT>&quot;DBD::SQLite::UPDATE&quot;</TT>
(see ``Action Codes'');
<DT>$database<DD>


<A NAME="ixABZ"></A>
is the name of the database containing the affected row;
<DT>$table<DD>


<A NAME="ixACA"></A>
is the name of the table containing the affected row;
<DT>$rowid<DD>


<A NAME="ixACB"></A>
is the unique 64-bit signed integer key of the affected row within that table.
</DL>
<A NAME="lbBC">&nbsp;</A>
<H3>$dbh-&gt;sqlite_set_authorizer( $code_ref )</H3>



<A NAME="ixACC"></A>
This method registers an authorizer callback to be invoked whenever
<FONT SIZE="-1">SQL</FONT> statements are being compiled by the ``prepare'' in <FONT SIZE="-1">DBI</FONT> method.  The
authorizer callback should return <TT>&quot;DBD::SQLite::OK&quot;</TT> to allow the
action, <TT>&quot;DBD::SQLite::IGNORE&quot;</TT> to disallow the specific action but
allow the <FONT SIZE="-1">SQL</FONT> statement to continue to be compiled, or
<TT>&quot;DBD::SQLite::DENY&quot;</TT> to cause the entire <FONT SIZE="-1">SQL</FONT> statement to be rejected
with an error. If the authorizer callback returns any other value,
then then <TT>&quot;prepare&quot;</TT> call that triggered the authorizer will fail with
an error message.
<P>

An authorizer is used when preparing <FONT SIZE="-1">SQL</FONT> statements from an untrusted
source, to ensure that the <FONT SIZE="-1">SQL</FONT> statements do not try to access data
they are not allowed to see, or that they do not try to execute
malicious statements that damage the database. For example, an
application may allow a user to enter arbitrary <FONT SIZE="-1">SQL</FONT> queries for
evaluation by a database. But the application does not want the user
to be able to make arbitrary changes to the database. An authorizer
could then be put in place while the user-entered <FONT SIZE="-1">SQL</FONT> is being
prepared that disallows everything except <FONT SIZE="-1">SELECT</FONT> statements.
<P>

The callback will be called as
<P>



<PRE>
  $code_ref-&gt;($action_code, $string1, $string2, $database, $trigger_or_view)

</PRE>


<P>

where
<DL COMPACT>
<DT>$action_code<DD>


<A NAME="ixACD"></A>
is an integer that specifies what action is being authorized
(see ``Action Codes'').
<DT>$string1, $string2<DD>


<A NAME="ixACE"></A>
are strings that depend on the action code
(see ``Action Codes'').
<DT>$database<DD>


<A NAME="ixACF"></A>
is the name of the database (<TT>&quot;main&quot;</TT>, <TT>&quot;temp&quot;</TT>, etc.) if applicable.
<DT>$trigger_or_view<DD>


<A NAME="ixACG"></A>
is the name of the inner-most trigger or view that is responsible for
the access attempt, or <TT>&quot;undef&quot;</TT> if this access attempt is directly from
top-level <FONT SIZE="-1">SQL</FONT> code.
</DL>
<A NAME="lbBD">&nbsp;</A>
<H3>$dbh-&gt;sqlite_backup_from_file( $filename )</H3>



<A NAME="ixACH"></A>
This method accesses the SQLite Online Backup <FONT SIZE="-1">API</FONT>, and will take a backup of
the named database file, copying it to, and overwriting, your current database
connection. This can be particularly handy if your current connection is to the
special :memory: database, and you wish to populate it from an existing <FONT SIZE="-1">DB</FONT>.
<A NAME="lbBE">&nbsp;</A>
<H3>$dbh-&gt;sqlite_backup_to_file( $filename )</H3>



<A NAME="ixACI"></A>
This method accesses the SQLite Online Backup <FONT SIZE="-1">API</FONT>, and will take a backup of
the currently connected database, and write it out to the named file.
<A NAME="lbBF">&nbsp;</A>
<H3>$dbh-&gt;sqlite_enable_load_extension( $bool )</H3>



<A NAME="ixACJ"></A>
Calling this method with a true value enables loading (external)
sqlite3 extensions. After the call, you can load extensions like this:
<P>



<PRE>
  $dbh-&gt;<A HREF="/manpages/index.html?1+sqlite_enable_load_extension">sqlite_enable_load_extension</A>(1);
  $sth = $dbh-&gt;prepare(&quot;select load_extension('libsqlitefunctions.so')&quot;)
  or die &quot;Cannot prepare: &quot; . $dbh-&gt;errstr();

</PRE>


<A NAME="lbBG">&nbsp;</A>
<H2>DRIVER CONSTANTS</H2>

<A NAME="ixACK"></A>
A subset of SQLite C constants are made available to Perl,
because they may be needed when writing
hooks or authorizer callbacks. For accessing such constants,
the <TT>&quot;DBD::Sqlite&quot;</TT> module must be explicitly <TT>&quot;use&quot;</TT>d at compile
time. For example, an authorizer that forbids any
<FONT SIZE="-1">DELETE</FONT> operation would be written as follows :
<P>



<PRE>
  use DBD::SQLite;
  $dbh-&gt;sqlite_set_authorizer(sub {
    my $action_code = shift;
    return $action_code == DBD::SQLite::DELETE ? DBD::SQLite::DENY
                                               : DBD::SQLite::OK;
  });

</PRE>


<P>

The list of constants implemented in <TT>&quot;DBD::SQLite&quot;</TT> is given
below; more information can be found ad
at &lt;<A HREF="http://www.sqlite.org/c3ref/constlist.html">http://www.sqlite.org/c3ref/constlist.html</A>&gt;.
<A NAME="lbBH">&nbsp;</A>
<H3>Authorizer Return Codes</H3>

<A NAME="ixACL"></A>


<PRE>
  OK
  DENY
  IGNORE

</PRE>


<A NAME="lbBI">&nbsp;</A>
<H3>Action Codes</H3>

<A NAME="ixACM"></A>
The ``set_authorizer'' method registers a callback function that is
invoked to authorize certain <FONT SIZE="-1">SQL</FONT> statement actions. The first
parameter to the callback is an integer code that specifies what
action is being authorized. The second and third parameters to the
callback are strings, the meaning of which varies according to the
action code. Below is the list of action codes, together with their
associated strings.
<P>



<PRE>
  # constant              string1         string2
  # ========              =======         =======
  CREATE_INDEX            Index Name      Table Name
  CREATE_TABLE            Table Name      undef
  CREATE_TEMP_INDEX       Index Name      Table Name
  CREATE_TEMP_TABLE       Table Name      undef
  CREATE_TEMP_TRIGGER     Trigger Name    Table Name
  CREATE_TEMP_VIEW        View Name       undef
  CREATE_TRIGGER          Trigger Name    Table Name
  CREATE_VIEW             View Name       undef
  DELETE                  Table Name      undef
  DROP_INDEX              Index Name      Table Name
  DROP_TABLE              Table Name      undef
  DROP_TEMP_INDEX         Index Name      Table Name
  DROP_TEMP_TABLE         Table Name      undef
  DROP_TEMP_TRIGGER       Trigger Name    Table Name
  DROP_TEMP_VIEW          View Name       undef
  DROP_TRIGGER            Trigger Name    Table Name
  DROP_VIEW               View Name       undef
  INSERT                  Table Name      undef
  PRAGMA                  Pragma Name     1st arg or undef
  READ                    Table Name      Column Name
  SELECT                  undef           undef
  TRANSACTION             Operation       undef
  UPDATE                  Table Name      Column Name
  ATTACH                  Filename        undef
  DETACH                  Database Name   undef
  ALTER_TABLE             Database Name   Table Name
  REINDEX                 Index Name      undef
  ANALYZE                 Table Name      undef
  CREATE_VTABLE           Table Name      Module Name
  DROP_VTABLE             Table Name      Module Name
  FUNCTION                undef           Function Name
  SAVEPOINT               Operation       Savepoint Name

</PRE>


<A NAME="lbBJ">&nbsp;</A>
<H2>COLLATION FUNCTIONS</H2>

<A NAME="ixACN"></A>
<A NAME="lbBK">&nbsp;</A>
<H3>Definition</H3>

<A NAME="ixACO"></A>
SQLite v3 provides the ability for users to supply arbitrary
comparison functions, known as user-defined ``collation sequences'' or
``collating functions'', to be used for comparing two text values.
&lt;<A HREF="http://www.sqlite.org/datatype3.html#collation">http://www.sqlite.org/datatype3.html#collation</A>&gt;
explains how collations are used in various <FONT SIZE="-1">SQL</FONT> expressions.
<A NAME="lbBL">&nbsp;</A>
<H3>Builtin collation sequences</H3>

<A NAME="ixACP"></A>
The following collation sequences are builtin within SQLite :
<DL COMPACT>
<DT><B></B><FONT SIZE="-1"><B>BINARY</B></FONT><B></B><DD>
<A NAME="ixACQ"></A>
Compares string data using <I>memcmp()</I>, regardless of text encoding.
<DT><B></B><FONT SIZE="-1"><B>NOCASE</B></FONT><B></B><DD>
<A NAME="ixACR"></A>
The same as binary, except the 26 upper case characters of <FONT SIZE="-1">ASCII</FONT> are
folded to their lower case equivalents before the comparison is
performed. Note that only <FONT SIZE="-1">ASCII</FONT> characters are case folded. SQLite
does not attempt to do full <FONT SIZE="-1">UTF</FONT> case folding due to the size of the
tables required.
<DT><B></B><FONT SIZE="-1"><B>RTRIM</B></FONT><B></B><DD>
<A NAME="ixACS"></A>
The same as binary, except that trailing space characters are ignored.
</DL>
<P>

In addition, <TT>&quot;DBD::SQLite&quot;</TT> automatically installs the
following collation sequences :
<DL COMPACT>
<DT><B>perl</B><DD>
<A NAME="ixACT"></A>
corresponds to the Perl <TT>&quot;cmp&quot;</TT> operator
<DT><B>perllocale</B><DD>
<A NAME="ixACU"></A>
Perl <TT>&quot;cmp&quot;</TT> operator, in a context where <TT>&quot;use locale&quot;</TT> is activated.
</DL>
<A NAME="lbBM">&nbsp;</A>
<H3>Usage</H3>

<A NAME="ixACV"></A>
You can write for example
<P>



<PRE>
  CREATE TABLE foo(
      txt1 COLLATE perl,
      txt2 COLLATE perllocale,
      txt3 COLLATE nocase
  )

</PRE>


<P>

or
<P>



<PRE>
  SELECT * FROM foo ORDER BY name COLLATE perllocale

</PRE>


<A NAME="lbBN">&nbsp;</A>
<H3>Unicode handling</H3>

<A NAME="ixACW"></A>
If the attribute <TT>&quot;$dbh-&gt;{sqlite_unicode}&quot;</TT> is set, strings coming from
the database and passed to the collation function will be properly
tagged with the utf8 flag; but this only works if the
<TT>&quot;sqlite_unicode&quot;</TT> attribute is set <B>before</B> the first call to
a perl collation sequence . The recommended way to activate unicode
is to set the parameter at connection time :
<P>



<PRE>
  my $dbh = DBI-&gt;connect(
      &quot;dbi:SQLite:dbname=foo&quot;, &quot;&quot;, &quot;&quot;,
      {
          RaiseError     =&gt; 1,
          sqlite_unicode =&gt; 1,
      }
  );

</PRE>


<A NAME="lbBO">&nbsp;</A>
<H3>Adding user-defined collations</H3>

<A NAME="ixACX"></A>
The native SQLite <FONT SIZE="-1">API</FONT> for adding user-defined collations is
exposed through methods ``sqlite_create_collation'' and
``sqlite_collation_needed''.
<P>

To avoid calling these functions every time a <TT>$dbh</TT> handle is
created, <TT>&quot;DBD::SQLite&quot;</TT> offers a simpler interface through the
<TT>%DBD::SQLite::COLLATION</TT> hash : just insert your own
collation functions in that hash, and whenever an unknown
collation name is encountered in <FONT SIZE="-1">SQL</FONT>, the appropriate collation
function will be loaded on demand from the hash. For example,
here is a way to sort text values regardless of their accented
characters :
<P>



<PRE>
  use DBD::SQLite;
  $DBD::SQLite::COLLATION{no_accents} = sub {
    my ( $a, $b ) = map lc, @_;
    tr[aaaa.a&#176;a~cd<I>-</I>eeee.iiii.n~oooo.o~ouuuu.y]
      [aaaaaacdeeeeiiiinoooooouuuuy] for $a, $b;
    $a cmp $b;
  };
  my $dbh  = DBI-&gt;connect(&quot;dbi:SQLite:dbname=dbfile&quot;);
  my $sql  = &quot;SELECT ... FROM ... ORDER BY ... COLLATE no_accents&quot;);
  my $rows = $dbh-&gt;selectall_arrayref($sql);

</PRE>


<P>

The builtin <TT>&quot;perl&quot;</TT> or <TT>&quot;perllocale&quot;</TT> collations are predefined
in that same hash.
<P>

The <FONT SIZE="-1">COLLATION</FONT> hash is a global registry within the current process;
hence there is a risk of undesired side-effects. Therefore, to
prevent action at distance, the hash is implemented as a ``write-only''
hash, that will happily accept new entries, but will raise an
exception if any attempt is made to override or delete a existing
entry (including the builtin <TT>&quot;perl&quot;</TT> and <TT>&quot;perllocale&quot;</TT>).
<P>

If you really, really need to change or delete an entry, you can
always grab the tied object underneath <TT>%DBD::SQLite::COLLATION</TT> ---
but don't do that unless you really know what you are doing. Also
observe that changes in the global hash will not modify existing
collations in existing database handles: it will only affect new
<I>requests</I> for collations. In other words, if you want to change
the behaviour of a collation within an existing <TT>$dbh</TT>, you
need to call the ``create_collation'' method directly.
<A NAME="lbBP">&nbsp;</A>
<H2>TO DO</H2>

<A NAME="ixACY"></A>
The following items remain to be done.
<A NAME="lbBQ">&nbsp;</A>
<H3>Warnings Upgrade</H3>

<A NAME="ixACZ"></A>
We currently use a horridly hacky method to issue and suppress warnings.
It suffices for now, but just barely.
<P>

Migrate all of the warning code to use the recommended <FONT SIZE="-1">DBI</FONT> warnings.
<A NAME="lbBR">&nbsp;</A>
<H3>Leak Detection</H3>

<A NAME="ixADA"></A>
Implement one or more leak detection tests that only run during
<FONT SIZE="-1">AUTOMATED_TESTING</FONT> and <FONT SIZE="-1">RELEASE_TESTING</FONT> and validate that none of the C
code we work with leaks.
<A NAME="lbBS">&nbsp;</A>
<H3>Stream <FONT SIZE="-1">API</FONT> for Blobs</H3>

<A NAME="ixADB"></A>
Reading/writing into blobs using <TT>&quot;sqlite2_blob_open&quot;</TT> / <TT>&quot;sqlite2_blob_close&quot;</TT>.
<A NAME="lbBT">&nbsp;</A>
<H3>Flags for sqlite3_open_v2</H3>

<A NAME="ixADC"></A>
Support the full <FONT SIZE="-1">API</FONT> of sqlite3_open_v2 (flags for opening the file).
<A NAME="lbBU">&nbsp;</A>
<H2>SUPPORT</H2>

<A NAME="ixADD"></A>
Bugs should be reported via the <FONT SIZE="-1">CPAN</FONT> bug tracker at
<P>

&lt;<A HREF="http://rt.cpan.org/NoAuth/ReportBug.html?Queue=DBD-SQLite">http://rt.cpan.org/NoAuth/ReportBug.html?Queue=DBD-SQLite</A>&gt;
<P>

Note that bugs of bundled sqlite library (i.e. bugs in <TT>&quot;sqlite3.[ch]&quot;</TT>)
should be reported to the sqlite developers at sqlite.org via their bug
tracker or via their mailing list.
<A NAME="lbBV">&nbsp;</A>
<H2>AUTHORS</H2>

<A NAME="ixADE"></A>
Matt Sergeant &lt;<A HREF="mailto:matt@sergeant.org">matt@sergeant.org</A>&gt;
<P>

Francis J. Lacoste &lt;<A HREF="mailto:flacoste@logreport.org">flacoste@logreport.org</A>&gt;
<P>

Wolfgang Sourdeau &lt;<A HREF="mailto:wolfgang@logreport.org">wolfgang@logreport.org</A>&gt;
<P>

Adam Kennedy &lt;<A HREF="mailto:adamk@cpan.org">adamk@cpan.org</A>&gt;
<P>

Max Maischein &lt;<A HREF="mailto:corion@cpan.org">corion@cpan.org</A>&gt;
<P>

Laurent Dami &lt;<A HREF="mailto:dami@cpan.org">dami@cpan.org</A>&gt;
<P>

Kenichi Ishigaki &lt;<A HREF="mailto:ishigaki@cpan.org">ishigaki@cpan.org</A>&gt;
<A NAME="lbBW">&nbsp;</A>
<H2>COPYRIGHT</H2>

<A NAME="ixADF"></A>
The bundled SQLite code in this distribution is Public Domain.
<P>

DBD::SQLite is copyright 2002 - 2007 Matt Sergeant.
<P>

Some parts copyright 2008 Francis J. Lacoste.
<P>

Some parts copyright 2008 Wolfgang Sourdeau.
<P>

Some parts copyright 2008 - 2009 Adam Kennedy.
<P>

Some parts derived from DBD::SQLite::Amalgamation
copyright 2008 Audrey Tang.
<P>

This program is free software; you can redistribute
it and/or modify it under the same terms as Perl itself.
<P>

The full text of the license can be found in the
<FONT SIZE="-1">LICENSE</FONT> file included with this module.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">NOTABLE DIFFERENCES FROM OTHER DRIVERS</A><DD>
<DL>
<DT><A HREF="#lbAF">Database Name Is A File Name</A><DD>
<DT><A HREF="#lbAG">Accessing A Database With Other Tools</A><DD>
<DT><A HREF="#lbAH">Blobs</A><DD>
<DT><A HREF="#lbAI">Functions And Bind Parameters</A><DD>
<DT><A HREF="#lbAJ">Foreign Keys</A><DD>
<DT><A HREF="#lbAK">Pragma</A><DD>
<DT><A HREF="#lbAL">Performance</A><DD>
</DL>
<DT><A HREF="#lbAM">DRIVER PRIVATE ATTRIBUTES</A><DD>
<DL>
<DT><A HREF="#lbAN">Database Handle Attributes</A><DD>
</DL>
<DT><A HREF="#lbAO">METHODS</A><DD>
<DL>
<DT><A HREF="#lbAP">table_info</A><DD>
</DL>
<DT><A HREF="#lbAQ">DRIVER PRIVATE METHODS</A><DD>
<DL>
<DT><A HREF="#lbAR">$dbh-&gt;<I>sqlite_last_insert_rowid()</I></A><DD>
<DT><A HREF="#lbAS">$dbh-&gt;<I>sqlite_busy_timeout()</I></A><DD>
<DT><A HREF="#lbAT">$dbh-&gt;sqlite_busy_timeout( $ms )</A><DD>
<DT><A HREF="#lbAU">$dbh-&gt;sqlite_create_function( $name, $argc, $code_ref )</A><DD>
<DT><A HREF="#lbAV">$dbh-&gt;sqlite_create_collation( $name, $code_ref )</A><DD>
<DT><A HREF="#lbAW">$dbh-&gt;sqlite_collation_needed( $code_ref )</A><DD>
<DT><A HREF="#lbAX">$dbh-&gt;sqlite_create_aggregate( $name, $argc, $pkg )</A><DD>
<DT><A HREF="#lbAY">$dbh-&gt;sqlite_progress_handler( $n_opcodes, $code_ref )</A><DD>
<DT><A HREF="#lbAZ">$dbh-&gt;sqlite_commit_hook( $code_ref )</A><DD>
<DT><A HREF="#lbBA">$dbh-&gt;sqlite_rollback_hook( $code_ref )</A><DD>
<DT><A HREF="#lbBB">$dbh-&gt;sqlite_update_hook( $code_ref )</A><DD>
<DT><A HREF="#lbBC">$dbh-&gt;sqlite_set_authorizer( $code_ref )</A><DD>
<DT><A HREF="#lbBD">$dbh-&gt;sqlite_backup_from_file( $filename )</A><DD>
<DT><A HREF="#lbBE">$dbh-&gt;sqlite_backup_to_file( $filename )</A><DD>
<DT><A HREF="#lbBF">$dbh-&gt;sqlite_enable_load_extension( $bool )</A><DD>
</DL>
<DT><A HREF="#lbBG">DRIVER CONSTANTS</A><DD>
<DL>
<DT><A HREF="#lbBH">Authorizer Return Codes</A><DD>
<DT><A HREF="#lbBI">Action Codes</A><DD>
</DL>
<DT><A HREF="#lbBJ">COLLATION FUNCTIONS</A><DD>
<DL>
<DT><A HREF="#lbBK">Definition</A><DD>
<DT><A HREF="#lbBL">Builtin collation sequences</A><DD>
<DT><A HREF="#lbBM">Usage</A><DD>
<DT><A HREF="#lbBN">Unicode handling</A><DD>
<DT><A HREF="#lbBO">Adding user-defined collations</A><DD>
</DL>
<DT><A HREF="#lbBP">TO DO</A><DD>
<DL>
<DT><A HREF="#lbBQ">Warnings Upgrade</A><DD>
<DT><A HREF="#lbBR">Leak Detection</A><DD>
<DT><A HREF="#lbBS">Stream <FONT SIZE="-1">API</FONT> for Blobs</A><DD>
<DT><A HREF="#lbBT">Flags for sqlite3_open_v2</A><DD>
</DL>
<DT><A HREF="#lbBU">SUPPORT</A><DD>
<DT><A HREF="#lbBV">AUTHORS</A><DD>
<DT><A HREF="#lbBW">COPYRIGHT</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:22 GMT, December 24, 2015
</div></div>
</body>
</HTML>
