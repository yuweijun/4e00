<!DOCTYPE html>

<HTML><head><TITLE>Manpage of HAL-LOCK</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux man pages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>HAL-LOCK</H1>
Section: User Commands  (1)<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

hal-lock - lock an interface
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>

<B>hal-lock</B>

[options]
<P>
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>
<I>hal-lock</I> can be used to acquire a lock on a given interface
either on a given device or globally. For more information about both
the big picture and the semantics of 
<B>HAL</B>

locks, refer to the <I>HAL spec</I> which can be found in
<I>/usr/share/doc/hal-0.5.14/spec/hal-spec.html</I>

depending on the distribution.
<P>
<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

The following options are supported:
<DL COMPACT>
<DT><I>--interface</I>

<DD>
The name of the interface to lock.
<DT><I>--run</I>

<DD>
Program to run if the lock was acquired.
<DT><I>--udi</I>

<DD>
The UDI (<I>Unique Device Identifier</I>) of the device object. If this
is ommitted, the global lock will be tried.
<DT><I>--exclusive</I>

<DD>
Whether the lock can be held by others.
<DT><I>--exit-with-lock</I>

<DD>
Kill the program if the acquired lock is lost. This only makes sense if you pass a specific
<I>UDI</I>

due to the semantics of HAL locks.
<DT><I>--exit-with-dev</I>

<DD>
Kill the program if the device is removed. This only makes sense if you pass a specific
<I>UDI</I>

due to the semantics of HAL locks.
<DT><I>--help</I>

<DD>
Print out usage.
<DT><I>--version</I>

<DD>
Print the version.
<P>
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>RETURN VALUE</H2>

<P>

This program will attempt to grab a lock on a given interface.
Unless, a specific 
<I>UDI </I>

is given, the global lock will be tried.  If the lock was succesfully
acquired the program specified by the option --run will be run and
upon termination this program will exit with exit code 0. If the lock
wasn't acquired or an error occured while taking the lock, this
program will exit with a non-zero exit code and the given program will
not be run.
<P>
<P>
<A NAME="lbAG">&nbsp;</A>
<H2>NOTES</H2>

<P>

This program is only useful for launching software that doesn't use
HAL at all (since such software launched using 
<I>hal-lock </I>

would be locked out itself); for example a partition table editor
<I>part-foo</I>

may use wrapper script like this
<P>
<I>hal-lock --interface org.freedesktop.Hal.Device.Storage --exclusive --run /path/to/part-foo-program</I>

<P>
<A NAME="lbAH">&nbsp;</A>
<H2>BUGS</H2>

<P>

Please send bug reports to either the distribution or the HAL
mailing list, see 
<I><A HREF="http://lists.freedesktop.org/mailman/listinfo/hal">http://lists.freedesktop.org/mailman/listinfo/hal</A></I>

on how to subscribe.
<P>
<A NAME="lbAI">&nbsp;</A>
<H2>SEE ALSO</H2>

<P>

<I><A HREF="/manpages/index.html?8+hald">hald</A></I>(8), 
<I><A HREF="/manpages/index.html?1+lshal">lshal</A></I>(1), 
<I><A HREF="/manpages/index.html?1+hal-get-property">hal-get-property</A></I>(1),
<I><A HREF="/manpages/index.html?1+hal-set-property">hal-set-property</A></I>(1),
<I><A HREF="/manpages/index.html?1+hal-find-by-property">hal-find-by-property</A></I>(1),
<I><A HREF="/manpages/index.html?1+hal-find-by-capability">hal-find-by-capability</A></I>(1)
<P>
<A NAME="lbAJ">&nbsp;</A>
<H2>AUTHOR</H2>

Written by David Zeuthen &lt;<A HREF="mailto:david@fubar.dk">david@fubar.dk</A>&gt; with a lot of help from many
others.
<P>
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPTIONS</A><DD>
<DT><A HREF="#lbAF">RETURN VALUE</A><DD>
<DT><A HREF="#lbAG">NOTES</A><DD>
<DT><A HREF="#lbAH">BUGS</A><DD>
<DT><A HREF="#lbAI">SEE ALSO</A><DD>
<DT><A HREF="#lbAJ">AUTHOR</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:29:04 GMT, December 24, 2015
</div></body>
</HTML>
