<!DOCTYPE html>

<HTML><head><TITLE>Manpage of CMSUTIL</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"documentation"}</div>
 </div>
 </header>
 <div class="page-content"><div class="wrap">
<H1>CMSUTIL</H1>
Section: NSS Security Tools (1)<BR>Updated: 5 June 2014<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>





















<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

cmsutil - Performs basic cryptograpic operations, such as encryption and decryption, on Cryptographic Message Syntax (CMS) messages.
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<DL COMPACT>
<DT>
<B>cmsutil</B> [<I>options</I>] [[<I>arguments</I>]]
</DL>
<A NAME="lbAD">&nbsp;</A>
<H2>STATUS</H2>

<P>

<DD>This documentation is still work in progress. Please contribute to the initial review in
m[blue]<B>Mozilla NSS bug 836477</B>m[]<FONT SIZE="-2">[1]</FONT>
<A NAME="lbAE">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>

The
<B>cmsutil</B>
command-line uses the S/MIME Toolkit to perform basic operations, such as encryption and decryption, on Cryptographic Message Syntax (CMS) messages.
<P>

To run cmsutil, type the command cmsutil option [arguments] where option and arguments are combinations of the options and arguments listed in the following section. Each command takes one option. Each option may take zero or more arguments. To see a usage string, issue the command without options.
<A NAME="lbAF">&nbsp;</A>
<H2>OPTIONS AND ARGUMENTS</H2>

<P>

<P>

<B>Options</B>
<P>

Options specify an action. Option arguments modify an action. The options and arguments for the cmsutil command are defined as follows:
<P>

-C
<DL COMPACT><DT><DD>
Encrypt a message.
</DL>

<P>

-D
<DL COMPACT><DT><DD>
Decode a message.
</DL>

<P>

-E
<DL COMPACT><DT><DD>
Envelope a message.
</DL>

<P>

-O
<DL COMPACT><DT><DD>
Create a certificates-only message.
</DL>

<P>

-S
<DL COMPACT><DT><DD>
Sign a message.
</DL>

<P>

<B>Arguments</B>
<P>

Option arguments modify an action.
<P>

-b
<DL COMPACT><DT><DD>
Decode a batch of files named in infile.
</DL>

<P>

-c content
<DL COMPACT><DT><DD>
Use this detached content (decode only).
</DL>

<P>

-d dbdir
<DL COMPACT><DT><DD>
Specify the key/certificate database directory (default is &quot;.&quot;)
</DL>

<P>

-e envfile
<DL COMPACT><DT><DD>
Specify a file containing an enveloped message for a set of recipients to which you would like to send an encrypted message. If this is the first encrypted message for that set of recipients, a new enveloped message will be created that you can then use for future messages (encrypt only).
</DL>

<P>

-f pwfile
<DL COMPACT><DT><DD>
Use password file to set password on all PKCS#11 tokens.
</DL>

<P>

-G
<DL COMPACT><DT><DD>
Include a signing time attribute (sign only).
</DL>

<P>

-H hash
<DL COMPACT><DT><DD>
Use specified hash algorithm (default:SHA1).
</DL>

<P>

-h num
<DL COMPACT><DT><DD>
Generate email headers with info about CMS message (decode only).
</DL>

<P>

-i infile
<DL COMPACT><DT><DD>
Use infile as a source of data (default is stdin).
</DL>

<P>

-k
<DL COMPACT><DT><DD>
Keep decoded encryption certs in permanent cert db.
</DL>

<P>

-N nickname
<DL COMPACT><DT><DD>
Specify nickname of certificate to sign with (sign only).
</DL>

<P>

-n
<DL COMPACT><DT><DD>
Suppress output of contents (decode only).
</DL>

<P>

-o outfile
<DL COMPACT><DT><DD>
Use outfile as a destination of data (default is stdout).
</DL>

<P>

-P
<DL COMPACT><DT><DD>
Include an S/MIME capabilities attribute.
</DL>

<P>

-p password
<DL COMPACT><DT><DD>
Use password as key database password.
</DL>

<P>

-r recipient1,recipient2, ...
<DL COMPACT><DT><DD>
Specify list of recipients (email addresses) for an encrypted or enveloped message. For certificates-only message, list of certificates to send.
</DL>

<P>

-T
<DL COMPACT><DT><DD>
Suppress content in CMS message (sign only).
</DL>

<P>

-u certusage
<DL COMPACT><DT><DD>
Set type of cert usage (default is certUsageEmailSigner).
</DL>

<P>

-v
<DL COMPACT><DT><DD>
Print debugging information.
</DL>

<P>

-Y ekprefnick
<DL COMPACT><DT><DD>
Specify an encryption key preference by nickname.
</DL>

<A NAME="lbAG">&nbsp;</A>
<H2>USAGE</H2>

<P>

Encrypt Example
<P>
<DL COMPACT><DT><DD>



<PRE>
cmsutil -C [-i infile] [-o outfile] [-d dbdir] [-p password] -r &quot;recipient1,recipient2, . . .&quot; -e envfile
      
</PRE>

</DL>




<P>

Decode Example
<P>
<DL COMPACT><DT><DD>



<PRE>
cmsutil -D [-i infile] [-o outfile] [-d dbdir] [-p password] [-c content] [-n] [-h num]
      
</PRE>

</DL>




<P>

Envelope Example
<P>
<DL COMPACT><DT><DD>



<PRE>
cmsutil -E [-i infile] [-o outfile] [-d dbdir] [-p password] -r &quot;recipient1,recipient2, ...&quot;
      
</PRE>

</DL>




<P>

Certificate-only Example
<P>
<DL COMPACT><DT><DD>



<PRE>
cmsutil -O [-i infile] [-o outfile] [-d dbdir] [-p password] -r &quot;cert1,cert2, . . .&quot;
      
</PRE>

</DL>




<P>

Sign Message Example
<P>
<DL COMPACT><DT><DD>



<PRE>
cmsutil -S [-i infile] [-o outfile] [-d dbdir] [-p password] -N nickname[-TGP] [-Y ekprefnick]
      
</PRE>

</DL>




<A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>

<P>

<A HREF="/manpages/index.html?1+certutil">certutil</A>(1)
<A NAME="lbAI">&nbsp;</A>
<H2>ADDITIONAL RESOURCES</H2>

<P>

For information about NSS and other tools related to NSS (like JSS), check out the NSS project wiki at
m[blue]<B><A HREF="http://www.mozilla.org/projects/security/pki/nss/">http://www.mozilla.org/projects/security/pki/nss/</A></B>m[]. The NSS site relates directly to NSS code changes and releases.
<P>

Mailing lists: <A HREF="https://lists.mozilla.org/listinfo/dev-tech-crypto">https://lists.mozilla.org/listinfo/dev-tech-crypto</A>
<P>

IRC: Freenode at #dogtag-pki
<A NAME="lbAJ">&nbsp;</A>
<H2>AUTHORS</H2>

<P>

The NSS tools were written and maintained by developers with Netscape, Red Hat, Sun, Oracle, Mozilla, and Google.
<P>

Authors: Elio Maldonado &lt;<A HREF="mailto:emaldona@redhat.com">emaldona@redhat.com</A>&gt;, Deon Lackey &lt;<A HREF="mailto:dlackey@redhat.com">dlackey@redhat.com</A>&gt;.
<A NAME="lbAK">&nbsp;</A>
<H2>LICENSE</H2>

<P>

Licensed under the Mozilla Public License, v. 2.0. If a copy of the MPL was not distributed with this file, You can obtain one at <A HREF="http://mozilla.org/MPL/2.0/.">http://mozilla.org/MPL/2.0/.</A>
<A NAME="lbAL">&nbsp;</A>
<H2>NOTES</H2>

<DL COMPACT>
<DT> 1.<DD>
Mozilla NSS bug 836477
<DL COMPACT><DT><DD>
<A HREF="https://bugzilla.mozilla.org/show_bug.cgi?id=836477">https://bugzilla.mozilla.org/show_bug.cgi?id=836477</A>
</DL>

<P>
</DL>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">STATUS</A><DD>
<DT><A HREF="#lbAE">DESCRIPTION</A><DD>
<DT><A HREF="#lbAF">OPTIONS AND ARGUMENTS</A><DD>
<DT><A HREF="#lbAG">USAGE</A><DD>
<DT><A HREF="#lbAH">SEE ALSO</A><DD>
<DT><A HREF="#lbAI">ADDITIONAL RESOURCES</A><DD>
<DT><A HREF="#lbAJ">AUTHORS</A><DD>
<DT><A HREF="#lbAK">LICENSE</A><DD>
<DT><A HREF="#lbAL">NOTES</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:29:02 GMT, December 24, 2015
</div></div>
</body>
</HTML>
