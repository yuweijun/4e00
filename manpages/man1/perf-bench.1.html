<!DOCTYPE html>

<HTML><head><TITLE>Manpage of PERF\-BENCH</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content"><div class="wrap">
<H1>PERF\-BENCH</H1>
Section: Misc. Reference Manual Pages (1)<BR>Updated: 10/16/2012<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>











<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

perf-bench - General framework for benchmark suites
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>
<PRE>
<I>perf bench</I> [&lt;common options&gt;] &lt;subsystem&gt; &lt;suite&gt; [&lt;options&gt;]
</PRE>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>
This <I>perf bench</I> command is general framework for benchmark suites.
<A NAME="lbAE">&nbsp;</A>
<H2>COMMON OPTIONS</H2>

<P>

-f, --format=
<DL COMPACT><DT><DD>
Specify format style. Current available format styles are:
</DL>

<P>

<I>default</I>
<DL COMPACT><DT><DD>
Default style. This is mainly for human reading.
</DL>

<P>
<DL COMPACT><DT><DD>



<PRE>

.ft C
% perf bench sched pipe                      # with no style specified
(executing 1000000 pipe operations between two tasks)
        Total time:5.855 sec
                5.855061 usecs/op
                170792 ops/sec
.ft

</PRE>

</DL>




<P>

<I>simple</I>
<DL COMPACT><DT><DD>
This simple style is friendly for automated processing by scripts.
</DL>

<P>
<DL COMPACT><DT><DD>



<PRE>

.ft C
% perf bench --format=simple sched pipe      # specified simple
5.988
.ft

</PRE>

</DL>




<A NAME="lbAF">&nbsp;</A>
<H2>SUBSYSTEM</H2>

<P>

<I>sched</I>
<DL COMPACT><DT><DD>
Scheduler and IPC mechanisms.
</DL>

<A NAME="lbAG">&nbsp;</A>
<H3>SUITES FOR <I>sched</I></H3>

<P>

<B>messaging</B>
<DL COMPACT><DT><DD>
Suite for evaluating performance of scheduler and IPC mechanisms. Based on hackbench by Rusty Russell.
</DL>

<P>



<BR>

<FONT SIZE="+1">
<B>Options of pipe</B>
<DL COMPACT><DT><DD>
<P>

-p, --pipe
<DL COMPACT><DT><DD>
Use pipe() instead of socketpair()
</DL>

<P>

-t, --thread
<DL COMPACT><DT><DD>
Be multi thread instead of multi process
</DL>

<P>

-g, --group=
<DL COMPACT><DT><DD>
Specify number of groups
</DL>

<P>

-l, --loop=
<DL COMPACT><DT><DD>
Specify number of loops
</DL>

</DL>

<P>



<BR>

</FONT><FONT SIZE="+2">
<B>Example of messaging</B>
<DL COMPACT><DT><DD>
<P>
<DL COMPACT><DT><DD>



</FONT><PRE>

.ft C
% perf bench sched messaging                 # run with default
options (20 sender and receiver processes per group)
(10 groups == 400 processes run)

      Total time:0.308 sec

% perf bench sched messaging -t -g 20        # be multi-thread, with 20 groups
(20 sender and receiver threads per group)
(20 groups == 800 threads run)

      Total time:0.582 sec
.ft

</PRE>

</DL>




<P>

<B>pipe</B>
<DL COMPACT><DT><DD>
Suite for pipe() system call. Based on pipe-test-1m.c by Ingo Molnar.
</DL>

</DL>

<P>



<BR>

<FONT SIZE="+1">
<B>Options of pipe</B>
<DL COMPACT><DT><DD>
<P>

-l, --loop=
<DL COMPACT><DT><DD>
Specify number of loops.
</DL>

</DL>

<P>



<BR>

</FONT><FONT SIZE="+2">
<B>Example of pipe</B>
<DL COMPACT><DT><DD>
<P>
<DL COMPACT><DT><DD>



</FONT><PRE>

.ft C
% perf bench sched pipe
(executing 1000000 pipe operations between two tasks)

        Total time:8.091 sec
                8.091833 usecs/op
                123581 ops/sec

% perf bench sched pipe -l 1000              # loop 1000
(executing 1000 pipe operations between two tasks)

        Total time:0.016 sec
                16.948000 usecs/op
                59004 ops/sec
.ft

</PRE>

</DL>




</DL>

<A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>

<P>
<B><A HREF="/manpages/index.html?1+perf">perf</A></B>(1)
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">COMMON OPTIONS</A><DD>
<DT><A HREF="#lbAF">SUBSYSTEM</A><DD>
<DL>
<DT><A HREF="#lbAG">SUITES FOR <I>sched</I></A><DD>
</DL>
<DT><A HREF="#lbAH">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:29:07 GMT, December 24, 2015
</div></div>
</body>
</HTML>
