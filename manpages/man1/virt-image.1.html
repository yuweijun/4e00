<!DOCTYPE html>

<HTML><head><TITLE>Manpage of VIRT-IMAGE</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>VIRT-IMAGE</H1>
Section: Virtual Machine Install Tools (1)<BR>Updated: 2011-08-02<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

virt-image - create virtual machines from an image descriptor
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>
<B>virt-image</B> [<FONT SIZE="-1">OPTION</FONT>]... <FONT SIZE="-1">IMAGE</FONT>.XML
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAD"></A>
<B>virt-image</B> is a command line tool for creating virtual machines from an
<FONT SIZE="-1">XML</FONT> image descriptor <TT>&quot;IMAGE.XML&quot;</TT> (<I><A HREF="/manpages/index.html?5+virt-image">virt-image</A></I>(5)). Most attributes of
the virtual machine are taken from the <FONT SIZE="-1">XML</FONT> descriptor (e.g., where the
files to back the virtual machine's disks are and how to map them into the
guest), though certain information must be added on the command line, such
as the name of the guest.
<P>

The <FONT SIZE="-1">XML</FONT> descriptor defines most attributes of the guest, making it possible
to bundle and distribute it together with the files backing the guest's
disks.
<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

<A NAME="ixAAE"></A>
Most options can be omitted, in which case <B>virt-image</B> will use defaults
from the <FONT SIZE="-1">XML</FONT> descriptor. When defaults are taken from the <FONT SIZE="-1">XML</FONT> descriptor,
they are indicated below as a path. --name is the only required command
line option.
<DL COMPACT>
<DT>-h, --help<DD>
<A NAME="ixAAF"></A>
Show the help message and exit
<DT>--connect=CONNECT<DD>
<A NAME="ixAAG"></A>
Connect to a non-default hypervisor. See <I><A HREF="/manpages/index.html?1+virt-install">virt-install</A></I>(1) for details
</DL>
<A NAME="lbAF">&nbsp;</A>
<H3>General Options</H3>

<A NAME="ixAAH"></A>
General configuration parameters that apply to all types of guest installs.
<DL COMPACT>
<DT>-n <FONT SIZE="-1">NAME</FONT>, --name=NAME<DD>
<A NAME="ixAAI"></A>
Name of the guest instance
<DT>-r <FONT SIZE="-1">MEMORY</FONT>, --ram=MEMORY<DD>
<A NAME="ixAAJ"></A>
Memory to allocate for guest instance in megabytes. Defaults to
<TT>&quot;/image/devices/memory&quot;</TT> in the <FONT SIZE="-1">XML</FONT> descriptor.
<DT>-u <FONT SIZE="-1">UUID</FONT>, --uuid=UUID<DD>
<A NAME="ixAAK"></A>
<FONT SIZE="-1">UUID</FONT> for the guest; if none is given a random <FONT SIZE="-1">UUID</FONT> will be generated. If
you specify <FONT SIZE="-1">UUID</FONT>, you should use a 32-digit hexadecimal number.
<DT>--vcpus=VCPUS<DD>
<A NAME="ixAAL"></A>
Number of vcpus to configure for your guest. Defaults to
<TT>&quot;/image/devices/vcpu&quot;</TT> in the <FONT SIZE="-1">XML</FONT> descriptor. This option can also be
used to set <FONT SIZE="-1">CPU</FONT> topology, please see <I><A HREF="/manpages/index.html?1+virt-install">virt-install</A></I>(1) for more info.
<DT>--cpuset<DD>
<A NAME="ixAAM"></A>
Set which physical cpus the guest can use. Please see <I><A HREF="/manpages/index.html?1+virt-install">virt-install</A></I>(1) for
more info.
<DT>--cpu<DD>
<A NAME="ixAAN"></A>
Configure the <FONT SIZE="-1">CPU</FONT> and <FONT SIZE="-1">CPU</FONT> features exposed to the guest. Please see
<I><A HREF="/manpages/index.html?1+virt-install">virt-install</A></I>(1) for more info.
<DT>--check-cpu<DD>
<A NAME="ixAAO"></A>
Check that vcpus do not exceed physical CPUs and warn if they do.
<DT>--os-type=OS_TYPE<DD>
<A NAME="ixAAP"></A>
Optimize the guest configuration for a type of operating system (ex. 'linux',
'windows'). This will attempt to pick the most suitable <FONT SIZE="-1">ACPI</FONT> &amp; <FONT SIZE="-1">APIC</FONT> settings,
optimally supported mouse drivers, virtio, and generally accommodate other
operating system quirks.  See <I><A HREF="/manpages/index.html?1+virt-install">virt-install</A></I>(1) for valid values.
<DT>--os-variant=OS_VARIANT<DD>
<A NAME="ixAAQ"></A>
Further optimize the guest configuration for a specific operating system
variant (ex. 'fedora8', 'winxp'). This parameter is optional, and does not
require an <TT>&quot;--os-type&quot;</TT> to be specified. See <I><A HREF="/manpages/index.html?1+virt-install">virt-install</A></I>(1) for valid
values.
</DL>
<A NAME="lbAG">&nbsp;</A>
<H3>Full Virtualization specific options</H3>

<A NAME="ixAAR"></A>
Parameters specific only to fully virtualized guest installs.
<DL COMPACT>
<DT>--noapic<DD>
<A NAME="ixAAS"></A>
Force disable <FONT SIZE="-1">APIC</FONT> for the guest.
<DT>--noacpi<DD>
<A NAME="ixAAT"></A>
Force disable <FONT SIZE="-1">ACPI</FONT> for the guest.
</DL>
<A NAME="lbAH">&nbsp;</A>
<H3>Networking Configuration</H3>

<A NAME="ixAAU"></A>
<DL COMPACT>
<DT>-w <FONT SIZE="-1">NETWORK</FONT>, --network=NETWORK<DD>
<A NAME="ixAAV"></A>
Connect the guest to the host network. See <I><A HREF="/manpages/index.html?1+virt-install">virt-install</A></I>(1) for details
<DT>-m <FONT SIZE="-1">MAC</FONT>, --mac=MAC<DD>
<A NAME="ixAAW"></A>
This is deprecated in favor of <TT>&quot;--network ...,mac=MAC,...&quot;</TT>
<DT>-b <FONT SIZE="-1">BRIDGE</FONT>, --bridge=BRIDGE<DD>
<A NAME="ixAAX"></A>
This is deprecated in favor of <TT>&quot;--network bridge=BRIDGE&quot;</TT>
</DL>
<A NAME="lbAI">&nbsp;</A>
<H3>Graphics Configuration</H3>

<A NAME="ixAAY"></A>
If no graphics option is specified, <TT>&quot;virt-image&quot;</TT> will default to
'--graphics vnc' if the <FONT SIZE="-1">DISPLAY</FONT> environment variable is set, otherwise
'--graphics none' is used.
<DL COMPACT>
<DT>--graphics <FONT SIZE="-1">TYPE</FONT>,opt1=arg1,opt2=arg2,...<DD>
<A NAME="ixAAZ"></A>
Specifies the graphical display configuration. This does not configure any
virtual hardware, just how the guest's graphical display can be accessed.
See <I><A HREF="/manpages/index.html?1+virt-install">virt-install</A></I>(1) for details usage info.
<DT>--vnc<DD>
<A NAME="ixABA"></A>
This option is deprecated in favor of <TT>&quot;--graphics vnc,...&quot;</TT>
<DT>--vncport=VNCPORT<DD>
<A NAME="ixABB"></A>
This option is deprecated in favor of <TT>&quot;--graphics vnc,port=PORT,...&quot;</TT>
<DT>--vnclisten=VNCLISTEN<DD>
<A NAME="ixABC"></A>
This option is deprecated in favor of <TT>&quot;--graphics vnc,listen=LISTEN,...&quot;</TT>
<DT>-k <FONT SIZE="-1">KEYMAP</FONT>, --keymap=KEYMAP<DD>
<A NAME="ixABD"></A>
This option is deprecated in favor of <TT>&quot;--graphics vnc,keymap=KEYMAP,...&quot;</TT>
<DT>--sdl<DD>
<A NAME="ixABE"></A>
This option is deprecated in favor of <TT>&quot;--graphics sdl,...&quot;</TT>
<DT>--nographics<DD>
<A NAME="ixABF"></A>
This option is deprecated in favor of <TT>&quot;--graphics none&quot;</TT>
</DL>
<A NAME="lbAJ">&nbsp;</A>
<H3>Miscellaneous Options</H3>

<A NAME="ixABG"></A>
<DL COMPACT>
<DT>-p, --print<DD>
<A NAME="ixABH"></A>
Print the libvirt <FONT SIZE="-1">XML</FONT>, but do not start the guest.
<DT>--boot=BOOT<DD>
<A NAME="ixABI"></A>
The zero-based index of the boot record to use. The <FONT SIZE="-1">XML</FONT> descriptor can
contain multiple <TT>&quot;/image/domain/boot&quot;</TT> elements for use on different
hypervisors. By default, the one that is most appropriate for the current
hypervisor is selected.
<DT>--replace<DD>
<A NAME="ixABJ"></A>
Shutdown and remove any existing guest with the passed <TT>&quot;--name&quot;</TT> before
installing from the image.
<DT>--noreboot<DD>
<A NAME="ixABK"></A>
Prevent the domain automatatically booting after importing the image.
<DT>--skip-checksum<DD>
<A NAME="ixABL"></A>
Do not check disk images against checksums (if they are listed in the
image xml).
<DT>-d, --debug<DD>
<A NAME="ixABM"></A>
Print debugging information.
</DL>
<A NAME="lbAK">&nbsp;</A>
<H2>EXAMPLES</H2>

<A NAME="ixABN"></A>
Create and start a guest called <TT>&quot;example&quot;</TT> with a <FONT SIZE="-1">VNC</FONT> console from
<TT>&quot;image.xml&quot;</TT>:
<P>



<PRE>
  # virt-image --name example --vnc -i image.xml

</PRE>


<P>

Print the libvirt <FONT SIZE="-1">XML</FONT> for a guest called <TT>&quot;example&quot;</TT> without graphics, but
do not create or start a virtual machine:
<P>



<PRE>
  # virt-image --print --name example --nographics --image image.xml

</PRE>


<A NAME="lbAL">&nbsp;</A>
<H2>AUTHOR</H2>

<A NAME="ixABO"></A>
Written by David Lutterkort. See the <FONT SIZE="-1">AUTHORS</FONT> file in the source
distribution for the complete list of credits.
<A NAME="lbAM">&nbsp;</A>
<H2>BUGS</H2>

<A NAME="ixABP"></A>
Please see <A HREF="http://virt-manager.org/page/BugReporting">http://virt-manager.org/page/BugReporting</A>
<A NAME="lbAN">&nbsp;</A>
<H2>COPYRIGHT</H2>

<A NAME="ixABQ"></A>
Copyright (C) 2006-2007 Red Hat, Inc, and various contributors.
This is free software. You may redistribute copies of it under the terms
of the <FONT SIZE="-1">GNU</FONT> General Public License <TT>&quot;<A HREF="http://www.gnu.org/licenses/gpl.html">http://www.gnu.org/licenses/gpl.html</A>&quot;</TT>.
There is <FONT SIZE="-1">NO</FONT> <FONT SIZE="-1">WARRANTY</FONT>, to the extent permitted by law.
<A NAME="lbAO">&nbsp;</A>
<H2>SEE ALSO</H2>

<A NAME="ixABR"></A>
<I><A HREF="/manpages/index.html?5+virt-image">virt-image</A></I>(5), <I><A HREF="http://localhost/cgi-bin/man/man2html?1+virt-install">virt-install</A></I>(1), the project website
<TT>&quot;<A HREF="http://virt-manager.org">http://virt-manager.org</A>&quot;</TT>
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPTIONS</A><DD>
<DL>
<DT><A HREF="#lbAF">General Options</A><DD>
<DT><A HREF="#lbAG">Full Virtualization specific options</A><DD>
<DT><A HREF="#lbAH">Networking Configuration</A><DD>
<DT><A HREF="#lbAI">Graphics Configuration</A><DD>
<DT><A HREF="#lbAJ">Miscellaneous Options</A><DD>
</DL>
<DT><A HREF="#lbAK">EXAMPLES</A><DD>
<DT><A HREF="#lbAL">AUTHOR</A><DD>
<DT><A HREF="#lbAM">BUGS</A><DD>
<DT><A HREF="#lbAN">COPYRIGHT</A><DD>
<DT><A HREF="#lbAO">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:29:12 GMT, December 24, 2015
</div></body>
</HTML>
