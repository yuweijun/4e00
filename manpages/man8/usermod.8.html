<!DOCTYPE html>

<HTML><head><TITLE>Manpage of USERMOD</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content"><div class="wrap">
<H1>USERMOD</H1>
Section: System Management Commands (8)<BR>Updated: 07/24/2009<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>











<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

usermod - modify a user account
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<DL COMPACT>
<DT>
<B>usermod</B> [<I>options</I>] <I>LOGIN</I>
</DL>
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>

<DD>The
<B>usermod</B>
command modifies the system account files to reflect the changes that are specified on the command line.
<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

<P>

The options which apply to the
<B>usermod</B>
command are:
<P>

<B>-a</B>, <B>--append</B>
<DL COMPACT><DT><DD>
Add the user to the supplementary group(s). Use only with the
<B>-G</B>
option.
</DL>

<P>

<B>-c</B>, <B>--comment</B> <I>COMMENT</I>
<DL COMPACT><DT><DD>
The new value of the user's password file comment field. It is normally modified using the
<B><A HREF="/manpages/index.html?1+chfn">chfn</A></B>(1)
utility.
</DL>

<P>

<B>-d</B>, <B>--home</B> <I>HOME_DIR</I>
<DL COMPACT><DT><DD>
The user's new login directory.
<P>
If the
<B>-m</B>
option is given, the contents of the current home directory will be moved to the new home directory, which is created if it does not already exist.
</DL>

<P>

<B>-e</B>, <B>--expiredate</B> <I>EXPIRE_DATE</I>
<DL COMPACT><DT><DD>
The date on which the user account will be disabled. The date is specified in the format
<I>YYYY-MM-DD</I>.
</DL>

<P>

<B>-f</B>, <B>--inactive</B> <I>INACTIVE</I>
<DL COMPACT><DT><DD>
The number of days after a password expires until the account is permanently disabled.
<P>
A value of 0 disables the account as soon as the password has expired, and a value of -1 disables the feature.
</DL>

<P>

<B>-g</B>, <B>--gid</B> <I>GROUP</I>
<DL COMPACT><DT><DD>
The group name or number of the user's new initial login group. The group must exist.
</DL>

<P>

<B>-G</B>, <B>--groups</B> <I>GROUP1</I>[<I>,GROUP2,...</I>[<I>,GROUPN</I>]]]
<DL COMPACT><DT><DD>
A list of supplementary groups which the user is also a member of. Each group is separated from the next by a comma, with no intervening whitespace. The groups are subject to the same restrictions as the group given with the
<B>-g</B>
option.
<P>
If the user is currently a member of a group which is not listed, the user will be removed from the group. This behaviour can be changed via the
<B>-a</B>
option, which appends the user to the current supplementary group list.
</DL>

<P>

<B>-l</B>, <B>--login</B> <I>NEW_LOGIN</I>
<DL COMPACT><DT><DD>
The name of the user will be changed from
<I>LOGIN</I>
to
<I>NEW_LOGIN</I>. Nothing else is changed. In particular, the user's home directory name should probably be changed manually to reflect the new login name.
</DL>

<P>

<B>-L</B>, <B>--lock</B>
<DL COMPACT><DT><DD>
Lock a user's password. This puts a '!' in front of the encrypted password, effectively disabling the password. You can't use this option with
<B>-p</B>
or
<B>-U</B>.
<P>
Note: if you wish to lock the account (not only access with a password), you should also set the
<I>EXPIRE_DATE</I>
to
<I>1</I>.
</DL>

<P>

<B>-m</B>, <B>--move-home</B>
<DL COMPACT><DT><DD>
Move the content of the user's home directory to the new location.
<P>
This option is only valid in combination with the
<B>-d</B>
(or
<B>--home</B>) option.
</DL>

<P>

<B>-o</B>, <B>--non-unique</B>
<DL COMPACT><DT><DD>
When used with the
<B>-u</B>
option, this option allows to change the user ID to a non-unique value.
</DL>

<P>

<B>-p</B>, <B>--password</B> <I>PASSWORD</I>
<DL COMPACT><DT><DD>
The encrypted password, as returned by
<B><A HREF="/manpages/index.html?3+crypt">crypt</A></B>(3).
<P>
<P>
<B>Note:</B>
This option is not recommended because the password (or encrypted password) will be visible by users listing the processes.
<P>
You should make sure the password respects the system's password policy.
</DL>

<P>

<B>-s</B>, <B>--shell</B> <I>SHELL</I>
<DL COMPACT><DT><DD>
The name of the user's new login shell. Setting this field to blank causes the system to select the default login shell.
</DL>

<P>

<B>-u</B>, <B>--uid</B> <I>UID</I>
<DL COMPACT><DT><DD>
The new numerical value of the user's ID.
<P>
This value must be unique, unless the
<B>-o</B>
option is used. The value must be non-negative. Values between 0 and 999 are typically reserved for system accounts.
<P>
The user's mailbox, and any files which the user owns and which are located in the user's home directory will have the file user ID changed automatically.
<P>
The ownership of files outside of the user's home directory must be fixed manually.
</DL>

<P>

<B>-U</B>, <B>--unlock</B>
<DL COMPACT><DT><DD>
Unlock a user's password. This removes the '!' in front of the encrypted password. You can't use this option with
<B>-p</B>
or
<B>-L</B>.
<P>
Note: if you wish to unlock the account (not only access with a password), you should also set the
<I>EXPIRE_DATE</I>
(for example to
<I>99999</I>, or to the
<B>EXPIRE</B>
value from
/etc/default/useradd).
</DL>

<P>

<B>-Z</B>, <B>--selinux-user</B> <I>SEUSER</I>
<DL COMPACT><DT><DD>
The SELinux user for the user's login. The default is to leave this field the blank, which causes the system to select the default SELinux user.
</DL>

<A NAME="lbAF">&nbsp;</A>
<H2>CAVEATS</H2>

<P>

You must make certain that the named user is not executing any processes when this command is being executed if the user's numerical user ID, the user's name, or the user's home directory is being changed.
<B>usermod</B>
checks this on Linux, but only check if the user is logged in according to utmp on other architectures.
<P>

You must change the owner of any
<B>crontab</B>
files or
<B>at</B>
jobs manually.
<P>

You must make any changes involving NIS on the NIS server.
<A NAME="lbAG">&nbsp;</A>
<H2>CONFIGURATION</H2>

<P>

The following configuration variables in
/etc/login.defs
change the behavior of this tool:
<P>

<B>MAIL_DIR</B> (string)
<DL COMPACT><DT><DD>
The mail spool directory. This is needed to manipulate the mailbox when its corresponding user account is modified or deleted. If not specified, a compile-time default is used.
</DL>

<P>

<B>MAIL_FILE</B> (string)
<DL COMPACT><DT><DD>
Defines the location of the users mail spool files relatively to their home directory.
</DL>

<P>

The
<B>MAIL_DIR</B>
and
<B>MAIL_FILE</B>
variables are used by
<B>useradd</B>,
<B>usermod</B>, and
<B>userdel</B>
to create, move, or delete the user's mail spool.
<P>

If
<B>MAIL_CHECK_ENAB</B>
is set to
<I>yes</I>, they are also used to define the
<B>MAIL</B>
environment variable.
<P>

<B>MAX_MEMBERS_PER_GROUP</B> (number)
<DL COMPACT><DT><DD>
Maximum members per group entry. When the maximum is reached, a new group entry (line) is started in
/etc/group
(with the same name, same password, and same GID).
<P>
The default value is 0, meaning that there are no limits in the number of members in a group.
<P>
This feature (split group) permits to limit the length of lines in the group file. This is useful to make sure that lines for NIS groups are not larger than 1024 characters.
<P>
If you need to enforce such limit, you can use 25.
<P>
Note: split groups may not be supported by all tools (even in the Shadow toolsuite). You should not use this variable unless you really need it.
</DL>

<A NAME="lbAH">&nbsp;</A>
<H2>FILES</H2>

<P>

/etc/group
<DL COMPACT><DT><DD>
Group account information.
</DL>

<P>

/etc/gshadow
<DL COMPACT><DT><DD>
Secure group account information.
</DL>

<P>

/etc/passwd
<DL COMPACT><DT><DD>
User account information.
</DL>

<P>

/etc/shadow
<DL COMPACT><DT><DD>
Secure user account information.
</DL>

<A NAME="lbAI">&nbsp;</A>
<H2>SEE ALSO</H2>

<P>

<P>
<B><A HREF="/manpages/index.html?1+chfn">chfn</A></B>(1),
<B><A HREF="/manpages/index.html?1+chsh">chsh</A></B>(1),
<B><A HREF="/manpages/index.html?1+passwd">passwd</A></B>(1),
<B><A HREF="/manpages/index.html?3+crypt">crypt</A></B>(3),
<B><A HREF="/manpages/index.html?8+gpasswd">gpasswd</A></B>(8),
<B><A HREF="/manpages/index.html?8+groupadd">groupadd</A></B>(8),
<B><A HREF="/manpages/index.html?8+groupdel">groupdel</A></B>(8),
<B><A HREF="/manpages/index.html?8+groupmod">groupmod</A></B>(8),
<B><A HREF="/manpages/index.html?5+login.defs">login.defs</A></B>(5),
<B><A HREF="/manpages/index.html?8+useradd">useradd</A></B>(8),
<B><A HREF="/manpages/index.html?8+userdel">userdel</A></B>(8).
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPTIONS</A><DD>
<DT><A HREF="#lbAF">CAVEATS</A><DD>
<DT><A HREF="#lbAG">CONFIGURATION</A><DD>
<DT><A HREF="#lbAH">FILES</A><DD>
<DT><A HREF="#lbAI">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:34:31 GMT, December 24, 2015
</div></div>
</body>
</HTML>
