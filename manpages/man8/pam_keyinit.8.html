<!DOCTYPE html>

<HTML><head><TITLE>Manpage of PAM_KEYINIT</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"documentation"}</div>
 </div>
 </header>
 <div class="page-content"><div class="wrap">
<H1>PAM_KEYINIT</H1>
Section: Linux\-PAM Manual (8)<BR>Updated: 03/02/2009<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>
















pam_keyinit - Kernel session keyring initialiser module
<A NAME="lbAB">&nbsp;</A>
<H2>Synopsis</H2>


<DL COMPACT>
<DT>
<B>pam_keyinit.so</B> [debug] [force] [revoke]

</DL>
<A NAME="lbAC">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>

<DD>The pam_keyinit PAM module ensures that the invoking process has a session keyring other than the user default session keyring.
<P>

The session component of the module checks to see if the process's session keyring is the user default, and, if it is, creates a new anonymous session keyring with which to replace it.
<P>

If a new session keyring is created, it will install a link to the user common keyring in the session keyring so that keys common to the user will be automatically accessible through it.
<P>

The session keyring of the invoking process will thenceforth be inherited by all its children unless they override it.
<P>

This module is intended primarily for use by login processes. Be aware that after the session keyring has been replaced, the old session keyring and the keys it contains will no longer be accessible.
<P>

This module should not, generally, be invoked by programs like
<B>su</B>, since it is usually desirable for the key set to percolate through to the alternate context. The keys have their own permissions system to manage this.
<P>

This module should be included as early as possible in a PAM configuration, so that other PAM modules can attach tokens to the keyring.
<P>

The keyutils package is used to manipulate keys more directly. This can be obtained from:
<P>

<P>
m[blue]<B> Keyutils </B>m[]<FONT SIZE="-2">[1]</FONT>
<A NAME="lbAD">&nbsp;</A>
<H2>OPTIONS</H2>

<P>

<B>debug</B>
<DL COMPACT><DT><DD>
Log debug information with
<B><A HREF="/manpages/index.html?3+syslog">syslog</A></B>(3).
</DL>

<P>

<B>force</B>
<DL COMPACT><DT><DD>
Causes the session keyring of the invoking process to be replaced unconditionally.
</DL>

<P>

<B>revoke</B>
<DL COMPACT><DT><DD>
Causes the session keyring of the invoking process to be revoked when the invoking process exits if the session keyring was created for this process in the first place.
</DL>

<A NAME="lbAE">&nbsp;</A>
<H2>MODULE TYPES PROVIDED</H2>

<P>

Only the
<B>session</B>
module type is provided.
<A NAME="lbAF">&nbsp;</A>
<H2>RETURN VALUES</H2>

<P>

PAM_SUCCESS
<DL COMPACT><DT><DD>
This module will usually return this value
</DL>

<P>

PAM_AUTH_ERR
<DL COMPACT><DT><DD>
Authentication failure.
</DL>

<P>

PAM_BUF_ERR
<DL COMPACT><DT><DD>
Memory buffer error.
</DL>

<P>

PAM_IGNORE
<DL COMPACT><DT><DD>
The return value should be ignored by PAM dispatch.
</DL>

<P>

PAM_SERVICE_ERR
<DL COMPACT><DT><DD>
Cannot determine the user name.
</DL>

<P>

PAM_SESSION_ERR
<DL COMPACT><DT><DD>
This module will return this value if its arguments are invalid or if a system error such as ENOMEM occurs.
</DL>

<P>

PAM_USER_UNKNOWN
<DL COMPACT><DT><DD>
User not known.
</DL>

<A NAME="lbAG">&nbsp;</A>
<H2>EXAMPLES</H2>

<P>

Add this line to your login entries to start each login session with its own session keyring:
<P>
<DL COMPACT><DT><DD>




<FONT SIZE="-1">
</FONT><PRE>


session  required  pam_keyinit.so
      
</PRE>


<FONT SIZE="+1">
</DL>




<P>

This will prevent keys from one session leaking into another session for the same user.
</FONT><A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>

<P>

<P>
<B><A HREF="/manpages/index.html?5+pam.conf">pam.conf</A></B>(5),
<B><A HREF="/manpages/index.html?5+pam.d">pam.d</A></B>(5),
<B><A HREF="/manpages/index.html?8+pam">pam</A></B>(8)
<B><A HREF="/manpages/index.html?1+keyctl">keyctl</A></B>(1)
<A NAME="lbAI">&nbsp;</A>
<H2>AUTHOR</H2>

<P>

pam_keyinit was written by David Howells, &lt;<A HREF="mailto:dhowells@redhat.com">dhowells@redhat.com</A>&gt;.
<A NAME="lbAJ">&nbsp;</A>
<H2>Notes</H2>

<DL COMPACT>
<DT> 1.<DD>
Keyutils
<DL COMPACT><DT><DD>
<A HREF="http://people.redhat.com/~dhowells/keyutils/">http://people.redhat.com/~dhowells/keyutils/</A>
</DL>

<P>
</DL>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">Synopsis</A><DD>
<DT><A HREF="#lbAC">DESCRIPTION</A><DD>
<DT><A HREF="#lbAD">OPTIONS</A><DD>
<DT><A HREF="#lbAE">MODULE TYPES PROVIDED</A><DD>
<DT><A HREF="#lbAF">RETURN VALUES</A><DD>
<DT><A HREF="#lbAG">EXAMPLES</A><DD>
<DT><A HREF="#lbAH">SEE ALSO</A><DD>
<DT><A HREF="#lbAI">AUTHOR</A><DD>
<DT><A HREF="#lbAJ">Notes</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:34:28 GMT, December 24, 2015
</div></div>
</body>
</HTML>
