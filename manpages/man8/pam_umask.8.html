<!DOCTYPE html>

<HTML><head><TITLE>Manpage of PAM_UMASK</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content"><div class="wrap">
<H1>PAM_UMASK</H1>
Section: Linux\-PAM Manual (8)<BR>Updated: 06/16/2009<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>
















pam_umask - PAM module to set the file mode creation mask
<A NAME="lbAB">&nbsp;</A>
<H2>Synopsis</H2>


<DL COMPACT>
<DT>
<B>pam_umask.so</B> [debug] [silent] [usergroups] [umask=<I>mask</I>]

</DL>
<A NAME="lbAC">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>

<DD>pam_umask is a PAM module to set the file mode creation mask of the current environment. The umask affects the default permissions assigned to newly created files.
<P>

The PAM module tries to get the umask value from the following places in the following order:
<P>
<DL COMPACT><DT><DD>
*


umask= argument
</DL>

<P>
<DL COMPACT><DT><DD>
*


umask= entry of the users GECOS field
</DL>

<P>
<DL COMPACT><DT><DD>
*


pri= entry of the users GECOS field
</DL>

<P>
<DL COMPACT><DT><DD>
*


ulimit= entry of the users GECOS field
</DL>

<P>
<DL COMPACT><DT><DD>
*


UMASK= entry from /etc/default/login
</DL>

<P>
<DL COMPACT><DT><DD>
*


UMASK entry from /etc/login.defs
</DL>

<P>

<A NAME="lbAD">&nbsp;</A>
<H2>OPTIONS</H2>

<P>

<P>

<B>debug</B>
<DL COMPACT><DT><DD>
Print debug information.
</DL>

<P>

<B>silent</B>
<DL COMPACT><DT><DD>
Don't print informative messages.
</DL>

<P>

<B>usergroups</B>
<DL COMPACT><DT><DD>
If the user is not root, and the user ID is equal to the group ID, and the username is the same as primary group name, the umask group bits are set to be the same as owner bits (examples: 022 -&gt; 002, 077 -&gt; 007).
</DL>

<P>

<B>umask=</B><B></B><I>mask</I>
<DL COMPACT><DT><DD>
Sets the calling process's file mode creation mask (umask) to
<B>mask</B>
&amp; 0777. The value is interpreted as Octal.
</DL>

<A NAME="lbAE">&nbsp;</A>
<H2>MODULE TYPES PROVIDED</H2>

<P>

Only the
<B>session</B>
type is provided.
<A NAME="lbAF">&nbsp;</A>
<H2>RETURN VALUES</H2>

<P>

<P>

PAM_SUCCESS
<DL COMPACT><DT><DD>
The new umask was set successfully.
</DL>

<P>

PAM_SERVICE_ERR
<DL COMPACT><DT><DD>
No username was given.
</DL>

<P>

PAM_USER_UNKNOWN
<DL COMPACT><DT><DD>
User not known.
</DL>

<A NAME="lbAG">&nbsp;</A>
<H2>EXAMPLES</H2>

<P>

Add the following line to
FC/etc/pam.d/loginF[]
to set the user specific umask at login:
<P>
<DL COMPACT><DT><DD>




<FONT SIZE="-1">
</FONT><PRE>


        session optional pam_umask.so umask=0022
      
</PRE>


<FONT SIZE="+1">
</DL>




<P>
</FONT><A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>

<P>

<P>
<B><A HREF="/manpages/index.html?5+pam.conf">pam.conf</A></B>(5),
<B><A HREF="/manpages/index.html?5+pam.d">pam.d</A></B>(5),
<B><A HREF="/manpages/index.html?8+pam">pam</A></B>(8)
<A NAME="lbAI">&nbsp;</A>
<H2>AUTHOR</H2>

<P>

pam_umask was written by Thorsten Kukuk &lt;<A HREF="mailto:kukuk@thkukuk.de">kukuk@thkukuk.de</A>&gt;.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">Synopsis</A><DD>
<DT><A HREF="#lbAC">DESCRIPTION</A><DD>
<DT><A HREF="#lbAD">OPTIONS</A><DD>
<DT><A HREF="#lbAE">MODULE TYPES PROVIDED</A><DD>
<DT><A HREF="#lbAF">RETURN VALUES</A><DD>
<DT><A HREF="#lbAG">EXAMPLES</A><DD>
<DT><A HREF="#lbAH">SEE ALSO</A><DD>
<DT><A HREF="#lbAI">AUTHOR</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:34:28 GMT, December 24, 2015
</div></div>
</body>
</HTML>
