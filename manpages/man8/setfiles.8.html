<!DOCTYPE html>

<HTML><head><TITLE>Manpage of setfiles</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>setfiles</H1>
Section:  (8)<BR>Updated: 2002031409<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

setfiles - set file SELinux security contexts.
<P>
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>setfiles</B>

<I>[-c policy ] [-d] [-l] [-n] [-e directory ] [-o filename ] [-q] [-s] [-v] [-vv] [-W] [-F] spec_file pathname...</I>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

This manual page describes the
<B>setfiles</B>

program.

This program is primarily used to initialize the security context
database (extended attributes) on one or more filesystems.  This
program is initially run as part of the SE Linux installation process.

It can also be run at any time to correct errors, to add support for
new policy, or with the -n option it can just check whether the file
contexts are all as you expect.

If a file object does not have a context, setfiles will write the default 
context to the file object's extended attributes. If a file object has a 
context, setfiles will only modify the type portion of the security context. 
The -F option will force a replacement of the entire context.
<P>
<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

<DL COMPACT>
<DT><B>-c</B>

<DD>
check the validity of the contexts against the specified binary policy.
<DT><B>-d</B>

<DD>
show what specification matched each file.
<DT><B>-l</B>

<DD>
log changes in file labels to syslog.
<DT><B>-n</B>

<DD>
don't change any file labels.
<DT><B>-p</B>

<DD>
show progress by printing * every 1000 files.
<DT><B>-q</B>

<DD>
suppress non-error output.
<DT><B>-r rootpath</B>

<DD>
use an alternate root path
<DT><B>-e directory</B>

<DD>
directory to exclude (repeat option for more than one directory.)
<DT><B>-F</B>

<DD>
Force reset of context to match file_context for customizable files, and the default file context, changing the user, role, range portion as well as the type.
<DT><B>-o filename</B>

<DD>
save list of files with incorrect context in filename.
<DT><B>-s</B>

<DD>
take a list of files from standard input instead of using a pathname on the
command line.
<DT><B>-v</B>

<DD>
show changes in file labels.
<DT><B>-W</B>

<DD>
display warnings about entries that had no matching files.
<DT><B>-0</B>

<DD>
Input items are terminated by a null character instead of by whitespace,  and the quotes and backslash are not special (every character is taken literally).  Disables the end of file string, which  is  treated  like  any other argument.  Useful when input items might contain white space, quote  marks,  or  backslashes.The  GNU  find  -print0  option produces input suitable for this mode.
<P>
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>ARGUMENTS</H2>

<B>spec_file</B>

The specification file which contains lines of the following form
<BR>

<B>regexp [ -type ] ( context | &lt;&lt;none&gt;&gt; )</B>

<BR>

The regular expression is anchored at both ends.  The optional type field 
specifies the file type as shown in the mode field by the
<B><A HREF="/manpages/index.html?1+ls">ls</A>(1)</B>

program, e.g. -- to match only regular files or -d to match only
directories.  The context can be an ordinary security context or the
string &lt;&lt;none&gt;&gt; to specify that the file is not to have its context
changed.
<BR>

The last matching specification is used. If there are multiple hard
links to a file that match different specifications and those
specifications indicate different security contexts, then a warning is
displayed but the file is still labeled based on the last matching
specification other than &lt;&lt;none&gt;&gt;.
<DL COMPACT>
<DT><B>pathname...</B>

<DD>
The pathname for the root directory of each file system to be relabeled. 
Not used if the
<B>-s</B>

option is used.
<P>
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>AUTHOR</H2>

This man page was written by Russell Coker &lt;<A HREF="mailto:russell@coker.com.au">russell@coker.com.au</A>&gt;.
The program was written by Stephen Smalley &lt;<A HREF="mailto:sds@epoch.ncsc.mil">sds@epoch.ncsc.mil</A>&gt;
<P>
<A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="/manpages/index.html?8+load_policy">load_policy</A></B>(8),

<B><A HREF="/manpages/index.html?8+checkpolicy">checkpolicy</A></B>(8)

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPTIONS</A><DD>
<DT><A HREF="#lbAF">ARGUMENTS</A><DD>
<DT><A HREF="#lbAG">AUTHOR</A><DD>
<DT><A HREF="#lbAH">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:34:30 GMT, December 24, 2015
</div></body>
</HTML>
