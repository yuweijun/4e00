<!DOCTYPE html>

<HTML><head><TITLE>Manpage of pam_console_apply</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux man pages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>pam_console_apply</H1>
Section: System Administrator's Manual (8)<BR>Updated: 2005/5/2<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

pam_console_apply - set or revoke permissions for users at the system console
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>pam_console_apply </B>

[-f &lt;fstab file&gt;] [-c &lt;console.perms file&gt;] [-r] [-t &lt;tty&gt;] [-s] [-d] [&lt;device file&gt; ...]
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<B>pam_console_apply</B> is a helper executable which sets or resets permissions
on device nodes.
<BR>

If <I>/var/run/console.lock</I> exists, <B>pam_console_apply</B> will grant
permissions to the user listed therein.  If the lock file does not exist,
permissions are reset according to defaults set in <I>console.perms</I> files,
normally configured to set permissions on devices so that <B>root</B>
owns them.
<P>
When initializing its configuration it first parses
the <I>/etc/security/console.perms</I> file and then it searches for files
ending with the <I>.perms</I> suffix in the <I>/etc/security/console.perms.d</I>
directory. These files are parsed in the lexical order in &quot;C&quot; locale.
Permission rules are appended to a global list, console and device class
definitions override previous definitions of the same class.
<A NAME="lbAE">&nbsp;</A>
<H2>ARGUMENTS</H2>

<DL COMPACT>
<DT>-c<DD>
Load other console.perms file than the default one.
<DT>-f<DD>
Load other fstab file than the default one (<I>/etc/fstab</I>).
<DT>-r<DD>
Signals <B>pam_console_apply</B> to reset permissions.  The default is to set
permissions so that the user listed in <I>/var/run/console.lock</I> has access
to the devices, and to reset permissions if no such file exists.
<DT>-t<DD>
Use &lt;tty&gt; to match console class in console.perms file. The default is tty0.
<DT>-s<DD>
Write error messages to the system log instead of stderr.
<DT>-d<DD>
Log/display messages useful for debugging.
</DL>
<P>

The optional &lt;device file&gt; arguments constrain what files should be affected
by <B>pam_console_apply</B>. If they aren't specified permissions are
changed on all files specified in the <I>console.perms</I> file.
<A NAME="lbAF">&nbsp;</A>
<H2>FILES</H2>

<I>/var/run/console.lock</I>
<BR>

<I>/etc/security/console.perms</I>
<BR>

<I>/etc/security/console.perms.d/50-default.perms</I>
<A NAME="lbAG">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="/manpages/index.html?8+pam_console">pam_console</A>(8)</B>

<BR>

<B><A HREF="/manpages/index.html?5+console.perms">console.perms</A>(5)</B>

<BR>

<A NAME="lbAH">&nbsp;</A>
<H2>BUGS</H2>

Let's hope not, but if you find any, please report them via the &quot;Bug Track&quot;
link at <A HREF="http://bugzilla.redhat.com/bugzilla/">http://bugzilla.redhat.com/bugzilla/</A>
<A NAME="lbAI">&nbsp;</A>
<H2>AUTHORS</H2>

Nalin Dahyabhai &lt;<A HREF="mailto:nalin@redhat.com">nalin@redhat.com</A>&gt;, using code shamelessly stolen from parts of
pam_console.
<BR>

Support of console.perms.d and other improvements by
Tomas Mraz &lt;<A HREF="mailto:tmraz@redhat.com">tmraz@redhat.com</A>&gt;.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">ARGUMENTS</A><DD>
<DT><A HREF="#lbAF">FILES</A><DD>
<DT><A HREF="#lbAG">SEE ALSO</A><DD>
<DT><A HREF="#lbAH">BUGS</A><DD>
<DT><A HREF="#lbAI">AUTHORS</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:34:28 GMT, December 24, 2015
</div></body>
</HTML>
