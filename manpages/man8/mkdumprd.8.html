<!DOCTYPE html>

<HTML><head><TITLE>Manpage of MKDUMRD</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux man pages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>MKDUMRD</H1>
Section: Maintenance Commands (8)<BR>Updated: Fri Feb 9 2007<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

mkdumprd - creates initial ramdisk images for kdump crash recovery 
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>mkdumprd</B> [--version] [-v] [-f] [-d]
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[--preload=<I>module</I>]&nbsp;[--omit-scsi-modules]&nbsp;
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[--omit-raid-modules]&nbsp;[--omit-lvm-modules]&nbsp;
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[--image-version]
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[--fstab=<I>fstab</I>]&nbsp;[--nocompress]
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[--builtin=<I>module</I>]
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<I>image</I>&nbsp;<I>kernel-version</I>
<P>
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<B>mkdumprd</B> creates an initial ram file system for use in conjunction with
the booting of a kernel within the kdump framework for crash recovery.
<B>mkdumprds</B> purpose is to create an initial ram filesystem capable of copying
the crashed systems vmcore image to a location specified in <I>/etc/kdump.conf 
<P>
Any module options specified in /etc/modprobe.conf</I> are passed
to the modules as they are loaded by the initial ramdisk.
<P>
<B>mkdumprd</B> interrogates the running system to understand what modules need to
be loaded in the initramfs (based on configuration retrieved from
<I>/etc/kdump.conf)</I>
<P>
<B>mkdumprd</B> was origionally derived from the <B>mkinitrd</B> utility (hence
the simmilarity in option sets), however mkdumprds purpose and mission is
significantly different than that of <B>mkinitrd</B>.  As such, while most of the
options still exist, and may work, they are largely vestigual at this point.
<B>mkdumprd</B> was not intended for casual use outside of the service
initialization script for the kdump utility, and should not be run manually.  If
you require a custom kdump initramfs image, it is suggested that you use the
kdump service infrastrucutre to create one, and then manually unpack, modify and
repack the image.
<P>
<P>
<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

<DL COMPACT>
<DT><B>--builtin=</B><I>module</I><DD>
Act as if <I>module</I> is built into the kernel being used. <B>mkdumprd</B>
will not look for this module, and will not emit an error if it does not
exist. This option may be used multiple times.
<P>
<DT><B>-f</B><DD>
Allows <B>mkdumprd</B> to overwrite an existing image file.
<P>
<DT><B>--fstab=</B><I>fstab</I><DD>
Use <I>fstab</I> to automatically determine what type of filesystem the
root device is on. Normally, <B>/etc/fstab</B> is used.
<P>
<DT><B>--image-version<DD>
The kernel version number is appended to the initrd image path before the image
is created.
<P>
<DT>--nocompress<DD>
Normally the created initrd image is compressed with gzip</B>. If this
option is specified, the compression is skipped.
<P>
<DT><B>--omit-lvm-modules <DD>
Do not load any lvm modules, even if /etc/fstab expects them.
<P>
<DT>--omit-raid-modules <DD>
Do not load any raid modules, even if /etc/fstab and /etc/raidtab expect them.
<P>
<DT>--omit-scsi-modules <DD>
Do not load any scsi modules, including 'scsi_mod' and 'sd_mod'
modules, even if they are present.
<P>
<DT>--preload=</B><I>module</I><DD>
Load the module <I>module</I> in the initial ramdisk image. The module gets
loaded before any SCSI modules which are specified in <I>/etc/modprobe.conf</I>.
This option may be used as many times as necessary.
<P>
<DT><B>-v</B><DD>
Prints out verbose information while creating the image (normally
the <B>mkdumprd</B> runs silently). 
<P>
<DT><B>-d</B><DD>
Query /etc/kdump for initrd construction configuration
<P>
<DT><B>--version</B><DD>
Prints the version of <B>mkdumprd</B> that's being used and then exits.
<P>
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>FILES</H2>


<P>
<DL COMPACT>
<DT><I>/etc/modprobe.conf</I><DD>
Specifies modules to be loaded and module options to be used.
<P>

</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="/manpages/index.html?5+fstab">fstab</A></B>(5),

<B><A HREF="/manpages/index.html?1+insmod">insmod</A></B>(1)

<B><A HREF="/manpages/index.html?8+mkinitrd">mkinitrd</A></B>(8)

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPTIONS</A><DD>
<DT><A HREF="#lbAF">FILES</A><DD>
<DT><A HREF="#lbAG">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:34:27 GMT, December 24, 2015
</div></body>
</HTML>
