<!DOCTYPE html>

<HTML><head><TITLE>Manpage of IP</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>IP</H1>
Section: Linux (8)<BR>Updated: 17 January 2002<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

ip - show / manipulate routing, devices, policy routing and tunnels
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>


<BR>

<B>ip</B>

[ <I>OPTIONS</I> ] <I>OBJECT</I> { <I>COMMAND</I> | 

<B>help</B> }

<P>
<P>
<BR>

<I>OBJECT</I> := { 

<B>link</B> | <B>addr</B> | <B>addrlabel</B> | <B>route</B> | <B>rule</B> | <B>neigh</B> | <B>tunnel</B> | <B>maddr</B> | <B>mroute</B> | <B>monitor</B> }

<P>
<P>
<BR>

<I>OPTIONS</I> := { 

<B>-V</B>[<I>ersion</I>] |
<B>-s</B>[<I>tatistics</I>] |
<B>-r</B>[<I>esolve</I>] |
<B>-f</B>[<I>amily</I>] {
<B>inet</B> | <B>inet6</B> | <B>ipx</B> | <B>dnet</B> | <B>link</B> } | 

<B>-o</B>[<I>neline</I>] }
<P>
<BR>

<B>ip link set </B><I>DEVICE</I>

{ <B>up</B> | <B>down</B> | <B>arp</B> { <B>on</B> | <B>off</B> } |

<BR>

<B>promisc</B> { <B>on</B> | <B>off</B> } |

<BR>

<B>allmulticast</B> { <B>on</B> | <B>off</B> } |

<BR>

<B>dynamic</B> { <B>on</B> | <B>off</B> } |

<BR>

<B>multicast</B> { <B>on</B> | <B>off</B> } |

<BR>

<B>txqueuelen</B>

<I>PACKETS</I> |

<BR>

<B>name</B>

<I>NEWNAME</I> |

<BR>

<B>address</B>

<I>LLADDR</I> |

<B>broadcast</B>

<I>LLADDR</I> |

<BR>

<B>mtu</B>

<I>MTU</I> |

<BR>

<B>netns</B>

<I>PID</I> |

<BR>

<B>alias</B>

<I>NAME</I> |

<BR>

<B>vf</B>

<I>NUM</I> [

<B>mac</B>

<I>LLADDR</I> ] [

<B>vlan</B>

<I>VLANID</I> [ 

<B>qos</B>

<I>VLAN-QOS</I> ] ] [

<B>rate</B>

<I>TXRATE</I> ]

<B> }</B>

<P>
<P>
<BR>

<B>ip link show</B>

[ <I>DEVICE</I> ]

<P>
<BR>

<B>ip addr</B> { <B>add</B> | <B>del</B> } 

<I>IFADDR</I><B> dev </B><I>STRING</I>

<P>
<BR>

<B>ip addr</B> { <B>show</B> | <B>flush</B> } [ <B>dev</B>

<I>STRING</I> ] [ 

<B>scope</B>

<I>SCOPE-ID</I> ] [ 

<B>to</B>

<I>PREFIX</I> ] [ <I>FLAG-LIST</I> ] [ 

<B>label</B>

<I>PATTERN</I> ]

<P>
<BR>

<I>IFADDR</I> := <I>PREFIX</I> | <I>ADDR</I>

<B>peer</B>

<I>PREFIX</I> [ 

<B>broadcast</B>

<I>ADDR</I> ] [ 

<B>anycast</B>

<I>ADDR</I> ] [ 

<B>label</B>

<I>STRING</I> ] [ 

<B>scope</B>

<I>SCOPE-ID</I> ]

<P>
<BR>

<I>SCOPE-ID</I> := 

[ <B>host</B> | <B>link</B> | <B>global</B> | 

<I>NUMBER</I> ]

<P>
<BR>

<I>FLAG-LIST</I> := [ <I>FLAG-LIST</I> ] <I>FLAG</I>

<P>
<BR>

<I>FLAG</I> := 

[ <B>permanent</B> | <B>dynamic</B> | <B>secondary</B> | <B>primary</B> | tentative<B> | </B>deprecated<B> ]</B>

<P>
<BR>

<B>ip addrlabel</B> { <B>add</B> | <B>del</B> } <B>prefix</B>

<B>PREFIX</B> [ 

<B>dev</B>

<I>DEV</I> ] [ 

<B>label</B>

<I>NUMBER</I> ]

<P>
<BR>

<B>ip addrlabel</B> { <B>list</B> | <B>flush</B> }

<P>
<BR>

<B>ip route</B> { 

<B>list</B> | <B>flush</B> } 

<I>SELECTOR</I>

<P>
<BR>

<B>ip route get</B>

<I>ADDRESS</I> [ 

<B>from</B><I> ADDRESS </I><B>iif</B><I> STRING</I>

 ] [ <B>oif</B>

<I>STRING</I> ] [ 

<B>tos</B>

<I>TOS</I> ]

<P>
<BR>

<B>ip route</B> { <B>add</B> | <B>del</B> | <B>change</B> | <B>append</B> | replace<B> | </B>monitor<B> } </B>

<I>ROUTE</I>

<P>
<BR>

<I>SELECTOR</I> := 

[ <B>root</B>

<I>PREFIX</I> ] [ 

<B>match</B>

<I>PREFIX</I> ] [ 

<B>exact</B>

<I>PREFIX</I> ] [ 

<B>table</B>

<I>TABLE_ID</I> ] [ 

<B>proto</B>

<I>RTPROTO</I> ] [ 

<B>type</B>

<I>TYPE</I> ] [ 

<B>scope</B>

<I>SCOPE</I> ]

<P>
<BR>

<I>ROUTE</I> := <I>NODE_SPEC</I> [ <I>INFO_SPEC</I> ]

<P>
<BR>

<I>NODE_SPEC</I> := [ <I>TYPE</I> ] <I>PREFIX</I> [

<B>tos</B>

<I>TOS</I> ] [ 

<B>table</B>

<I>TABLE_ID</I> ] [ 

<B>proto</B>

<I>RTPROTO</I> ] [ 

<B>scope</B>

<I>SCOPE</I> ] [ 

<B>metric</B>

<I>METRIC</I> ]

<P>
<BR>

<I>INFO_SPEC</I> := <I>NH OPTIONS FLAGS</I> [

<B>nexthop</B>

<I>NH</I> ] ...

<P>
<BR>

<I>NH</I> := [ 

<B>via</B>

<I>ADDRESS</I> ] [ 

<B>dev</B>

<I>STRING</I> ] [ 

<B>weight</B>

<I>NUMBER</I> ] <I>NHFLAGS</I>

<P>
<BR>

<I>OPTIONS</I> := <I>FLAGS</I> [ 

<B>mtu</B>

<I>NUMBER</I> ] [ 

<B>advmss</B>

<I>NUMBER</I> ] [ 

<B>rtt</B>

<I>TIME</I> ] [ 

<B>rttvar</B>

<I>TIME</I> ] [ 

<B>window</B>

<I>NUMBER</I> ] [ 

<B>cwnd</B>

<I>NUMBER</I> ] [ 

<B>initcwnd</B>

<I>NUMBER</I> ] [ 

<B>ssthresh</B>

<I>REALM</I> ] [ 

<B>realms</B>

<I>REALM</I> ] [ 

<B>rto_min</B>

<I>TIME</I> ]

<P>
<BR>

<I>TYPE</I> := [ 

<B>unicast</B> | <B>local</B> | <B>broadcast</B> | <B>multicast</B> | throw<B> | </B>unreachable<B> | </B>prohibit<B> | </B>blackhole<B> | </B>nat<B> ]</B>

<P>
<BR>

<I>TABLE_ID</I> := [ 

<B>local</B>| <B>main</B> | <B>default</B> | <B>all</B> |

<I>NUMBER</I> ]

<P>
<BR>

<I>SCOPE</I> := [ 

<B>host</B> | <B>link</B> | <B>global</B> |

<I>NUMBER</I> ]

<P>
<BR>

<I>FLAGS</I> := [ 

<B>equalize</B> ]

<P>
<BR>

<I>NHFLAGS</I> := [ 

<B>onlink</B> | <B>pervasive</B> ]

<P>
<BR>

<I>RTPROTO</I> := [ 

<B>kernel</B> | <B>boot</B> | <B>static</B> |

<I>NUMBER</I> ]

<P>
<BR>

<B>ip rule</B>

 [ <B>list</B> | <B>add</B> | <B>del</B> | <B>flush</B> ]

<I>SELECTOR ACTION</I>

<P>
<BR>

<I>SELECTOR</I> := [ 

<B>from</B>

<I>PREFIX</I> ] [ 

<B>to</B>

<I>PREFIX</I> ] [ 

<B>tos</B>

<I>TOS</I> ] [ 

<B>fwmark</B>

<I>FWMARK[/MASK]</I> ] [ 

<B>dev</B>

<I>STRING</I> ] [ 

<B>pref</B>

<I>NUMBER</I> ]

<P>
<BR>

<I>ACTION</I> := [ 

<B>table</B>

<I>TABLE_ID</I> ] [ 

<B>nat</B>

<I>ADDRESS</I> ] [ 

<B>prohibit</B> | <B>reject</B> | <B>unreachable</B> ] [ <B>realms</B>

[<I>SRCREALM</I>/]<I>DSTREALM</I> ]

<P>
<BR>

<I>TABLE_ID</I> := [ 

<B>local</B> | <B>main</B> | <B>default</B> |

<I>NUMBER</I> ]

<P>
<BR>

<B>ip neigh</B> { <B>add</B> | <B>del</B> | <B>change</B> | <B>replace</B> } { 

<I>ADDR</I> [ 

<B>lladdr</B>

<I>LLADDR</I> ] [ 

<B>nud</B> { <B>permanent</B> | <B>noarp</B> | <B>stale</B> | <B>reachable</B> } ] | <B>proxy</B>

<I>ADDR</I> } [ 

<B>dev</B>

<I>DEV</I> ]

<P>
<BR>

<B>ip neigh</B> { <B>show</B> | <B>flush</B> } [ <B>to</B>

<I>PREFIX</I> ] [ 

<B>dev</B>

<I>DEV</I> ] [ 

<B>nud</B>

<I>STATE</I> ]

<P>
<BR>

<B>ip tunnel</B> { <B>add</B> | <B>change</B> | <B>del</B> | <B>show</B> | <B>prl</B> }

[ <I>NAME</I> ]

<BR>

[ <B>mode</B>

<I>MODE</I> ] [ 

<B>remote</B>

<I>ADDR</I> ] [ 

<B>local</B>

<I>ADDR</I> ]

<BR>

[ [<B>i</B>|<B>o</B>]<B>seq</B> ] [ [<B>i</B>|<B>o</B>]<B>key</B>

<I>KEY</I> ] [ 

[<B>i</B>|<B>o</B>]<B>csum</B> ] ]

<BR>

[ <B>encaplimit</B>

<I>ELIM</I> ]

[ <B>ttl</B>

<I>TTL</I> ]

<BR>

[ <B>tos</B>

<I>TOS</I> ] [ 

<B>flowlabel</B>

<I>FLOWLABEL</I> ]

<BR>

[ <B>prl-default</B>

<I>ADDR</I> ] [ 

<B>prl-nodefault</B>

<I>ADDR</I> ] [ 

<B>prl-delete</B>

<I>ADDR</I> ]

<BR>

[ [<B>no</B>]<B>pmtudisc</B> ]

[ <B>dev</B>

<I>PHYS_DEV</I> ]

[ <B>dscp inherit</B> ]

<P>
<BR>

<I>MODE</I> := 

 { <B>ipip</B> | <B>gre</B> | <B>sit</B> | <B>isatap</B> | <B>ip6ip6</B> | <B>ipip6</B> | <B>any</B> }

<P>
<BR>

<I>ADDR</I> := { <I>IP_ADDRESS</I> |

<B>any</B> }

<P>
<BR>

<I>TOS</I> := { <I>NUMBER</I> |

<B>inherit</B> }

<P>
<BR>

<I>ELIM</I> := {

<B>none</B> | 

<I>0</I>..<I>255</I> }

<P>
<BR>

<BR>

<I>TTL</I> := { <I>1</I>..<I>255</I> | 

<B>inherit</B> }

<P>
<BR>

<I>KEY</I> := { <I>DOTTED_QUAD</I> | <I>NUMBER</I> }

<P>
<BR>

<I>TIME</I> := <I>NUMBER</I>[s|ms|us|ns|j]

<P>
<BR>

<B>ip maddr</B> [ <B>add</B> | <B>del</B> ]

<I>MULTIADDR</I><B> dev </B><I>STRING</I>

<P>
<BR>

<B>ip maddr show</B> [ <B>dev</B>

<I>STRING</I> ]

<P>
<BR>

<B>ip mroute show</B> [

<I>PREFIX</I> ] [ 

<B>from</B>

<I>PREFIX</I> ] [ 

<B>iif</B>

<I>DEVICE</I> ]

<P>
<BR>

<B>ip monitor</B> [ <B>all</B> |

<I>LISTofOBJECTS</I> ]

<P>
<BR>

<B>ip xfrm</B>

<I>XFRM_OBJECT</I> { <I>COMMAND</I> }

<P>
<BR>

<I>XFRM_OBJECT</I> := { <I>state</I> | <I>policy</I> | <I>monitor</I> } 

<P>
<BR>

<B>ip xfrm state </B>{<B> add </B>|<B> update </B>}<B></B>

<I>ID</I> [ 

<I>XFRM_OPT</I> ] 

 [ <B>mode</B>

<I>MODE</I> ] 

<BR>

 [ <B>reqid</B>

<I>REQID</I> ] 

 [ <B>seq</B>

<I>SEQ</I> ] 

 [ <B>replay-window</B>

<I>SIZE</I> ] 

<BR>

 [ <B>flag</B>

<I>FLAG-LIST</I> ] 

 [ <B>encap</B>

<I>ENCAP</I> ] 

 [ <B>sel</B>

<I>SELECTOR</I> ] 

<BR>

 [ 

<I>LIMIT-LIST</I> ] 

<P>
<BR>

<B>ip xfrm state allocspi </B>

<I>ID</I>

 [ <B>mode</B>

<I>MODE</I> ] 

 [ <B>reqid</B>

<I>REQID</I> ] 

 [ <B>seq</B>

<I>SEQ</I> ] 

 [ <B>min</B>

<I>SPI</I>

<B>max</B>

<I>SPI</I> ] 

<P>
<BR>

<B>ip xfrm state</B> { <B>delete</B> | <B>get</B> } 

<I>ID</I>

<P>
<BR>

<B>ip xfrm state</B> { <B>deleteall</B> | <B>list</B> } [ 

<I>ID</I> ] 

 [ <B>mode</B>

<I>MODE</I> ] 

<BR>

 [ <B>reqid</B>

<I>REQID</I> ] 

 [ <B>flag</B>

<I>FLAG_LIST</I> ] 

<P>
<BR>

<B>ip xfrm state flush</B> [ <B>proto</B>

<I>XFRM_PROTO</I> ] 

<P>
<BR>

<B>ip xfrm state count</B>

<P>
<BR>

<I>ID</I> := 

 [ <B>src</B>

<I>ADDR</I> ] 

 [ <B>dst</B>

<I>ADDR</I> ] 

 [ <B>proto</B>

<I>XFRM_PROTO</I> ] 

 [ <B>spi</B>

<I>SPI</I> ] 

<P>
<BR>

<I>XFRM_PROTO</I> := 

 [ <B>esp</B> | <B>ah</B> | <B>comp</B> | <B>route2</B> | <B>hao</B> ] 

<P>
<BR>

<I>MODE</I> := 

 [ <B>transport</B> | <B>tunnel</B> | <B>ro</B> | <B>beet</B> ] 

<B>(default=transport)</B>

<P>
<BR>

<I>FLAG-LIST</I> := 

 [ <I>FLAG-LIST</I> ] <I>FLAG</I>

<P>
<BR>

<I>FLAG</I> := 

 [ <B>noecn</B> | <B>decap-dscp</B> | <B>wildrecv</B> ] 

<P>
<BR>

<I>ENCAP</I> := <I>ENCAP-TYPE</I> <I>SPORT</I> <I>DPORT</I> <I>OADDR</I>

<P>
<BR>

<I>ENCAP-TYPE</I> := 

<B>espinudp</B>

 | 

<B>espinudp-nonike</B>

<P>
<BR>

<I>ALGO-LIST</I> := [ 

<I>ALGO-LIST</I> ] | [ 

<I>ALGO</I> ] 

<P>
<BR>

<I>ALGO</I> := 

<I>ALGO_TYPE</I>

<I>ALGO_NAME</I>

<I>ALGO_KEY</I>

<P>
<BR>

<I>ALGO_TYPE</I> := 

 [ <B>enc</B> | <B>auth</B> | <B>comp</B> ] 

<P>
<BR>

<I>SELECTOR</I> := 

<B>src</B>

<I>ADDR</I>[/<I>PLEN</I>]

<B>dst</B>

<I>ADDR</I>[/<I>PLEN</I>]

 [ <I>UPSPEC</I> ] 

 [ <B>dev</B>

<I>DEV</I> ] 

<P>
<BR>

<I>UPSPEC</I> := 

<B>proto</B>

<I>PROTO</I> [[ 

<B>sport</B>

<I>PORT</I> ] 

 [ <B>dport</B>

<I>PORT</I> ] | 

<BR>

 [ <B>type</B>

<I>NUMBER</I> ] 

 [ <B>code</B>

<I>NUMBER</I> ]] 

<P>
<BR>

<I>LIMIT-LIST</I> := [ <I>LIMIT-LIST</I> ] |

 [ limit

<I>LIMIT</I> ] 

<P>
<BR>

<I>LIMIT</I> := 

 [ [<B>time-soft</B>|<B>time-hard</B>|<B>time-use-soft</B>|<B>time-use-hard</B>]

<I>SECONDS</I> ] | 

[ [byte-soft<B>|</B>byte-hard<B>]</B>

<I>SIZE</I> ] | 

<BR>

 [ [packet-soft<B>|</B>packet-hard<B>]</B>

<I>COUNT</I> ] 

<P>
<BR>

<B>ip xfrm policy</B> { <B>add</B> | <B>update</B> } <B> dir </B>

<I>DIR</I>

<I>SELECTOR</I> [ 

<B>index</B>

<I>INDEX</I> ] 

<BR>

 [ <B>ptype</B>

<I>PTYPE</I> ] 

 [ <B>action</B>

<I>ACTION</I> ] 

 [ <B>priority</B>

<I>PRIORITY</I> ] 

<BR>

 [ <I>LIMIT-LIST</I> ] [ 

<I>TMPL-LIST</I> ] 

<P>
<BR>

<B>ip xfrm policy</B> { <B>delete</B> | <B>get</B> } <B> dir </B>

<I>DIR</I> [ <I>SELECTOR</I> | 

<B>index</B>

<I>INDEX</I>

 ] 

<BR>

 [ <B>ptype</B>

<I>PTYPE</I> ] 

<P>
<BR>

<B>ip xfrm policy</B> { <B>deleteall</B> | <B>list</B> } 

 [ <B>dir</B>

<I>DIR</I> ] [ 

<I>SELECTOR</I> ] 

<BR>

 [ <B>index</B>

<I>INDEX</I> ] 

 [ <B>action</B>

<I>ACTION</I> ] 

 [ <B>priority</B>

<I>PRIORITY</I> ] 

<P>
<BR>

<B>ip xfrm policy flush</B>

 [ <B>ptype</B>

<I>PTYPE</I> ] 

<P>
<BR>

<B>ip xfrm count</B>

<P>
<BR>

<I>PTYPE</I> := 

 [ <B>main</B> | <B>sub</B> ] 

<B>(default=main)</B>

<P>
<BR>

<I>DIR</I> := 

 [ <B>in</B> | <B>out</B> | <B>fwd</B> ] 

<P>
<BR>

<I>SELECTOR</I> := 

<B>src</B>

<I>ADDR</I>[/<I>PLEN</I>]

<B>dst</B>

<I>ADDR</I>[/<I>PLEN]</I> [ <I>UPSPEC</I>

 ] [ <B>dev</B>

<I>DEV</I> ] 

<P>
<BR>

<I>UPSPEC</I> := 

<B>proto</B>

<I>PROTO</I> [ 

 [ <B>sport</B>

<I>PORT</I> ] 

 [ <B>dport</B>

<I>PORT</I> ] | 

<BR>

 [ <B>type</B>

<I>NUMBER</I> ] 

 [ <B>code</B>

<I>NUMBER</I> ] ] 

<P>
<BR>

<I>ACTION</I> := 

 [ <B>allow</B> | <B>block</B> ]

<B>(default=allow)</B>

<P>
<BR>

<I>LIMIT-LIST</I> := 

 [ 

<I>LIMIT-LIST</I> ] | 

 [ <B>limit</B>

<I>LIMIT</I> ] 

<P>
<BR>

<I>LIMIT</I> := 

 [ [<B>time-soft</B>|<B>time-hard</B>|<B>time-use-soft</B>|<B>time-use-hard</B>]

<I>SECONDS</I> ] | 

 [ [<B>byte-soft</B>|<B>byte-hard</B>]

<I>SIZE</I> ] | 

<BR>

[<B>packet-soft</B>|<B>packet-hard</B>]

<I>NUMBER</I> ] 

<P>
<BR>

<I>TMPL-LIST</I> := 

<B> [ </B>

<I>TMPL-LIST</I> ] | 

 [ <B>tmpl</B>

<I>TMPL</I> ] 

<P>
<BR>

<I>TMPL</I> := 

<I>ID</I> [ 

<B>mode</B>

<I>MODE</I> ] 

 [ <B>reqid</B>

<I>REQID</I> ] 

 [ <B>level</B>

<I>LEVEL</I> ] 

<P>
<BR>

<I>ID</I> := 

 [ <B>src</B>

<I>ADDR</I> ] 

 [ <B>dst</B>

<I>ADDR</I> ] 

 [ <B>proto</B>

<I>XFRM_PROTO</I> ] 

 [ <B>spi</B>

<I>SPI</I> ] 

<P>
<BR>

<I>XFRM_PROTO</I> := 

 [ <B>esp</B> | <B>ah</B> | <B>comp</B> | <B>route2</B> | <B>hao</B> ] 

<P>
<BR>

<I>MODE</I> := 

 [ <B>transport</B> | <B>tunnel</B> | <B>beet</B> ] 

<B>(default=transport)</B>

<P>
<BR>

<I>LEVEL</I> := 

 [ <B>required</B> | <B>use</B> ] 

<B>(default=required)</B>

<P>
<BR>

<B>ip xfrm monitor</B> [ <B>all</B> | 

<I>LISTofOBJECTS</I> ] 

<P>


<P>
<A NAME="lbAD">&nbsp;</A>
<H2>OPTIONS</H2>

<P>
<DL COMPACT>
<DT><B>-V</B>,<B> -Version</B>

<DD>
print the version of the
<B>ip</B>

utility and exit.
<P>
<DT><B>-s</B>,<B> -stats,</B> -statistics

<DD>
output more information.  If the option
appears twice or more, the amount of information increases.
As a rule, the information is statistics or some time values.
<P>
<DT><B>-f</B>,<B> -family</B>

<DD>
followed by protocol family identifier:
<B>inet</B>,<B> inet6</B>

or
<B>link</B>

,enforce the protocol family to use.  If the option is not present,
the protocol family is guessed from other arguments.  If the rest
of the command line does not give enough information to guess the
family,
<B>ip</B>

falls back to the default one, usually
<B>inet</B>

or
<B>any</B>.

<B>link</B>

is a special family identifier meaning that no networking protocol
is involved.
<P>
<DT><B>-4</B>

<DD>
shortcut for
<B>-family inet</B>.

<P>
<DT><B>-6</B>

<DD>
shortcut for
<B>-family inet6</B>.

<P>
<DT><B>-0</B>

<DD>
shortcut for
<B>-family link</B>.

<P>
<DT><B>-o</B>,<B> -oneline</B>

<DD>
output each record on a single line, replacing line feeds
with the
<B>'\'</B>

character. This is convenient when you want to count records
with
<B><A HREF="/manpages/index.html?1+wc">wc</A></B>(1)

<BR>&nbsp;or&nbsp;to
<B><A HREF="/manpages/index.html?1+grep">grep</A></B>(1)

the output.
<P>
<DT><B>-r</B>,<B> -resolve</B>

<DD>
use the system's name resolver to print DNS names instead of
host addresses.
<P>
</DL>
<A NAME="lbAE">&nbsp;</A>
<H2>IP - COMMAND SYNTAX</H2>

<P>
<A NAME="lbAF">&nbsp;</A>
<H3><I>OBJECT</I>

</H3>

<P>
<DL COMPACT>
<DT><B>link</B>

<DD>
- network device.
<P>
<DT><B>address</B>

<DD>
- protocol (IP or IPv6) address on a device.
<P>
<DT><B>addrlabel</B>

<DD>
- label configuration for protocol address selection.
<P>
<DT><B>neighbour</B>

<DD>
- ARP or NDISC cache entry.
<P>
<DT><B>route</B>

<DD>
- routing table entry.
<P>
<DT><B>rule</B>

<DD>
- rule in routing policy database.
<P>
<DT><B>maddress</B>

<DD>
- multicast address.
<P>
<DT><B>mroute</B>

<DD>
- multicast routing cache entry.
<P>
<DT><B>tunnel</B>

<DD>
- tunnel over IP.
<P>
<DT><B>xfrm</B>

<DD>
- framework for IPsec protocol.
<P>
</DL>
<P>

The names of all objects may be written in full or
abbreviated form, f.e.
<B>address</B>

is abbreviated as
<B>addr</B>

or just
<B>a.</B>

<P>
<A NAME="lbAG">&nbsp;</A>
<H3><I>COMMAND</I>

</H3>

<P>
Specifies the action to perform on the object.
The set of possible actions depends on the object type.
As a rule, it is possible to
<B>add</B>,<B> delete</B>

and
<B>show</B>

(or
<B>list</B>

) objects, but some objects do not allow all of these operations
or have some additional commands.  The
<B>help</B>

command is available for all objects.  It prints
out a list of available commands and argument syntax conventions.
<P>
If no command is given, some default command is assumed.
Usually it is
<B>list</B>

or, if the objects of this class cannot be listed,
<B>help</B>.

<P>
<A NAME="lbAH">&nbsp;</A>
<H2>ip link - network device configuration</H2>

<P>
<B>link</B>

is a network device and the corresponding commands
display and change the state of devices.
<P>
<A NAME="lbAI">&nbsp;</A>
<H3>ip link set - change device attributes</H3>

<P>
<DL COMPACT>
<DT><B>dev</B><I> NAME </I><B>(default)</B>

<DD>
<I>NAME</I>

specifies network device to operate on. When configuring SR-IOV Virtual Fuction
(VF) devices, this keyword should specify the associated Physical Function (PF)
device.
<P>
<DT><B>up</B> and <B>down</B>

<DD>
change the state of the device to
<B>UP</B>

or
<B>DOWN</B>.

<P>
<DT><B>arp on </B>or<B> arp off</B>

<DD>
change the
<B>NOARP</B>

flag on the device.
<P>
<DT><B>multicast on </B>or<B> multicast off</B>

<DD>
change the
<B>MULTICAST</B>

flag on the device.
<P>
<DT><B>dynamic on </B>or<B> dynamic off</B>

<DD>
change the
<B>DYNAMIC</B>

flag on the device.
<P>
<DT><B>name</B><I> NAME</I>

<DD>
change the name of the device.  This operation is not
recommended if the device is running or has some addresses
already configured.
<P>
<DT><B>txqueuelen</B><I> NUMBER</I>

<DD>
<DT><B>txqlen</B><I> NUMBER</I>

<DD>
change the transmit queue length of the device.
<P>
<DT><B>mtu</B><I> NUMBER</I>

<DD>
change the
<I>MTU</I>

of the device.
<P>
<DT><B>address</B><I> LLADDRESS</I>

<DD>
change the station address of the interface.
<P>
<DT><B>broadcast</B><I> LLADDRESS</I>

<DD>
<DT><B>brd</B><I> LLADDRESS</I>

<DD>
<DT><B>peer</B><I> LLADDRESS</I>

<DD>
change the link layer broadcast address or the peer address when
the interface is
<I>POINTOPOINT</I>.

<P>
<DT><B>netns</B><I> PID</I>

<DD>
move the device to the network namespace associated with the process
<I>PID.</I>

<P>
<DT><B>alias</B><I> NAME</I>

<DD>
give the device a symbolic name for easy reference.
<P>
<DT><B>vf</B><I> NUM</I>

<DD>
specify a Virtual Function device to be configured. The associated PF device
must be specified using the
<B>dev</B>

parameter.
<P>

<B>mac</B><I> LLADDRESS</I>

- change the station address for the specified VF. The
<B>vf</B>

parameter must be specified.
<P>
<P>
<B>vlan</B><I> VLANID</I>

- change the assigned VLAN for the specified VF. When specified, all traffic
sent from the VF will be tagged with the specified VLAN ID. Incoming traffic
will be filtered for the specified VLAN ID, and will have all VLAN tags
stripped before being passed to the VF. Setting this parameter to 0 disables
VLAN tagging and filtering. The
<B>vf</B>

parameter must be specified.
<P>
<P>
<B>qos</B><I> VLAN-QOS</I>

- assign VLAN QOS (priority) bits for the VLAN tag. When specified, all VLAN
tags transmitted by the VF will include the specified priority bits in the
VLAN tag. If not specified, the value is assumed to be 0. Both the
<B>vf</B>

and
<B>vlan</B>

parameters must be specified. Setting both
<B>vlan</B>

and
<B>qos</B>

as 0 disables VLAN tagging and filtering for the VF.
<P>
<P>
<B>rate</B><I> TXRATE</I>

- change the allowed transmit bandwidth, in Mbps, for the specified VF.
Setting this parameter to 0 disables rate limiting. The
<B>vf</B>

parameter must be specified.

<P>
</DL>
<P>

<B>Warning:</B>

If multiple parameter changes are requested,
<B>ip</B>

aborts immediately after any of the changes have failed.
This is the only case when
<B>ip</B>

can move the system to an unpredictable state.  The solution
is to avoid changing several parameters with one
<B>ip link set</B>

call.
<P>
<A NAME="lbAJ">&nbsp;</A>
<H3>ip link show - display device attributes</H3>

<P>
<DL COMPACT>
<DT><B>dev</B><I> NAME </I><B>(default)</B>

<DD>
<I>NAME</I>

specifies the network device to show.
If this argument is omitted all devices are listed.
<P>
<DT><B>up</B>

<DD>
only display running interfaces.
<P>
</DL>
<A NAME="lbAK">&nbsp;</A>
<H2>ip address - protocol address management.</H2>

<P>
The
<B>address</B>

is a protocol (IP or IPv6) address attached
to a network device.  Each device must have at least one address
to use the corresponding protocol.  It is possible to have several
different addresses attached to one device.  These addresses are not
discriminated, so that the term
<B>alias</B>

is not quite appropriate for them and we do not use it in this document.
<P>
The
<B>ip addr</B>

command displays addresses and their properties, adds new addresses
and deletes old ones.
<P>
<A NAME="lbAL">&nbsp;</A>
<H3>ip address add - add new protocol address.</H3>

<P>
<DL COMPACT>
<DT><B>dev</B><I> NAME</I>

<DD>
the name of the device to add the address to.
<P>
<DT><B>local</B><I> ADDRESS </I><B>(default)</B>

<DD>
the address of the interface. The format of the address depends
on the protocol. It is a dotted quad for IP and a sequence of
hexadecimal halfwords separated by colons for IPv6.  The
<I>ADDRESS</I>

may be followed by a slash and a decimal number which encodes
the network prefix length.
<P>
<DT><B>peer</B><I> ADDRESS</I>

<DD>
the address of the remote endpoint for pointopoint interfaces.
Again, the
<I>ADDRESS</I>

may be followed by a slash and a decimal number, encoding the network
prefix length.  If a peer address is specified, the local address
cannot have a prefix length.  The network prefix is associated
with the peer rather than with the local address.
<P>
<DT><B>broadcast</B><I> ADDRESS</I>

<DD>
the broadcast address on the interface.
<P>
It is possible to use the special symbols
<B>'+'</B>

and
<B>'-'</B>

instead of the broadcast address.  In this case, the broadcast address
is derived by setting/resetting the host bits of the interface prefix.
<P>
<DT><B>label</B><I> NAME</I>

<DD>
Each address may be tagged with a label string.
In order to preserve compatibility with Linux-2.0 net aliases,
this string must coincide with the name of the device or must be prefixed
with the device name followed by colon.
<P>
<DT><B>scope</B><I> SCOPE_VALUE</I>

<DD>
the scope of the area where this address is valid.
The available scopes are listed in file
<B>/etc/iproute2/rt_scopes</B>.

Predefined scope values are:
<P>

<B>global</B>

- the address is globally valid.
<P>
<B>site</B>

- (IPv6 only) the address is site local, i.e. it is
valid inside this site.
<P>
<B>link</B>

- the address is link local, i.e. it is valid only on this device.
<P>
<B>host</B>

- the address is valid only inside this host.

<P>
</DL>
<A NAME="lbAM">&nbsp;</A>
<H3>ip address delete - delete protocol address</H3>

<B>Arguments:</B>

coincide with the arguments of
<B>ip addr add.</B>

The device name is a required argument.  The rest are optional.
If no arguments are given, the first address is deleted.
<P>
<A NAME="lbAN">&nbsp;</A>
<H3>ip address show - look at protocol addresses</H3>

<P>
<DL COMPACT>
<DT><B>dev</B><I> NAME </I><B>(default)</B>

<DD>
name of device.
<P>
<DT><B>scope</B><I> SCOPE_VAL</I>

<DD>
only list addresses with this scope.
<P>
<DT><B>to</B><I> PREFIX</I>

<DD>
only list addresses matching this prefix.
<P>
<DT><B>label</B><I> PATTERN</I>

<DD>
only list addresses with labels matching the
<I>PATTERN</I>.

<I>PATTERN</I>

is a usual shell style pattern.
<P>
<DT><B>dynamic</B> and <B>permanent</B>

<DD>
(IPv6 only) only list addresses installed due to stateless
address configuration or only list permanent (not dynamic)
addresses.
<P>
<DT><B>tentative</B>

<DD>
(IPv6 only) only list addresses which did not pass duplicate
address detection.
<P>
<DT><B>deprecated</B>

<DD>
(IPv6 only) only list deprecated addresses.
<P>
<DT><B>primary</B> and <B>secondary</B>

<DD>
only list primary (or secondary) addresses.
<P>
</DL>
<A NAME="lbAO">&nbsp;</A>
<H3>ip address flush - flush protocol addresses</H3>

This command flushes the protocol addresses selected by some criteria.
<P>
<P>

This command has the same arguments as
<B>show.</B>

The difference is that it does not run when no arguments are given.
<P>
<P>

<B>Warning:</B>

This command (and other
<B>flush</B>

commands described below) is pretty dangerous.  If you make a mistake,
it will not forgive it, but will cruelly purge all the addresses.
<P>
<P>

With the
<B>-statistics</B>

option, the command becomes verbose. It prints out the number of deleted
addresses and the number of rounds made to flush the address list.  If
this option is given twice,
<B>ip addr flush</B>

also dumps all the deleted addresses in the format described in the
previous subsection.
<P>
<A NAME="lbAP">&nbsp;</A>
<H2>ip addrlabel - protocol address label management.</H2>

<P>
IPv6 address label is used for address selection
described in RFC 3484.  Precedence is managed by userspace,
and only label is stored in kernel.
<P>
<A NAME="lbAQ">&nbsp;</A>
<H3>ip addrlabel add - add an address label</H3>

the command adds an address label entry to the kernel.
<DL COMPACT>
<DT><B>prefix</B><I> PREFIX</I>

<DD>
<DT><B>dev</B><I> DEV</I>

<DD>
the outgoing interface.
<DT><B>label</B><I> NUMBER</I>

<DD>
the label for the prefix.
0xffffffff is reserved.
</DL>
<A NAME="lbAR">&nbsp;</A>
<H3>ip addrlabel del - delete an address label</H3>

the command deletes an address label entry in the kernel.
<B>Arguments:</B>

coincide with the arguments of
<B>ip addrlabel add</B>

but label is not required.
<A NAME="lbAS">&nbsp;</A>
<H3>ip addrlabel list - list address labels</H3>

the command show contents of address labels.
<A NAME="lbAT">&nbsp;</A>
<H3>ip addrlabel flush - flush address labels</H3>

the command flushes the contents of address labels and it does not restore default settings.
<A NAME="lbAU">&nbsp;</A>
<H2>ip neighbour - neighbour/arp tables management.</H2>

<P>
<B>neighbour</B>

objects establish bindings between protocol addresses and
link layer addresses for hosts sharing the same link.
Neighbour entries are organized into tables. The IPv4 neighbour table
is known by another name - the ARP table.
<P>

The corresponding commands display neighbour bindings
and their properties, add new neighbour entries and delete old ones.
<P>
<A NAME="lbAV">&nbsp;</A>
<H3>ip neighbour add - add a new neighbour entry</H3>

<A NAME="lbAW">&nbsp;</A>
<H3>ip neighbour change - change an existing entry</H3>

<A NAME="lbAX">&nbsp;</A>
<H3>ip neighbour replace - add a new entry or change an existing one</H3>

<P>
These commands create new neighbour records or update existing ones.
<P>
<DL COMPACT>
<DT><B>to</B><I> ADDRESS </I><B>(default)</B>

<DD>
the protocol address of the neighbour. It is either an IPv4 or IPv6 address.
<P>
<DT><B>dev</B><I> NAME</I>

<DD>
the interface to which this neighbour is attached.
<P>
<DT><B>lladdr</B><I> LLADDRESS</I>

<DD>
the link layer address of the neighbour.
<I>LLADDRESS</I>

can also be
<B>null</B>.

<P>
<DT><B>nud</B><I> NUD_STATE</I>

<DD>
the state of the neighbour entry.
<B>nud</B>

is an abbreviation for 'Neigh bour Unreachability Detection'.
The state can take one of the following values:
<P>

<B>permanent</B>

- the neighbour entry is valid forever and can be only
be removed administratively.
<P>
<P>
<B>noarp</B>

- the neighbour entry is valid. No attempts to validate
this entry will be made but it can be removed when its lifetime expires.
<P>
<P>
<B>reachable</B>

- the neighbour entry is valid until the reachability
timeout expires.
<P>
<P>
<B>stale</B>

- the neighbour entry is valid but suspicious.
This option to
<B>ip neigh</B>

does not change the neighbour state if it was valid and the address
is not changed by this command.

<P>
</DL>
<A NAME="lbAY">&nbsp;</A>
<H3>ip neighbour delete - delete a neighbour entry</H3>

This command invalidates a neighbour entry.
<P>
<P>

The arguments are the same as with
<B>ip neigh add</B>,

except that
<B>lladdr</B>

and
<B>nud</B>

are ignored.
<P>
<P>

<B>Warning:</B>

Attempts to delete or manually change a
<B>noarp</B>

entry created by the kernel may result in unpredictable behaviour.
Particularly, the kernel may try to resolve this address even
on a
<B>NOARP</B>

interface or if the address is multicast or broadcast.
<P>
<A NAME="lbAZ">&nbsp;</A>
<H3>ip neighbour show - list neighbour entries</H3>

<P>
This commands displays neighbour tables.
<P>
<DL COMPACT>
<DT><B>to</B><I> ADDRESS </I><B>(default)</B>

<DD>
the prefix selecting the neighbours to list.
<P>
<DT><B>dev</B><I> NAME</I>

<DD>
only list the neighbours attached to this device.
<P>
<DT><B>unused</B>

<DD>
only list neighbours which are not currently in use.
<P>
<DT><B>nud</B><I> NUD_STATE</I>

<DD>
only list neighbour entries in this state.
<I>NUD_STATE</I>

takes values listed below or the special value
<B>all</B>

which means all states.  This option may occur more than once.
If this option is absent,
<B>ip</B>

lists all entries except for
<B>none</B>

and
<B>noarp</B>.

<P>
</DL>
<A NAME="lbBA">&nbsp;</A>
<H3>ip neighbour flush - flush neighbour entries</H3>

This command flushes neighbour tables, selecting
entries to flush by some criteria.
<P>
<P>

This command has the same arguments as
<B>show.</B>

The differences are that it does not run when no arguments are given,
and that the default neighbour states to be flushed do not include
<B>permanent</B>

and
<B>noarp</B>.

<P>
<P>

With the
<B>-statistics</B>

option, the command becomes verbose.  It prints out the number of
deleted neighbours and the number of rounds made to flush the
neighbour table.  If the option is given
twice,
<B>ip neigh flush</B>

also dumps all the deleted neighbours.
<P>
<A NAME="lbBB">&nbsp;</A>
<H2>ip route - routing table management</H2>

Manipulate route entries in the kernel routing tables keep
information about paths to other networked nodes.
<P>
<B>Route types:</B>

<P>

<B>unicast</B>

- the route entry describes real paths to the destinations covered
by the route prefix.
<P>
<P>
<B>unreachable</B>

- these destinations are unreachable.  Packets are discarded and the
ICMP message
<I>host unreachable</I>

is generated.
The local senders get an
<I>EHOSTUNREACH</I>

error.
<P>
<P>
<B>blackhole</B>

- these destinations are unreachable.  Packets are discarded silently.
The local senders get an
<I>EINVAL</I>

error.
<P>
<P>
<B>prohibit</B>

- these destinations are unreachable.  Packets are discarded and the
ICMP message
<I>communication administratively prohibited</I>

is generated.  The local senders get an
<I>EACCES</I>

error.
<P>
<P>
<B>local</B>

- the destinations are assigned to this host.  The packets are looped
back and delivered locally.
<P>
<P>
<B>broadcast</B>

- the destinations are broadcast addresses.  The packets are sent as
link broadcasts.
<P>
<P>
<B>throw</B>

- a special control route used together with policy rules. If such a
route is selected, lookup in this table is terminated pretending that
no route was found.  Without policy routing it is equivalent to the
absence of the route in the routing table.  The packets are dropped
and the ICMP message
<I>net unreachable</I>

is generated.  The local senders get an
<I>ENETUNREACH</I>

error.
<P>
<P>
<B>nat</B>

- a special NAT route.  Destinations covered by the prefix
are considered to be dummy (or external) addresses which require translation
to real (or internal) ones before forwarding.  The addresses to translate to
are selected with the attribute
<B>Warning:</B>

Route NAT is no longer supported in Linux 2.6.
<P>
<P>
<B>via</B>.

<P>
<B>anycast</B>

- <I>not implemented</I>

the destinations are
<I>anycast</I>

addresses assigned to this host.  They are mainly equivalent
to
<B>local</B>

with one difference: such addresses are invalid when used
as the source address of any packet.
<P>
<P>
<B>multicast</B>

- a special type used for multicast routing.  It is not present in
normal routing tables.

<P>

<B>Route tables:</B>

Linux-2.x can pack routes into several routing
tables identified by a number in the range from 1 to 255 or by
name from the file
<B>/etc/iproute2/rt_tables</B>

By default all normal routes are inserted into the
<B>main</B>

table (ID 254) and the kernel only uses this table when calculating routes.
<P>
<P>
Actually, one other table always exists, which is invisible but
even more important.  It is the
<B>local</B>

table (ID 255).  This table
consists of routes for local and broadcast addresses.  The kernel maintains
this table automatically and the administrator usually need not modify it
or even look at it.
<P>
The multiple routing tables enter the game when
<I>policy routing</I>

is used.
<P>
<A NAME="lbBC">&nbsp;</A>
<H3>ip route add - add new route</H3>

<A NAME="lbBD">&nbsp;</A>
<H3>ip route change - change route</H3>

<A NAME="lbBE">&nbsp;</A>
<H3>ip route replace - change or add new one</H3>

<P>
<DL COMPACT>
<DT><B>to</B><I> TYPE PREFIX </I><B>(default)</B>

<DD>
the destination prefix of the route.  If
<I>TYPE</I>

is omitted,
<B>ip</B>

assumes type
<B>unicast</B>.

Other values of
<I>TYPE</I>

are listed above.
<I>PREFIX</I>

is an IP or IPv6 address optionally followed by a slash and the
prefix length.  If the length of the prefix is missing,
<B>ip</B>

assumes a full-length host route.  There is also a special
<I>PREFIX</I>

<B>default</B>

- which is equivalent to IP
<B>0/0</B>

or to IPv6
<B>::/0</B>.

<P>
<DT><B>tos</B><I> TOS</I>

<DD>
<DT><B>dsfield</B><I> TOS</I>

<DD>
the Type Of Service (TOS) key.  This key has no associated mask and
the longest match is understood as: First, compare the TOS
of the route and of the packet.  If they are not equal, then the packet
may still match a route with a zero TOS.
<I>TOS</I>

is either an 8 bit hexadecimal number or an identifier
from
<B>/etc/iproute2/rt_dsfield</B>.

<P>
<DT><B>metric</B><I> NUMBER</I>

<DD>
<DT><B>preference</B><I> NUMBER</I>

<DD>
the preference value of the route.
<I>NUMBER</I>

is an arbitrary 32bit number.
<P>
<DT><B>table</B><I> TABLEID</I>

<DD>
the table to add this route to.
<I>TABLEID</I>

may be a number or a string from the file
<B>/etc/iproute2/rt_tables</B>.

If this parameter is omitted,
<B>ip</B>

assumes the
<B>main</B>

table, with the exception of
<B>local</B> , <B>broadcast</B> and <B>nat</B>

routes, which are put into the
<B>local</B>

table by default.
<P>
<DT><B>dev</B><I> NAME</I>

<DD>
the output device name.
<P>
<DT><B>via</B><I> ADDRESS</I>

<DD>
the address of the nexthop router.  Actually, the sense of this field
depends on the route type.  For normal
<B>unicast</B>

routes it is either the true next hop router or, if it is a direct
route installed in BSD compatibility mode, it can be a local address
of the interface.  For NAT routes it is the first address of the block
of translated IP destinations.
<P>
<DT><B>src</B><I> ADDRESS</I>

<DD>
the source address to prefer when sending to the destinations
covered by the route prefix.
<P>
<DT><B>realm</B><I> REALMID</I>

<DD>
the realm to which this route is assigned.
<I>REALMID</I>

may be a number or a string from the file
<B>/etc/iproute2/rt_realms</B>.

<P>
<DT><B>mtu</B><I> MTU</I>

<DD>
<DT><B>mtu lock</B><I> MTU</I>

<DD>
the MTU along the path to the destination.  If the modifier
<B>lock</B>

is not used, the MTU may be updated by the kernel due to
Path MTU Discovery.  If the modifier
<B>lock</B>

is used, no path MTU discovery will be tried, all packets
will be sent without the DF bit in IPv4 case or fragmented
to MTU for IPv6.
<P>
<DT><B>window</B><I> NUMBER</I>

<DD>
the maximal window for TCP to advertise to these destinations,
measured in bytes.  It limits maximal data bursts that our TCP
peers are allowed to send to us.
<P>
<DT><B>rtt</B><I> TIME</I>

<DD>
the initial RTT ('Round Trip Time') estimate. If no suffix is
specified the units are raw values passed directly to the
routing code to maintain compatability with previous releases.
Otherwise if a suffix of s, sec or secs is used to specify
seconds; ms, msec or msecs to specify milliseconds; us, usec
or usecs to specify microseconds; ns, nsec or nsecs to specify
nanoseconds; j, hz or jiffies to specify jiffies, the value is
converted to what the routing code expects.
<P>
<P>
<DT><B>rttvar</B><I> TIME </I><B>(2.3.15+ only)</B>

<DD>
the initial RTT variance estimate. Values are specified as with
<B>rtt</B>

above.
<P>
<DT><B>rto_min</B><I> TIME </I><B>(2.6.23+ only)</B>

<DD>
the minimum TCP Retransmission TimeOut to use when communicating with this
destination.  Values are specified as with
<B>rtt</B>

above.
<P>
<DT><B>ssthresh</B><I> NUMBER </I><B>(2.3.15+ only)</B>

<DD>
an estimate for the initial slow start threshold.
<P>
<DT><B>cwnd</B><I> NUMBER </I><B>(2.3.15+ only)</B>

<DD>
the clamp for congestion window.  It is ignored if the
<B>lock</B>

flag is not used.
<P>
<DT><B>initcwnd</B><I> NUMBER </I>

<DD>
the maximum initial congestion window (cwnd) size in MSS of a
TCP connection.
<P>
<DT><B>advmss</B><I> NUMBER </I><B>(2.3.15+ only)</B>

<DD>
the MSS ('Maximal Segment Size') to advertise to these
destinations when establishing TCP connections.  If it is not given,
Linux uses a default value calculated from the first hop device MTU.
(If the path to these destination is asymmetric, this guess may be wrong.)
<P>
<DT><B>reordering</B><I> NUMBER </I><B>(2.3.15+ only)</B>

<DD>
Maximal reordering on the path to this destination.
If it is not given, Linux uses the value selected with
<B>sysctl</B>

variable
<B>net/ipv4/tcp_reordering</B>.

<P>
<DT><B>nexthop</B><I> NEXTHOP</I>

<DD>
the nexthop of a multipath route.
<I>NEXTHOP</I>

is a complex value with its own syntax similar to the top level
argument lists:
<P>

<B>via</B><I> ADDRESS</I>

- is the nexthop router.
<P>
<P>
<B>dev</B><I> NAME</I>

- is the output device.
<P>
<P>
<B>weight</B><I> NUMBER</I>

- is a weight for this element of a multipath
route reflecting its relative bandwidth or quality.

<P>
<DT><B>scope</B><I> SCOPE_VAL</I>

<DD>
the scope of the destinations covered by the route prefix.
<I>SCOPE_VAL</I>

may be a number or a string from the file
<B>/etc/iproute2/rt_scopes</B>.

If this parameter is omitted,
<B>ip</B>

assumes scope
<B>global</B>

for all gatewayed
<B>unicast</B>

routes, scope
<B>link</B>

for direct
<B>unicast</B> and <B>broadcast</B>

routes and scope
<B>host</B> for <B>local</B>

routes.
<P>
<DT><B>protocol</B><I> RTPROTO</I>

<DD>
the routing protocol identifier of this route.
<I>RTPROTO</I>

may be a number or a string from the file
<B>/etc/iproute2/rt_protos</B>.

If the routing protocol ID is not given,
<B>ip assumes protocol</B>

<B>boot</B>

(i.e. it assumes the route was added by someone who doesn't
understand what they are doing).  Several protocol values have
a fixed interpretation.
Namely:
<P>

<B>redirect</B>

- the route was installed due to an ICMP redirect.
<P>
<P>
<B>kernel</B>

- the route was installed by the kernel during autoconfiguration.
<P>
<P>
<B>boot</B>

- the route was installed during the bootup sequence.
If a routing daemon starts, it will purge all of them.
<P>
<P>
<B>static</B>

- the route was installed by the administrator
to override dynamic routing. Routing daemon will respect them
and, probably, even advertise them to its peers.
<P>
<P>
<B>ra</B>

- the route was installed by Router Discovery protocol.

<P>
<P>
The rest of the values are not reserved and the administrator is free
to assign (or not to assign) protocol tags.
<P>
<DT><B>onlink</B>

<DD>
pretend that the nexthop is directly attached to this link,
even if it does not match any interface prefix.
<P>
<DT><B>equalize</B>

<DD>
allow packet by packet randomization on multipath routes.
Without this modifier, the route will be frozen to one selected
nexthop, so that load splitting will only occur on per-flow base.
<B>equalize</B>

only works if the kernel is patched.
<P>
</DL>
<A NAME="lbBF">&nbsp;</A>
<H3>ip route delete - delete route</H3>

<P>
<B>ip route del</B>

has the same arguments as
<B>ip route add</B>,

but their semantics are a bit different.
<P>
Key values
(<B>to</B>, <B>tos</B>, <B>preference</B> and <B>table</B>)

select the route to delete.  If optional attributes are present,
<B>ip</B>

verifies that they coincide with the attributes of the route to delete.
If no route with the given key and attributes was found,
<B>ip route del</B>

fails.
<P>
<A NAME="lbBG">&nbsp;</A>
<H3>ip route show - list routes</H3>

the command displays the contents of the routing tables or the route(s)
selected by some criteria.
<P>
<DL COMPACT>
<DT><B>to</B><I> SELECTOR </I><B>(default)</B>

<DD>
only select routes from the given range of destinations.
<I>SELECTOR</I>

consists of an optional modifier
(<B>root</B>, <B>match</B> or <B>exact</B>)

and a prefix.
<B>root</B><I> PREFIX</I>

selects routes with prefixes not shorter than
<I>PREFIX</I>.

F.e.
<B>root</B><I> 0/0</I>

selects the entire routing table.
<B>match</B><I> PREFIX</I>

selects routes with prefixes not longer than
<I>PREFIX</I>.

F.e.
<B>match</B><I> 10.0/16</I>

selects
<I>10.0/16</I>,

<I>10/8</I> and <I>0/0</I>,

but it does not select
<I>10.1/16</I> and <I>10.0.0/24</I>.

And
<B>exact</B><I> PREFIX</I>

(or just
<I>PREFIX</I>)

selects routes with this exact prefix. If neither of these options
are present,
<B>ip</B>

assumes
<B>root</B><I> 0/0</I>

i.e. it lists the entire table.
<P>
<DT><B>tos</B><I> TOS</I>

<DD>
<B>dsfield</B><I> TOS</I>

only select routes with the given TOS.
<P>
<DT><B>table</B><I> TABLEID</I>

<DD>
show the routes from this table(s).  The default setting is to show
<B>table</B>main<B>.</B>

<I>TABLEID</I>

may either be the ID of a real table or one of the special values:
<P>

<B>all</B>

- list all of the tables.
<P>
<B>cache</B>

- dump the routing cache.

<P>
<DT><B>cloned</B>

<DD>
<DT><B>cached</B>

<DD>
list cloned routes i.e. routes which were dynamically forked from
other routes because some route attribute (f.e. MTU) was updated.
Actually, it is equivalent to
<B>table cache</B>.

<P>
<DT><B>from</B><I> SELECTOR</I>

<DD>
the same syntax as for
<B>to</B>,

but it binds the source address range rather than destinations.
Note that the
<B>from</B>

option only works with cloned routes.
<P>
<DT><B>protocol</B><I> RTPROTO</I>

<DD>
only list routes of this protocol.
<P>
<DT><B>scope</B><I> SCOPE_VAL</I>

<DD>
only list routes with this scope.
<P>
<DT><B>type</B><I> TYPE</I>

<DD>
only list routes of this type.
<P>
<DT><B>dev</B><I> NAME</I>

<DD>
only list routes going via this device.
<P>
<DT><B>via</B><I> PREFIX</I>

<DD>
only list routes going via the nexthop routers selected by
<I>PREFIX</I>.

<P>
<DT><B>src</B><I> PREFIX</I>

<DD>
only list routes with preferred source addresses selected
by
<I>PREFIX</I>.

<P>
<DT><B>realm</B><I> REALMID</I>

<DD>
<DT><B>realms</B><I> FROMREALM/TOREALM</I>

<DD>
only list routes with these realms.
<P>
</DL>
<A NAME="lbBH">&nbsp;</A>
<H3>ip route flush - flush routing tables</H3>

this command flushes routes selected by some criteria.
<P>
<P>
The arguments have the same syntax and semantics as the arguments of
<B>ip route show</B>,

but routing tables are not listed but purged.  The only difference is
the default action:
<B>show</B>

dumps all the IP main routing table but
<B>flush</B>

prints the helper page.
<P>
<P>
With the
<B>-statistics</B>

option, the command becomes verbose. It prints out the number of
deleted routes and the number of rounds made to flush the routing
table. If the option is given
twice,
<B>ip route flush</B>

also dumps all the deleted routes in the format described in the
previous subsection.
<P>
<A NAME="lbBI">&nbsp;</A>
<H3>ip route get - get a single route</H3>

this command gets a single route to a destination and prints its
contents exactly as the kernel sees it.
<P>
<DL COMPACT>
<DT><B>to</B><I> ADDRESS </I><B>(default)</B>

<DD>
the destination address.
<P>
<DT><B>from</B><I> ADDRESS</I>

<DD>
the source address.
<P>
<DT><B>tos</B><I> TOS</I>

<DD>
<DT><B>dsfield</B><I> TOS</I>

<DD>
the Type Of Service.
<P>
<DT><B>iif</B><I> NAME</I>

<DD>
the device from which this packet is expected to arrive.
<P>
<DT><B>oif</B><I> NAME</I>

<DD>
force the output device on which this packet will be routed.
<P>
<DT><B>connected</B>

<DD>
if no source address
(option <B>from</B>)

was given, relookup the route with the source set to the preferred
address received from the first lookup.
If policy routing is used, it may be a different route.
<P>

Note that this operation is not equivalent to
<B>ip route show</B>.

<B>show</B>

shows existing routes.
<B>get</B>

resolves them and creates new clones if necessary.  Essentially,
<B>get</B>

is equivalent to sending a packet along this path.
If the
<B>iif</B>

argument is not given, the kernel creates a route
to output packets towards the requested destination.
This is equivalent to pinging the destination
with a subsequent
<B>ip route ls cache</B>,

however, no packets are actually sent.  With the
<B>iif</B>

argument, the kernel pretends that a packet arrived from this interface
and searches for a path to forward the packet.
<P>
</DL>
<A NAME="lbBJ">&nbsp;</A>
<H2>ip rule - routing policy database management</H2>

<P>
<B>Rule</B>s

in the routing policy database control the route selection algorithm.
<P>

Classic routing algorithms used in the Internet make routing decisions
based only on the destination address of packets (and in theory,
but not in practice, on the TOS field).
<P>

In some circumstances we want to route packets differently depending not only
on destination addresses, but also on other packet fields: source address,
IP protocol, transport protocol ports or even packet payload.
This task is called 'policy routing'.
<P>

To solve this task, the conventional destination based routing table, ordered
according to the longest match rule, is replaced with a 'routing policy
database' (or RPDB), which selects routes by executing some set of rules.
<P>

Each policy routing rule consists of a
<B>selector</B>

and an
<B>action predicate.</B>

The RPDB is scanned in the order of increasing priority. The selector
of each rule is applied to {source address, destination address, incoming
interface, tos, fwmark} and, if the selector matches the packet,
the action is performed.  The action predicate may return with success.
In this case, it will either give a route or failure indication
and the RPDB lookup is terminated. Otherwise, the RPDB program
continues on the next rule.
<P>

Semantically, natural action is to select the nexthop and the output device.
<P>

At startup time the kernel configures the default RPDB consisting of three
rules:
<P>
<DL COMPACT>
<DT>1.<DD>
Priority: 0, Selector: match anything, Action: lookup routing
table
<B>local</B>

(ID 255).
The
<B>local</B>

table is a special routing table containing
high priority control routes for local and broadcast addresses.
<P>
Rule 0 is special. It cannot be deleted or overridden.
<P>
<DT>2.<DD>
Priority: 32766, Selector: match anything, Action: lookup routing
table
<B>main</B>

(ID 254).
The
<B>main</B>

table is the normal routing table containing all non-policy
routes. This rule may be deleted and/or overridden with other
ones by the administrator.
<P>
<DT>3.<DD>
Priority: 32767, Selector: match anything, Action: lookup routing
table
<B>default</B>

(ID 253).
The
<B>default</B>

table is empty.  It is reserved for some post-processing if no previous
default rules selected the packet.
This rule may also be deleted.
<P>

Each RPDB entry has additional
attributes.  F.e. each rule has a pointer to some routing
table.  NAT and masquerading rules have an attribute to select new IP
address to translate/masquerade.  Besides that, rules have some
optional attributes, which routes have, namely
<B>realms</B>.

These values do not override those contained in the routing tables.  They
are only used if the route did not select any attributes.
<P>
<P>
The RPDB may contain rules of the following types:
<P>

<B>unicast</B>

- the rule prescribes to return the route found
in the routing table referenced by the rule.
<P>
<B>blackhole</B>

- the rule prescribes to silently drop the packet.
<P>
<B>unreachable</B>

- the rule prescribes to generate a 'Network is unreachable' error.
<P>
<B>prohibit</B>

- the rule prescribes to generate 'Communication is administratively
prohibited' error.
<P>
<B>nat</B>

- the rule prescribes to translate the source address
of the IP packet into some other value.

<P>
</DL>
<A NAME="lbBK">&nbsp;</A>
<H3>ip rule add - insert a new rule</H3>

<A NAME="lbBL">&nbsp;</A>
<H3>ip rule delete - delete a rule</H3>

<P>
<DL COMPACT>
<DT><B>type</B><I> TYPE </I><B>(default)</B>

<DD>
the type of this rule.  The list of valid types was given in the previous
subsection.
<P>
<DT><B>from</B><I> PREFIX</I>

<DD>
select the source prefix to match.
<P>
<DT><B>to</B><I> PREFIX</I>

<DD>
select the destination prefix to match.
<P>
<DT><B>iif</B><I> NAME</I>

<DD>
select the incoming device to match.  If the interface is loopback,
the rule only matches packets originating from this host.  This means
that you may create separate routing tables for forwarded and local
packets and, hence, completely segregate them.
<P>
<DT><B>tos</B><I> TOS</I>

<DD>
<DT><B>dsfield</B><I> TOS</I>

<DD>
select the TOS value to match.
<P>
<DT><B>fwmark</B><I> MARK</I>

<DD>
select the
<B>fwmark</B>

value to match.
<P>
<DT><B>priority</B><I> PREFERENCE</I>

<DD>
the priority of this rule.  Each rule should have an explicitly
set
<I>unique</I>

priority value.
The options preference and order are synonyms with priority.
<P>
<DT><B>table</B><I> TABLEID</I>

<DD>
the routing table identifier to lookup if the rule selector matches.
It is also possible to use lookup instead of table.
<P>
<DT><B>realms</B><I> FROM/TO</I>

<DD>
Realms to select if the rule matched and the routing table lookup
succeeded.  Realm
<I>TO</I>

is only used if the route did not select any realm.
<P>
<DT><B>nat</B><I> ADDRESS</I>

<DD>
The base of the IP address block to translate (for source addresses).
The
<I>ADDRESS</I>

may be either the start of the block of NAT addresses (selected by NAT
routes) or a local host address (or even zero).
In the last case the router does not translate the packets, but
masquerades them to this address.
Using map-to instead of nat means the same thing.
<P>
<B>Warning:</B>

Changes to the RPDB made with these commands do not become active
immediately.  It is assumed that after a script finishes a batch of
updates, it flushes the routing cache with
<B>ip route flush cache</B>.

<P>
</DL>
<A NAME="lbBM">&nbsp;</A>
<H3>ip rule flush - also dumps all the deleted rules.</H3>

This command has no arguments.
<P>
<A NAME="lbBN">&nbsp;</A>
<H3>ip rule show - list rules</H3>

This command has no arguments.
The options list or lst are synonyms with show.
<P>
<A NAME="lbBO">&nbsp;</A>
<H2>ip maddress - multicast addresses management</H2>

<P>
<B>maddress</B>

objects are multicast addresses.
<P>
<A NAME="lbBP">&nbsp;</A>
<H3>ip maddress show - list multicast addresses</H3>

<P>
<DL COMPACT>
<DT><B>dev</B><I> NAME </I><B>(default)</B>

<DD>
the device name.
<P>
</DL>
<A NAME="lbBQ">&nbsp;</A>
<H3>ip maddress add - add a multicast address</H3>

<A NAME="lbBR">&nbsp;</A>
<H3>ip maddress delete - delete a multicast address</H3>

these commands attach/detach a static link layer multicast address
to listen on the interface.
Note that it is impossible to join protocol multicast groups
statically.  This command only manages link layer addresses.
<P>
<DL COMPACT>
<DT><B>address</B><I> LLADDRESS </I><B>(default)</B>

<DD>
the link layer multicast address.
<P>
<DT><B>dev</B><I> NAME</I>

<DD>
the device to join/leave this multicast address.
<P>
</DL>
<A NAME="lbBS">&nbsp;</A>
<H2>ip mroute - multicast routing cache management</H2>

<B>mroute</B>

objects are multicast routing cache entries created by a user level
mrouting daemon (f.e.
<B>pimd</B>

or
<B>mrouted</B>

).
<P>
Due to the limitations of the current interface to the multicast routing
engine, it is impossible to change
<B>mroute</B>

objects administratively, so we may only display them.  This limitation
will be removed in the future.
<P>
<A NAME="lbBT">&nbsp;</A>
<H3>ip mroute show - list mroute cache entries</H3>

<P>
<DL COMPACT>
<DT><B>to</B><I> PREFIX </I><B>(default)</B>

<DD>
the prefix selecting the destination multicast addresses to list.
<P>
<DT><B>iif</B><I> NAME</I>

<DD>
the interface on which multicast packets are received.
<P>
<DT><B>from</B><I> PREFIX</I>

<DD>
the prefix selecting the IP source addresses of the multicast route.
<P>
</DL>
<A NAME="lbBU">&nbsp;</A>
<H2>ip tunnel - tunnel configuration</H2>

<B>tunnel</B>

objects are tunnels, encapsulating packets in IP packets and then
sending them over the IP infrastructure.
The encapulating (or outer) address family is specified by the
<B>-f</B>

option.  The default is IPv4.
<P>
<A NAME="lbBV">&nbsp;</A>
<H3>ip tunnel add - add a new tunnel</H3>

<A NAME="lbBW">&nbsp;</A>
<H3>ip tunnel change - change an existing tunnel</H3>

<A NAME="lbBX">&nbsp;</A>
<H3>ip tunnel delete - destroy a tunnel</H3>

<P>
<DL COMPACT>
<DT><B>name</B><I> NAME </I><B>(default)</B>

<DD>
select the tunnel device name.
<P>
<DT><B>mode</B><I> MODE</I>

<DD>
set the tunnel mode. Available modes depend on the encapsulating address family.
<BR>

Modes for IPv4 encapsulation available:
<B>ipip</B>, <B>sit</B>, <B>isatap</B> and <B>gre</B>.

<BR>

Modes for IPv6 encapsulation available:
<B>ip6ip6</B>, <B>ipip6</B> and <B>any</B>.

<P>
<DT><B>remote</B><I> ADDRESS</I>

<DD>
set the remote endpoint of the tunnel.
<P>
<DT><B>local</B><I> ADDRESS</I>

<DD>
set the fixed local address for tunneled packets.
It must be an address on another interface of this host.
<P>
<DT><B>ttl</B><I> N</I>

<DD>
set a fixed TTL
<I>N</I>

on tunneled packets.
<I>N</I>

is a number in the range 1--255. 0 is a special value
meaning that packets inherit the TTL value.
The default value for IPv4 tunnels is:
<B>inherit</B>.

The default value for IPv6 tunnels is:
<B>64</B>.

<P>
<P>
<DT><B>tos</B><I> T</I>

<DD>
<DT><B>dsfield</B><I> T</I>

<DD>
<DT><B>tclass</B><I> T</I>

<DD>
set a fixed TOS (or traffic class in IPv6)
<I>T</I>

on tunneled packets.
The default value is:
<B>inherit</B>.

<P>
<DT><B>dev</B><I> NAME</I>

<DD>
bind the tunnel to the device
<I>NAME</I>

so that tunneled packets will only be routed via this device and will
not be able to escape to another device when the route to endpoint
changes.
<P>
<DT><B>nopmtudisc</B>

<DD>
disable Path MTU Discovery on this tunnel.
It is enabled by default.  Note that a fixed ttl is incompatible
with this option: tunnelling with a fixed ttl always makes pmtu
discovery.
<P>
<DT><B>key</B><I> K</I>

<DD>
<DT><B>ikey</B><I> K</I>

<DD>
<DT><B>okey</B><I> K</I>

<DD>
(<B> only GRE tunnels </B>)

use keyed GRE with key
<I>K</I>. <I>K</I>

is either a number or an IP address-like dotted quad.
The
<B>key</B>

parameter sets the key to use in both directions.
The
<B>ikey</B> and <B>okey</B>

parameters set different keys for input and output.
<P>
<DT><B>csum</B>, <B>icsum</B>, <B>ocsum</B>

<DD>
(<B> only GRE tunnels </B>)

generate/require checksums for tunneled packets.
The
<B>ocsum</B>

flag calculates checksums for outgoing packets.
The
<B>icsum</B>

flag requires that all input packets have the correct
checksum.  The
<B>csum</B>

flag is equivalent to the combination
<B>icsum ocsum</B>.

<P>
<DT><B>seq</B>, <B>iseq</B>, <B>oseq</B>

<DD>
(<B> only GRE tunnels </B>)

serialize packets.
The
<B>oseq</B>

flag enables sequencing of outgoing packets.
The
<B>iseq</B>

flag requires that all input packets are serialized.
The
<B>seq</B>

flag is equivalent to the combination
<B>iseq oseq</B>.

<B>It isn't work. Don't use it.</B>

<P>
<DT><B>dscp inherit</B>

<DD>
(<B> only IPv6 tunnels </B>)

Inherit DS field between inner and outer header.
<P>
<DT><B>encaplim</B><I> ELIM</I>

<DD>
(<B> only IPv6 tunnels </B>)

set a fixed encapsulation limit.  Default is 4.
<P>
<DT><B>flowlabel</B><I> FLOWLABEL</I>

<DD>
(<B> only IPv6 tunnels </B>)

set a fixed flowlabel.
<P>
</DL>
<A NAME="lbBY">&nbsp;</A>
<H3>ip tunnel prl - potential router list (ISATAP only)</H3>

<P>
<DL COMPACT>
<DT><B>dev</B><I> NAME</I>

<DD>
mandatory device name.
<P>
<DT><B>prl-default</B><I> ADDR</I>

<DD>
<DT><B>prl-nodefault</B><I> ADDR</I>

<DD>
<DT><B>prl-delete</B><I> ADDR</I>

<DD>
Add or delete <B>ADDR</B>

as a potential router or default router.
<P>
</DL>
<A NAME="lbBZ">&nbsp;</A>
<H3>ip tunnel show - list tunnels</H3>

This command has no arguments.
<P>
<A NAME="lbCA">&nbsp;</A>
<H2>ip monitor and rtmon - state monitoring</H2>

<P>
The
<B>ip</B>

utility can monitor the state of devices, addresses
and routes continuously.  This option has a slightly different format.
Namely, the
<B>monitor</B>

command is the first in the command line and then the object list follows:
<P>
<B>ip monitor</B> [ <B>all</B> |

<I>LISTofOBJECTS</I> ]

<P>
<I>OBJECT-LIST</I>

is the list of object types that we want to monitor.
It may contain
<B>link</B>, <B>address</B> and <B>route</B>.

If no
<B>file</B>

argument is given,
<B>ip</B>

opens RTNETLINK, listens on it and dumps state changes in the format
described in previous sections.
<P>

If a file name is given, it does not listen on RTNETLINK,
but opens the file containing RTNETLINK messages saved in binary format
and dumps them.  Such a history file can be generated with the
<B>rtmon</B>

utility.  This utility has a command line syntax similar to
<B>ip monitor</B>.

Ideally,
<B>rtmon</B>

should be started before the first network configuration command
is issued. F.e. if you insert:
<P>

rtmon file /var/log/rtmon.log

<P>
in a startup script, you will be able to view the full history
later.
<P>

Certainly, it is possible to start
<B>rtmon</B>

at any time.
It prepends the history with the state snapshot dumped at the moment
of starting.
<P>
<A NAME="lbCB">&nbsp;</A>
<H2>ip xfrm - setting xfrm</H2>

xfrm is an IP framework, which can transform format of the datagrams,
<BR>

i.e. encrypt the packets with some algorithm. xfrm policy and xfrm state
are associated through templates
<I>TMPL_LIST</I>.

This framework is used as a part of IPsec protocol.
<P>
<A NAME="lbCC">&nbsp;</A>
<H3>ip xfrm state add - add new state into xfrm</H3>

<P>
<A NAME="lbCD">&nbsp;</A>
<H3>ip xfrm state update - update existing xfrm state</H3>

<P>
<A NAME="lbCE">&nbsp;</A>
<H3>ip xfrm state allocspi - allocate SPI value</H3>

<P>
<DL COMPACT>
<DT><I>MODE</I>

<DD>
is set as default to
<B>transport</B>,

but it could be set to
<B>tunnel</B>,<B>ro</B> or <B>beet</B>.

<P>
<DT><I>FLAG-LIST</I>

<DD>
contains one or more flags.
<P>
<DT><I>FLAG</I>

<DD>
could be set to
<B>noecn</B>, <B>decap-dscp</B> or <B>wildrecv</B>.

<P>
<DT><I>ENCAP</I>

<DD>
encapsulation is set to encapsulation type
<I>ENCAP-TYPE</I>, source port <I>SPORT</I>, destination port <I>DPORT</I> and <I>OADDR</I>.

<P>
<DT><I>ENCAP-TYPE</I>

<DD>
could be set to
<B>espinudp</B> or <B>espinudp-nonike</B>.

<P>
<DT><I>ALGO-LIST</I>

<DD>
contains one or more algorithms
<I>ALGO</I>

which depend on the type of algorithm set by
<I>ALGO_TYPE</I>.

It can be used these algoritms
<B>enc</B>, <B>auth</B> or <B>comp</B>.

<P>
</DL>
<A NAME="lbCF">&nbsp;</A>
<H3>ip xfrm policy add - add a new policy</H3>

<P>
<A NAME="lbCG">&nbsp;</A>
<H3>ip xfrm policy update - update an existing policy</H3>

<P>
<A NAME="lbCH">&nbsp;</A>
<H3>ip xfrm policy delete - delete existing policy</H3>

<P>
<A NAME="lbCI">&nbsp;</A>
<H3>ip xfrm policy get - get existing policy</H3>

<P>
<A NAME="lbCJ">&nbsp;</A>
<H3>ip xfrm policy deleteall - delete all existing xfrm policy</H3>

<P>
<A NAME="lbCK">&nbsp;</A>
<H3>ip xfrm policy list - print out the list of xfrm policy</H3>

<P>
<A NAME="lbCL">&nbsp;</A>
<H3>ip xfrm policy flush - flush policies</H3>

It can be flush
<B>all</B>

policies or only those specified with
<B>ptype</B>.

<P>
<DL COMPACT>
<DT><B>dir</B><I> DIR </I>

<DD>
directory could be one of these:
<B>inp,</B> out <B>or</B> fwd.

<P>
<DT><I>SELECTOR</I>

<DD>
selects for which addresses will be set up the policy. The selector
is defined by source and destination address.
<P>
<DT><I>UPSPEC</I>

<DD>
is defined by source port
<B>sport</B>, 

destination port
<B>dport</B>, <B>type</B>

as number and
<B>code</B>

also number.
<P>
<DT><B>dev</B><I> DEV </I>

<DD>
specify network device.
<P>
<DT><B>index</B><I> INDEX </I>

<DD>
the number of indexed policy.
<P>
<DT><B>ptype</B><I> PTYPE </I>

<DD>
type is set as default on
<B>main</B>,

could be switch on
<B>sub</B>.

<P>
<DT><B>action</B><I> ACTION </I>

<DD>
is set as default on
<B>allow.</B>

It could be switch on
<B>block.</B>

<P>
<DT><B>priority</B><I> PRIORITY </I>

<DD>
priority is a number. Default priority is set on zero.
<P>
<DT><I>LIMIT-LIST</I>

<DD>
limits are set in seconds, bytes or numbers of packets.
<P>
<DT><I>TMPL-LIST</I>

<DD>
template list is based on
<I>ID</I>,

<B>mode</B>, <B>reqid</B> and <B>level</B>. 

<P>
<DT><I>ID</I>

<DD>
is specified by source address, destination address,
<I>proto</I>

and value of
<I>spi</I>.

<P>
<DT><I>XFRM_PROTO</I>

<DD>
values:
<B>esp</B>, <B>ah</B>, <B>comp</B>, <B>route2</B> or <B>hao</B>.

<P>
<DT><I>MODE</I>

<DD>
is set as default on
<B>transport</B>,

but it could be set on
<B>tunnel</B> or <B>beet</B>.

<P>
<DT><I>LEVEL</I>

<DD>
is set as default on
<B>required</B>

and the other choice is
<B>use</B>.

<P>
<DT><I>UPSPEC</I>

<DD>
is specified by
<B>sport</B>, 

<B>dport</B>, <B>type</B>

and
<B>code</B>

(NUMBER).
<P>
</DL>
<A NAME="lbCM">&nbsp;</A>
<H3>ip xfrm monitor - is used for listing all objects or defined group of them.</H3>

The
<B>xfrm monitor</B>

can monitor the policies for all objects or defined group of them.
<P>
<A NAME="lbCN">&nbsp;</A>
<H2>HISTORY</H2>

<B>ip</B>

was written by Alexey N. Kuznetsov and added in Linux 2.2.
<A NAME="lbCO">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="/manpages/index.html?8+tc">tc</A></B>(8)

<BR>

IP Command reference <B>ip-cref.ps</B>

<BR>

IP tunnels <B>ip-cref.ps</B>

<BR>

User documentation at <B><A HREF="http://lartc.org/">http://lartc.org/</A></B>, but please direct bugreports and patches to: <B>&lt;<A HREF="mailto:netdev@vger.kernel.org">netdev@vger.kernel.org</A>&gt;</B>

<P>
<A NAME="lbCP">&nbsp;</A>
<H2>AUTHOR</H2>

Original Manpage  by Michail Litvak &lt;<A HREF="mailto:mci@owl.openwall.com">mci@owl.openwall.com</A>&gt;
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">OPTIONS</A><DD>
<DT><A HREF="#lbAE">IP - COMMAND SYNTAX</A><DD>
<DL>
<DT><A HREF="#lbAF"><I>OBJECT</I>

</A><DD>
<DT><A HREF="#lbAG"><I>COMMAND</I>

</A><DD>
</DL>
<DT><A HREF="#lbAH">ip link - network device configuration</A><DD>
<DL>
<DT><A HREF="#lbAI">ip link set - change device attributes</A><DD>
<DT><A HREF="#lbAJ">ip link show - display device attributes</A><DD>
</DL>
<DT><A HREF="#lbAK">ip address - protocol address management.</A><DD>
<DL>
<DT><A HREF="#lbAL">ip address add - add new protocol address.</A><DD>
<DT><A HREF="#lbAM">ip address delete - delete protocol address</A><DD>
<DT><A HREF="#lbAN">ip address show - look at protocol addresses</A><DD>
<DT><A HREF="#lbAO">ip address flush - flush protocol addresses</A><DD>
</DL>
<DT><A HREF="#lbAP">ip addrlabel - protocol address label management.</A><DD>
<DL>
<DT><A HREF="#lbAQ">ip addrlabel add - add an address label</A><DD>
<DT><A HREF="#lbAR">ip addrlabel del - delete an address label</A><DD>
<DT><A HREF="#lbAS">ip addrlabel list - list address labels</A><DD>
<DT><A HREF="#lbAT">ip addrlabel flush - flush address labels</A><DD>
</DL>
<DT><A HREF="#lbAU">ip neighbour - neighbour/arp tables management.</A><DD>
<DL>
<DT><A HREF="#lbAV">ip neighbour add - add a new neighbour entry</A><DD>
<DT><A HREF="#lbAW">ip neighbour change - change an existing entry</A><DD>
<DT><A HREF="#lbAX">ip neighbour replace - add a new entry or change an existing one</A><DD>
<DT><A HREF="#lbAY">ip neighbour delete - delete a neighbour entry</A><DD>
<DT><A HREF="#lbAZ">ip neighbour show - list neighbour entries</A><DD>
<DT><A HREF="#lbBA">ip neighbour flush - flush neighbour entries</A><DD>
</DL>
<DT><A HREF="#lbBB">ip route - routing table management</A><DD>
<DL>
<DT><A HREF="#lbBC">ip route add - add new route</A><DD>
<DT><A HREF="#lbBD">ip route change - change route</A><DD>
<DT><A HREF="#lbBE">ip route replace - change or add new one</A><DD>
<DT><A HREF="#lbBF">ip route delete - delete route</A><DD>
<DT><A HREF="#lbBG">ip route show - list routes</A><DD>
<DT><A HREF="#lbBH">ip route flush - flush routing tables</A><DD>
<DT><A HREF="#lbBI">ip route get - get a single route</A><DD>
</DL>
<DT><A HREF="#lbBJ">ip rule - routing policy database management</A><DD>
<DL>
<DT><A HREF="#lbBK">ip rule add - insert a new rule</A><DD>
<DT><A HREF="#lbBL">ip rule delete - delete a rule</A><DD>
<DT><A HREF="#lbBM">ip rule flush - also dumps all the deleted rules.</A><DD>
<DT><A HREF="#lbBN">ip rule show - list rules</A><DD>
</DL>
<DT><A HREF="#lbBO">ip maddress - multicast addresses management</A><DD>
<DL>
<DT><A HREF="#lbBP">ip maddress show - list multicast addresses</A><DD>
<DT><A HREF="#lbBQ">ip maddress add - add a multicast address</A><DD>
<DT><A HREF="#lbBR">ip maddress delete - delete a multicast address</A><DD>
</DL>
<DT><A HREF="#lbBS">ip mroute - multicast routing cache management</A><DD>
<DL>
<DT><A HREF="#lbBT">ip mroute show - list mroute cache entries</A><DD>
</DL>
<DT><A HREF="#lbBU">ip tunnel - tunnel configuration</A><DD>
<DL>
<DT><A HREF="#lbBV">ip tunnel add - add a new tunnel</A><DD>
<DT><A HREF="#lbBW">ip tunnel change - change an existing tunnel</A><DD>
<DT><A HREF="#lbBX">ip tunnel delete - destroy a tunnel</A><DD>
<DT><A HREF="#lbBY">ip tunnel prl - potential router list (ISATAP only)</A><DD>
<DT><A HREF="#lbBZ">ip tunnel show - list tunnels</A><DD>
</DL>
<DT><A HREF="#lbCA">ip monitor and rtmon - state monitoring</A><DD>
<DT><A HREF="#lbCB">ip xfrm - setting xfrm</A><DD>
<DL>
<DT><A HREF="#lbCC">ip xfrm state add - add new state into xfrm</A><DD>
<DT><A HREF="#lbCD">ip xfrm state update - update existing xfrm state</A><DD>
<DT><A HREF="#lbCE">ip xfrm state allocspi - allocate SPI value</A><DD>
<DT><A HREF="#lbCF">ip xfrm policy add - add a new policy</A><DD>
<DT><A HREF="#lbCG">ip xfrm policy update - update an existing policy</A><DD>
<DT><A HREF="#lbCH">ip xfrm policy delete - delete existing policy</A><DD>
<DT><A HREF="#lbCI">ip xfrm policy get - get existing policy</A><DD>
<DT><A HREF="#lbCJ">ip xfrm policy deleteall - delete all existing xfrm policy</A><DD>
<DT><A HREF="#lbCK">ip xfrm policy list - print out the list of xfrm policy</A><DD>
<DT><A HREF="#lbCL">ip xfrm policy flush - flush policies</A><DD>
<DT><A HREF="#lbCM">ip xfrm monitor - is used for listing all objects or defined group of them.</A><DD>
</DL>
<DT><A HREF="#lbCN">HISTORY</A><DD>
<DT><A HREF="#lbCO">SEE ALSO</A><DD>
<DT><A HREF="#lbCP">AUTHOR</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:34:26 GMT, December 24, 2015
</div></body>
</HTML>
