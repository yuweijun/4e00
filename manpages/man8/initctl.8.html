<!DOCTYPE html>

<HTML><head><TITLE>Manpage of initctl</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>initctl</H1>
Section: Maintenance Commands (8)<BR>Updated: 2010-02-04<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>


<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

initctl - init daemon control tool

<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>initctl</B>

[<I>OPTION</I>]...

<I>COMMAND</I>

[<I>OPTION</I>]...

<I>ARG</I>...


<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<B>initctl</B>

allows a system administrator to communicate and interact with the Upstart
<B><A HREF="/manpages/index.html?8+init">init</A></B>(8)

daemon.
<P>
When run as
<B>initctl</B>,

the first non-option argument is the
<I>COMMAND</I>.

Global options may be specified before or after the command.
<P>
You may also create symbolic or hard links to
<B>initctl</B>

named after commands.  When invoked through these links the tool will
behave only as that command, with global and command-specific options
intermixed.  The default installation supplies such links
for the
<B>start</B>, <B>stop</B>, <B>restart</B>, <B>reload</B> and <B>status</B>

commands.

<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

<DL COMPACT>
<DT><B>--system</B>

<DD>
Communication with the
<B><A HREF="/manpages/index.html?8+init">init</A></B>(8)

daemon is normally performed over a private socket connection.  This has
the advantage of speed and robustness, when issuing commands to start or
stop services or even reboot the system you do not want to be affected by
changes to the D-Bus system bus daemon.
<P>
The disadvantage to using the private socket however is security,
<B><A HREF="/manpages/index.html?8+init">init</A></B>(8)

only permits the root user to communicate over this socket which means
that read-only commands such as
<B>status</B> and <B>list</B>

cannot be made by other users.
<P>
The
<B>--system</B>

option instructs
<B>initctl</B>

to communicate via the D-Bus system bus rather than over the private
socket.
<P>
This is only possible if the system bus daemon is running and if
<B><A HREF="/manpages/index.html?8+init">init</A></B>(8)

is connected to it.  The advantage is that the default security configuration
allows non-root users to use read-only commands.

<DT><B>--dest</B>

<DD>
Specifies the well-known name of the
<B><A HREF="/manpages/index.html?8+init">init</A></B>(8)

daemon when using
<B>--system</B>.

<P>
There is normally no need to use this option since the
<B><A HREF="/manpages/index.html?8+init">init</A></B>(8)

daemon uses the default
<B>com.ubuntu.Upstart</B>

name.  However it may be useful for debugging.

<DT><B>--no-wait</B>

<DD>
Applies to the
<B>start</B>, <B>stop</B>, <B>restart</B> and <B>emit</B>

commands.
<P>
Normally
<B>initctl</B>

will wait for the command to finish before returning.
<P>
For the
<B>start</B>, <B>stop</B> and <B>restart</B>

commands, finishing means that the named job is running (or has finished
for tasks) or has been fully stopped.
<P>
For the
<B>emit</B>

command, finishing means that all of the jobs affected by the event
are running (or have finished for tasks) or have been fully stopped.
<P>
This option instead causes these commands to only wait for the goal
change or event to be queued.

<DT><B>--quiet</B>

<DD>
Reduces output of all commands to errors only.

</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>COMMANDS</H2>

<DL COMPACT>
<DT><B>start</B>

<DD>
<I>JOB</I>

[<I>KEY=VALUE</I>]...

<P>
Requests that a new instance of the named
<I>JOB</I>

be started, outputting the status of the job to standard output when the
command completes.
<P>
See
<B>status</B>

for a description of the output format.
<P>
The optional
<I>KEY=VALUE</I>

arguments specify environment variables to be passed to the starting job,
and placed in its environment.  They also serve to specify which instance
of multi-instance jobs should be started.
<P>
Most jobs only permit a single instance; those that use the
<B>instance</B>

stanza in their configuration define a string expanded from environment
variables to name the instance.  As many unique instances may be started
as unique names may be generated by the stanza.  Thus the environment
variables also serve to select which instance of
<I>JOB</I>

is to be acted upon.
<P>
If the job is already running,
<B>start</B>

will return an error.

<DT><B>stop</B>

<DD>
<I>JOB</I>

[<I>KEY=VALUE</I>]...

<P>
Requests that an instance of the named
<I>JOB</I>

be stopped, outputting the status of the job to standard output when the
command completes.
<P>
See
<B>status</B>

for a description of the output format and
<B>start</B>

for a discussion on instances.

<DT><B>restart</B>

<DD>
<I>JOB</I>

[<I>KEY=VALUE</I>]...

<P>
Requests that an instance of the named
<I>JOB</I>

be restarted, outputting the status of the job to standard output when the
command completes.
<P>
See
<B>status</B>

for a description of the output format and
<B>start</B>

for a discussion on instances.
<P>
Note that this command can only be used when there is an instance of
<I>JOB</I>,

if there is none then it returns an error instead of starting a new one.

<DT><B>reload</B>

<DD>
<I>JOB</I>

[<I>KEY=VALUE</I>]...

<P>
Sends the
<I>SIGHUP</I>

signal to running process of the named
<I>JOB</I>

instance.
<P>
See
<B>start</B>

for a discussion on instances.

<DT><B>status</B>

<DD>
<I>JOB</I>

[<I>KEY=VALUE</I>]...

<P>
Requests the status an instance of the named
<I>JOB</I>,

outputting to standard output.
<P>
See
<B>start</B>

for a discusson on instances.
<P>
For a single-instance job a line like the following is output:
<P>
<PRE>
  job start/running, process 1234
</PRE>

<P>
The job name is given first followed by the current goal and state of
the selected instance.  The goal is either
<I>start</I> or <I>stop</I>,

the status may be one of
<I>waiting</I>, <I>starting</I>, <I>pre-start</I>, <I>spawned</I>, <I>post-start</I>, 

<I>running</I>, <I>pre-stop</I>, <I>stopping</I>, <I>killed</I> or <I>post-stop</I>.

<P>
If the job has an active process, the process id will follow on the same
line.  If the state is
<I>pre-start</I> or <I>post-stop</I>

this will be the process id of the equivalent process, otherwise it will
be the process id of the main process.
<P>
<PRE>
  job start/pre-start, process 902
</PRE>

<P>
The
<I>post-start</I> and <I>pre-stop</I>

states may have multiple processes attached, the extra processes will follow
on consecutive lines indented by a tab:
<P>
<PRE>
  job start/post-start, process 1234
          post-start process 1357
</PRE>

<P>
If there is no main process, they may follow on the same line but will be
prefixed to indicate that it is not the main process id being given:
<P>
<PRE>
  job start/post-start, (post-start) process 1357
</PRE>

<P>
Jobs that permit multiple instances have names for each instance, the
output is otherwise identical to the above except that the instance
name follows the job name in parentheses:
<P>
<PRE>
  job (tty1) start/post-start, process 1234
          post-start process 1357
</PRE>


<DT><B>list</B>

<DD>
<P>
Requests a list of the known jobs and instances, outputs the status of
each to standard output.
<P>
See
<B>status</B>

for a description of the output format and
<B>start</B>

for a discussion on instances.
<P>
No particular order is used for the output, and there is no difference in
the output (other than the instance name appearing in parentheses) between
single-instance and multiple-instance jobs.

<DT><B>emit</B>

<DD>
<I>EVENT</I>

[<I>KEY=VALUE</I>]...

<P>
Requests that the named
<I>EVENT</I>

be emitted, potentially causing jobs to be started and stopped depending
on their use of the
<B>start on</B> and <B>stop on</B>

stanzas in their configuration.
<P>
The optional
<I>KEY=VALUE</I>

arguments specify environment variables to be included with the event and
thus exported into the environment of any jobs started and stopped by
the event.
<P>
The environment may also serve to specify which instance of multi-instance
jobs should be started or stopped.  See
<B>start</B>

for a discussion on instances.
<P>
There is no limitation on the event names that may be emitted with this
command, you are free to invent new events and use them in your job
configurations.
<P>
The most well known event used by the default Upstart configuration is
the
<B><A HREF="/manpages/index.html?7+runlevel">runlevel</A></B>(7)

event.  This is normally emitted by the
<B><A HREF="/manpages/index.html?8+telinit">telinit</A></B>(8)

and
<B><A HREF="/manpages/index.html?8+shutdown">shutdown</A></B>(8)

tools.

<DT><B>reload-configuration</B>

<DD>
<P>
Requests that the
<B><A HREF="/manpages/index.html?8+init">init</A></B>(8)

daemon reloads its configuration.
<P>
This command is generally not necessary since
<B><A HREF="/manpages/index.html?8+init">init</A></B>(8)

watches its configuration directories with
<B><A HREF="/manpages/index.html?7+inotify">inotify</A></B>(7)

and automatically reloads in cases of changes.
<P>
No jobs will be started by this command.
<DT><B>version</B>

<DD>
<P>
Requests and outputs the version of the running init daemon.

<DT><B>log-priority</B>

<DD>
[<I>PRIORITY</I>]

<P>
When called with a
<I>PRIORITY</I>

argument, it requests that the
<B><A HREF="/manpages/index.html?8+init">init</A></B>(8)

daemon log all messages with that priority or greater.  This may be used
to both increase and decrease the volume of logged messages.
<P>
<I>PRIORITY</I>

may be one of
<I>debug</I>, <I>info</I>, <I>message</I>, <I>warn</I>, <I>error</I> or <I>fatal</I>.

<P>
When called without argument, it requests the current minimum message
priority that the
<B><A HREF="/manpages/index.html?8+init">init</A></B>(8)

daemon will log and ouputs to standard output.
<P>


<DT><B>usage</B>

<DD>
<I>JOB</I>

[<I>KEY=VALUE</I>]...

<P>
Show usage information an instance of the named
<I>JOB</I>

defined with
<B>usage</B>

stanza.
<P>
For job with
<B>usage</B>

stanza a line like the following is output, see
<B><A HREF="/manpages/index.html?5+init">init</A></B>(5)

:
<P>
<PRE>
  Usage: tty DEV=ttyX - where X is console id
</PRE>


</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>AUTHOR</H2>

Written by Scott James Remnant
&lt;<B><A HREF="mailto:scott@netsplit.com">scott@netsplit.com</A></B>&gt;


<A NAME="lbAH">&nbsp;</A>
<H2>REPORTING BUGS</H2>

Report bugs at
&lt;<B><A HREF="https://launchpad.net/upstart/+bugs">https://launchpad.net/upstart/+bugs</A></B>&gt;


<A NAME="lbAI">&nbsp;</A>
<H2>COPYRIGHT</H2>

Copyright &#169; 2010 Canonical Ltd.
<BR>

This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

<A NAME="lbAJ">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="/manpages/index.html?8+init">init</A></B>(8)

<B><A HREF="/manpages/index.html?8+telinit">telinit</A></B>(8)

<B><A HREF="/manpages/index.html?8+shutdown">shutdown</A></B>(8)

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPTIONS</A><DD>
<DT><A HREF="#lbAF">COMMANDS</A><DD>
<DT><A HREF="#lbAG">AUTHOR</A><DD>
<DT><A HREF="#lbAH">REPORTING BUGS</A><DD>
<DT><A HREF="#lbAI">COPYRIGHT</A><DD>
<DT><A HREF="#lbAJ">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:34:26 GMT, December 24, 2015
</div></body>
</HTML>
