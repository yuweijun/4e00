<!DOCTYPE html>

<HTML><head><TITLE>Manpage of SULOGIN</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"documentation"}</div>
 </div>
 </header>
 <div class="page-content"><div class="wrap">
<H1>SULOGIN</H1>
Section: Linux System Administrator's Manual (8)<BR>Updated: 17 Jan 2006<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

sulogin - Single-user login
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>sulogin</B>

[ <B>-e</B> ]
[ <B>-p</B> ]
[ <B>-t</B> <I>SECONDS</I> ]
[ <I>TTY</I> ]
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<I>sulogin</I>

can be invoked by <B><A HREF="/manpages/index.html?8+init">init</A>(8)</B> when the system goes into single user mode.
(This is done through an entry in <I><A HREF="/manpages/index.html?5+inittab">inittab</A>(5)</I>.)
<B>Init</B> also
tries to execute <I>sulogin</I> when
the boot loader (e.g., <B><A HREF="/manpages/index.html?8+grub">grub</A></B>(8))
passes it the <B>-b</B> option.
<P>

The user is prompted
<DL COMPACT>
<DT><DD>
Give root password for system maintenance
<BR>

(or type Control-D for normal startup):
</DL>
<P>

<I>sulogin</I> will be connected to the current terminal, or to the
optional device that can be specified on the command line
(typically <B>/dev/console</B>).
<P>

If the <B>-t</B> option is used then the program only waits
the given number of seconds for user input.
<P>

If the <B>-p</B> option is used then the single-user shell is invoked
with a <I>dash</I> as the first character in <I>argv[0]</I>.
This causes the shell process to behave as a login shell.
The default is <I>not</I> to do this,
so that the shell will <I>not</I> read <B>/etc/profile</B>
or <B>$HOME/.profile</B> at startup.
<P>

After the user exits the single-user shell,
or presses control-D at the prompt,
the system will (continue to) boot to the default runlevel.
<A NAME="lbAE">&nbsp;</A>
<H2>ENVIRONMENT VARIABLES</H2>

<I>sulogin</I> looks for the environment variable <B>SUSHELL</B> or
<B>sushell</B> to determine what shell to start. If the environment variable
is not set, it will try to execute root's shell from /etc/passwd. If that
fails it will fall back to <B>/bin/sh</B>.
<P>

This is very valuable together with the <B>-b</B> option to init. To boot
the system into single user mode, with the root file system mounted read/write,
using a special &quot;fail safe&quot; shell that is statically linked (this example
is valid for the LILO bootprompt)
<P>

boot: linux -b rw sushell=/sbin/sash
<A NAME="lbAF">&nbsp;</A>
<H2>FALLBACK METHODS</H2>

<I>sulogin</I> checks the root password using the standard method (getpwnam)
first.
Then, if the <B>-e</B> option was specified,
<I>sulogin</I> examines these files directly to find the root password:
<P>

/etc/passwd,
<BR>

/etc/shadow (if present)
<P>

If they are damaged or nonexistent, sulogin will start a root shell
without asking for a password. Only use the <B>-e</B> option if you
are sure the console is physically protected against unauthorized access.
<A NAME="lbAG">&nbsp;</A>
<H2>AUTHOR</H2>

Miquel van Smoorenburg &lt;<A HREF="mailto:miquels@cistron.nl">miquels@cistron.nl</A>&gt;
<A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>

<A HREF="/manpages/index.html?8+init">init</A>(8), <A HREF="http://localhost/cgi-bin/man/man2html?5+inittab">inittab</A>(5).
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">ENVIRONMENT VARIABLES</A><DD>
<DT><A HREF="#lbAF">FALLBACK METHODS</A><DD>
<DT><A HREF="#lbAG">AUTHOR</A><DD>
<DT><A HREF="#lbAH">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:34:30 GMT, December 24, 2015
</div></div>
</body>
</HTML>
