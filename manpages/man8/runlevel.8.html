<!DOCTYPE html>

<HTML><head><TITLE>Manpage of runlevel</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"documentation"}</div>
 </div>
 </header>
 <div class="page-content"><div class="wrap">
<H1>runlevel</H1>
Section: Maintenance Commands (8)<BR>Updated: 2009-07-09<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>


<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

runlevel - output previous and current runlevel

<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>runlevel</B>

[<I>OPTION</I>]...

[<I>UTMP</I>]


<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<B>runlevel</B>

reads the system
<I>UTMP</I>

file, which defaults to
<I>/var/run/utmp</I>

when no alternate filename is given, to locate the most recent runlevel
record.
<P>
The previous and current runlevel from that record are output separated
by a single space.  If there is no previous runlevel in the record, the letter
<I>N</I>

will be substituted.
<P>
If no runlevel record can be found,
<B>runlevel</B>

outputs the word
<B>unknown</B>

and exits with an error.
<P>
During system boot, the environment variables
<B>RUNLEVEL</B>

and
<B>PREVLEVEL</B>

will be set by the
<B><A HREF="/manpages/index.html?8+init">init</A></B>(8)

daemon, these come from the
<B><A HREF="/manpages/index.html?7+runlevel">runlevel</A></B>(7)

event generated by
<B><A HREF="/manpages/index.html?8+telinit">telinit</A></B>(8)

or
<B><A HREF="/manpages/index.html?8+shutdown">shutdown</A></B>(8).

<P>
When these environment variables are set,
<B>runlevel</B>

will output the values from these instead.  Thus
<B>runlevel</B>

can be used in
<I>rc</I>

scripts as a replacement for the System-V
<B><A HREF="/manpages/index.html?1+who">who</A>(1)</B>

<B>-r</B>

command.

<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

<DL COMPACT>
<DT><B>--quiet</B>

<DD>
Does not output the current and previous runlevel, nor does it output
<B>unknown</B>

in the case of error (but it will exit with an error code).
<P>
This may be used to test for the presence of a runlevel entry, or to check
for errors reading from the file.

</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>EXIT STATUS</H2>

<B>runlevel</B>

will exit with status
<I>0</I>

if a
<I>UTMP</I>

record was found, otherwise it will exit with status
<I>1</I>.


<A NAME="lbAG">&nbsp;</A>
<H2>ENVIRONMENT</H2>

<DL COMPACT>
<DT><B>RUNLEVEL</B>

<DD>
<B>runlevel</B>

will read the current runlevel from this environment variable if set in
preference to reading from
<I>/var/run/utmp</I>


<DT><B>PREVLEVEL</B>

<DD>
<B>runlevel</B>

will read the previous runlevel from this environment variable if
<B>RUNLEVEL</B>

<BR>&nbsp;was&nbsp;given,&nbsp;in&nbsp;preference&nbsp;to&nbsp;reading&nbsp;from
<I>/var/run/utmp</I>


</DL>
<A NAME="lbAH">&nbsp;</A>
<H2>FILES</H2>

<DL COMPACT>
<DT><I>/var/run/utmp</I>

<DD>
Where the current and previous runlevels will be read from.

</DL>
<A NAME="lbAI">&nbsp;</A>
<H2>NOTES</H2>

The Upstart
<B><A HREF="/manpages/index.html?8+init">init</A></B>(8)

daemon does not keep track of runlevels itself, instead they are implemented
entirely by its userspace tools.
<P>
A change of runlevel is signalled by the
<B><A HREF="/manpages/index.html?7+runlevel">runlevel</A></B>(7)

event, generated by either the
<B><A HREF="/manpages/index.html?8+telinit">telinit</A></B>(8)

or
<B><A HREF="/manpages/index.html?8+shutdown">shutdown</A></B>(8)

tools.  This event includes the new runlevel in the
<B>RUNLEVEL</B>

environment variable, as well as the previous runlevel (obtained from
their own environment or from
<I>/var/run/utmp</I>)

in the
<B>PREVLEVEL</B>

variable.
<P>
As well as generating the event, both tools write the new
runlevel back to
<I>/var/run/utmp</I>

and append a new entry to
<I>/var/log/wtmp.</I>


<A NAME="lbAJ">&nbsp;</A>
<H2>AUTHOR</H2>

Written by Scott James Remnant
&lt;<B><A HREF="mailto:scott@netsplit.com">scott@netsplit.com</A></B>&gt;


<A NAME="lbAK">&nbsp;</A>
<H2>REPORTING BUGS</H2>

Report bugs at
&lt;<B><A HREF="https://launchpad.net/upstart/+bugs">https://launchpad.net/upstart/+bugs</A></B>&gt;


<A NAME="lbAL">&nbsp;</A>
<H2>COPYRIGHT</H2>

Copyright &#169; 2009 Canonical Ltd.
<BR>

This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

<A NAME="lbAM">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="/manpages/index.html?7+runlevel">runlevel</A></B>(7)

<B><A HREF="/manpages/index.html?8+init">init</A></B>(8)

<B><A HREF="/manpages/index.html?8+telinit">telinit</A></B>(8)

<B><A HREF="/manpages/index.html?8+shutdown">shutdown</A></B>(8)

<B><A HREF="/manpages/index.html?1+who">who</A></B>(1)

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPTIONS</A><DD>
<DT><A HREF="#lbAF">EXIT STATUS</A><DD>
<DT><A HREF="#lbAG">ENVIRONMENT</A><DD>
<DT><A HREF="#lbAH">FILES</A><DD>
<DT><A HREF="#lbAI">NOTES</A><DD>
<DT><A HREF="#lbAJ">AUTHOR</A><DD>
<DT><A HREF="#lbAK">REPORTING BUGS</A><DD>
<DT><A HREF="#lbAL">COPYRIGHT</A><DD>
<DT><A HREF="#lbAM">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:34:29 GMT, December 24, 2015
</div></div>
</body>
</HTML>
