<!DOCTYPE html>

<HTML><head><TITLE>Manpage of fixfiles</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>fixfiles</H1>
Section:  (8)<BR>Updated: 2002031409<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

fixfiles - fix file SELinux security contexts.
<P>
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>
<B>fixfiles </B>

<I>[-F] [-l logfile ] { check | restore|[-f] relabel | verify } [[dir/file] ... ] </I>

<P>
<B>fixfiles </B>

<I>[-F] [ -R rpmpackagename[,rpmpackagename...] ] [-l logfile ] { check | restore | verify }</I>

<P>
<B>fixfiles </B>

<I>[ -C PREVIOUS_FILECONTEXT ] [-l logfile ] { check | restore | verify }</I>

<P>
<B>fixfiles </B>

<I>onboot</I>

<P>
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

This manual page describes the
<B>fixfiles</B>

script.

This script is primarily used to correct the security context
database (extended attributes) on filesystems.  

It can also be run at any time to relabel when adding support for
new policy, or  just check whether the file contexts are all
as you expect.  By default it will relabel all mounted ext2, ext3, xfs and 
jfs file systems as long as they do not have a security context mount 
option.  You can use the -R flag to use rpmpackages as an alternative.

<B>fixfiles onboot </B>

will setup the machine to relabel on the next reboot.
<P>
<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

<DL COMPACT>
<DT><B>-l logfile</B>

<DD>
Save the output to the specified logfile
<DT><B>-F</B>

<DD>
Force  reset  of  context to match file_context for customizable files
<P>
<DT><B>-f</B>

<DD>
Clear /tmp directory with out prompt for removal.
<P>
<DT><B>-R rpmpackagename[,rpmpackagename...]</B>

<DD>
Use the rpm database to discover all files within the specified packages and restore the file contexts.  (-a will get all files in the RPM database).
<DT><B>-C PREVIOUS_FILECONTEXT</B>

<DD>
Run a diff on  the PREVIOUS_FILECONTEXT file to the currently installed one, and restore the context of all affected files.
<P>
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>ARGUMENTS</H2>

One of:
<DL COMPACT>
<DT><B>check</B>

<DD>
print any incorrect file context labels, showing old and new context, but do not change them.
<DT><B>restore</B>

<DD>
change any incorrect file context labels.
<DT><B>relabel</B>

<DD>
Prompt for removal of contents of /tmp directory and then change any incorrect file context labels to match the install file_contexts file.
<DT><B>verify</B>

<DD>
List out files with incorrect file context labels, but do not change them.
<DT><B>[[dir/file] ... ] </B>

<DD>
List of files or directories trees that you wish to check file context on.
<P>
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>AUTHOR</H2>

This man page was written by Richard Hally &lt;<A HREF="mailto:rhally@mindspring.com">rhally@mindspring.com</A>&gt;.
The script  was written by Dan Walsh &lt;<A HREF="mailto:dwalsh@redhat.com">dwalsh@redhat.com</A>&gt;
<P>
<A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="/manpages/index.html?8+setfiles">setfiles</A></B>(8),<B><A HREF="http://localhost/cgi-bin/man/man2html?8+restorecon">restorecon</A>(8)</B>

<P>
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPTIONS</A><DD>
<DT><A HREF="#lbAF">ARGUMENTS</A><DD>
<DT><A HREF="#lbAG">AUTHOR</A><DD>
<DT><A HREF="#lbAH">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:34:25 GMT, December 24, 2015
</div></body>
</HTML>
