<!DOCTYPE html>

<HTML><head><TITLE>Manpage of SELECT INTO</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/manpages/index.html">linux manpages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>SELECT INTO</H1>
Section: SQL Commands (7)<BR>Updated: 2012-08-14<BR><A HREF="#index">Index</A>
<A HREF="/manpages/index.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

SELECT INTO - define a new table from the results of a query
<P>
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>
<PRE>
[ WITH [ RECURSIVE ] <I>with_query</I> [, ...] ]
SELECT [ ALL | DISTINCT [ ON ( <I>expression</I> [, ...] ) ] ]
    * | <I>expression</I> [ [ AS ] <I>output_name</I> ] [, ...]
    INTO [ TEMPORARY | TEMP ] [ TABLE ] <I>new_table</I>
    [ FROM <I>from_item</I> [, ...] ]
    [ WHERE <I>condition</I> ]
    [ GROUP BY <I>expression</I> [, ...] ]
    [ HAVING <I>condition</I> [, ...] ]
    [ WINDOW <I>window_name</I> AS ( <I>window_definition</I> ) [, ...] ]
    [ { UNION | INTERSECT | EXCEPT } [ ALL ] <I>select</I> ]
    [ ORDER BY <I>expression</I> [ ASC | DESC | USING <I>operator</I> ] [ NULLS { FIRST | LAST } ] [, ...] ]
    [ LIMIT { <I>count</I> | ALL } ]
    [ OFFSET <I>start</I> [ ROW | ROWS ] ]
    [ FETCH { FIRST | NEXT } [ <I>count</I> ] { ROW | ROWS } ONLY ]
    [ FOR { UPDATE | SHARE } [ OF <I>table_name</I> [, ...] ] [ NOWAIT ] [...] ]

</PRE>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>

<B>SELECT INTO</B> creates a new table and fills it
with data computed by a query. The data is not returned to the
client, as it is with a normal <B>SELECT</B>. The new
table's columns have the names and data types associated with the
output columns of the <B>SELECT</B>.
<A NAME="lbAE">&nbsp;</A>
<H2>PARAMETERS</H2>

<DL COMPACT>
<DT><B>TEMPORARY or TEMP</B><DD>
If specified, the table is created as a temporary table. Refer
to CREATE TABLE [<B><A HREF="/manpages/index.html?7+create_table">create_table</A></B>(7)] for details.
<DT><B></B><I>new_table</I><B></B><DD>
The name (optionally schema-qualified) of the table to be created.
</DL>
<P>

All other parameters are described in detail under SELECT [<B><A HREF="/manpages/index.html?7+select">select</A></B>(7)].
<P>

<A NAME="lbAF">&nbsp;</A>
<H2>NOTES</H2>

<P>

CREATE TABLE AS [<B><A HREF="/manpages/index.html?7+create_table_as">create_table_as</A></B>(7)] is functionally similar to
<B>SELECT INTO</B>. <B>CREATE TABLE AS</B>
is the recommended syntax, since this form of <B>SELECT
INTO</B> is not available in <B>ECPG</B>
or <B>PL/pgSQL</B>, because they interpret the
INTO clause differently. Furthermore,
<B>CREATE TABLE AS</B> offers a superset of the
functionality provided by <B>SELECT INTO</B>.
<P>

Prior to PostgreSQL 8.1, the table created by
<B>SELECT INTO</B> included OIDs by default. In
PostgreSQL 8.1, this is not the case
--- to include OIDs in the new table, the default_with_oids configuration variable must be
enabled. Alternatively, <B>CREATE TABLE AS</B> can be
used with the WITH OIDS clause.
<A NAME="lbAG">&nbsp;</A>
<H2>EXAMPLES</H2>

<P>

Create a new table films_recent consisting of only
recent entries from the table films:
<P>
<PRE>
SELECT * INTO films_recent FROM films WHERE date_prod &gt;= '2002-01-01';

</PRE>

<A NAME="lbAH">&nbsp;</A>
<H2>COMPATIBILITY</H2>

<P>

The SQL standard uses <B>SELECT INTO</B> to
represent selecting values into scalar variables of a host program,
rather than creating a new table. This indeed is the usage found
in <B>ECPG</B> (see in the documentation) and
<B>PL/pgSQL</B> (see in the documentation).
The PostgreSQL usage of <B>SELECT
INTO</B> to represent table creation is historical. It is
best to use <B>CREATE TABLE AS</B> for this purpose in
new code.
<A NAME="lbAI">&nbsp;</A>
<H2>SEE ALSO</H2>

CREATE TABLE AS [<B><A HREF="/manpages/index.html?7+create_table_as">create_table_as</A></B>(7)]
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">PARAMETERS</A><DD>
<DT><A HREF="#lbAF">NOTES</A><DD>
<DT><A HREF="#lbAG">EXAMPLES</A><DD>
<DT><A HREF="#lbAH">COMPATIBILITY</A><DD>
<DT><A HREF="#lbAI">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/manpages/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:34:16 GMT, December 24, 2015
</div></body>
</HTML>
