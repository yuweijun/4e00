<!DOCTYPE html>

<HTML><head><TITLE>Manpage of SET SESSION AUTHORIZATION</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/man/index.html">linux man pages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>SET SESSION AUTHORIZATION</H1>
Section: SQL Commands (7)<BR>Updated: 2012-08-14<BR><A HREF="#index">Index</A>
<A HREF="/man/index.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

SET SESSION AUTHORIZATION - set the session user identifier and the current user identifier of the current session
<P>
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>
<PRE>
SET [ SESSION | LOCAL ] SESSION AUTHORIZATION <I>username</I>
SET [ SESSION | LOCAL ] SESSION AUTHORIZATION DEFAULT
RESET SESSION AUTHORIZATION

</PRE>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>

This command sets the session user identifier and the current user
identifier of the current SQL session to be <I>username</I>. The user name can be
written as either an identifier or a string literal. Using this
command, it is possible, for example, to temporarily become an
unprivileged user and later switch back to being a superuser.
<P>

The session user identifier is initially set to be the (possibly
authenticated) user name provided by the client. The current user
identifier is normally equal to the session user identifier, but
might change temporarily in the context of SECURITY DEFINER
functions and similar mechanisms; it can also be changed by
SET ROLE [<B><A HREF="/man/index.html?7+set_role">set_role</A></B>(7)].
The current user identifier is relevant for permission checking.
<P>

The session user identifier can be changed only if the initial session
user (the <I>authenticated user</I>) had the
superuser privilege. Otherwise, the command is accepted only if it
specifies the authenticated user name.
<P>

The SESSION and LOCAL modifiers act the same
as for the regular SET [<B><A HREF="/man/index.html?7+set">set</A></B>(7)]
command.
<P>

The DEFAULT and RESET forms reset the session
and current user identifiers to be the originally authenticated user
name. These forms can be executed by any user.
<A NAME="lbAE">&nbsp;</A>
<H2>NOTES</H2>

<P>

<B>SET SESSION AUTHORIZATION</B> cannot be used within a
SECURITY DEFINER function.
<A NAME="lbAF">&nbsp;</A>
<H2>EXAMPLES</H2>

<P>
<PRE>
SELECT SESSION_USER, CURRENT_USER;

 session_user | current_user 
--------------+--------------
 peter        | peter

SET SESSION AUTHORIZATION 'paul';

SELECT SESSION_USER, CURRENT_USER;

 session_user | current_user 
--------------+--------------
 paul         | paul

</PRE>

<A NAME="lbAG">&nbsp;</A>
<H2>COMPATIBILITY</H2>

<P>

The SQL standard allows some other expressions to appear in place
of the literal <I>username</I>, but these options
are not important in practice. PostgreSQL
allows identifier syntax (&quot;username&quot;), which SQL
does not. SQL does not allow this command during a transaction;
PostgreSQL does not make this
restriction because there is no reason to.
The SESSION and LOCAL modifiers are a
PostgreSQL extension, as is the
RESET syntax.
<P>

The privileges necessary to execute this command are left
implementation-defined by the standard.
<A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>

SET ROLE [<B><A HREF="/man/index.html?7+set_role">set_role</A></B>(7)]
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">NOTES</A><DD>
<DT><A HREF="#lbAF">EXAMPLES</A><DD>
<DT><A HREF="#lbAG">COMPATIBILITY</A><DD>
<DT><A HREF="#lbAH">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/man/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:34:16 GMT, December 24, 2015
</div></body>
</HTML>
