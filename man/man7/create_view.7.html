<!DOCTYPE html>

<HTML><head><TITLE>Manpage of CREATE VIEW</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/man/index.html">linux man pages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>CREATE VIEW</H1>
Section: SQL Commands (7)<BR>Updated: 2012-08-14<BR><A HREF="#index">Index</A>
<A HREF="/man/index.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

CREATE VIEW - define a new view
<P>
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>
<PRE>
CREATE [ OR REPLACE ] [ TEMP | TEMPORARY ] VIEW <I>name</I> [ ( <I>column_name</I> [, ...] ) ]
    AS <I>query</I>

</PRE>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>

<B>CREATE VIEW</B> defines a view of a query. The view
is not physically materialized. Instead, the query is run every time
the view is referenced in a query.
<P>

<B>CREATE OR REPLACE VIEW</B> is similar, but if a view
of the same name already exists, it is replaced. The new query must
generate the same columns that were generated by the existing view query
(that is, the same column names in the same order and with the same data
types), but it may add additional columns to the end of the list. The
calculations giving rise to the output columns may be completely different.
<P>

If a schema name is given (for example, CREATE VIEW
myschema.myview ...) then the view is created in the specified
schema. Otherwise it is created in the current schema. Temporary
views exist in a special schema, so a schema name cannot be given
when creating a temporary view. The name of the view must be
distinct from the name of any other view, table, sequence, or index
in the same schema.
<A NAME="lbAE">&nbsp;</A>
<H2>PARAMETERS</H2>

<DL COMPACT>
<DT><B>TEMPORARY or TEMP</B><DD>
If specified, the view is created as a temporary view.
Temporary views are automatically dropped at the end of the
current session. Existing
permanent relations with the same name are not visible to the
current session while the temporary view exists, unless they are
referenced with schema-qualified names.
<P>
If any of the tables referenced by the view are temporary,
the view is created as a temporary view (whether
TEMPORARY is specified or not).
<DT><B></B><I>name</I><B></B><DD>
The name (optionally schema-qualified) of a view to be created.
<DT><B></B><I>column_name</I><B></B><DD>
An optional list of names to be used for columns of the view.
If not given, the column names are deduced from the query.
<DT><B></B><I>query</I><B></B><DD>
A SELECT [<B><A HREF="/man/index.html?7+select">select</A></B>(7)] or
VALUES [<B><A HREF="/man/index.html?7+values">values</A></B>(7)] command
which will provide the columns and rows of the view.
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>NOTES</H2>

<P>

Currently, views are read only: the system will not allow an insert,
update, or delete on a view. You can get the effect of an updatable
view by creating rules that rewrite inserts, etc. on the view into
appropriate actions on other tables. For more information see
CREATE RULE [<B><A HREF="/man/index.html?7+create_rule">create_rule</A></B>(7)].
<P>

Use the DROP VIEW [<B><A HREF="/man/index.html?7+drop_view">drop_view</A></B>(7)]
statement to drop views.
<P>

Be careful that the names and types of the view's columns will be
assigned the way you want. For example:
<P>
<PRE>
CREATE VIEW vista AS SELECT 'Hello World';

</PRE>

is bad form in two ways: the column name defaults to ?column?,
and the column data type defaults to <B>unknown</B>. If you want a
string literal in a view's result, use something like:
<P>
<PRE>
CREATE VIEW vista AS SELECT text 'Hello World' AS hello;

</PRE>

<P>

Access to tables referenced in the view is determined by permissions of
the view owner. In some cases, this can be used to provide secure but
restricted access to the underlying tables. However, not all views are
secure against tampering; see in the documentation for
details. Functions called in the view are treated the same as if they had
been called directly from the query using the view. Therefore the user of
a view must have permissions to call all functions used by the view.
<P>

When <B>CREATE OR REPLACE VIEW</B> is used on an
existing view, only the view's defining SELECT rule is changed.
Other view properties, including ownership, permissions, and non-SELECT
rules, remain unchanged. You must own the view
to replace it (this includes being a member of the owning role).
<A NAME="lbAG">&nbsp;</A>
<H2>EXAMPLES</H2>

<P>

Create a view consisting of all comedy films:
<P>
<PRE>
CREATE VIEW comedies AS
    SELECT *
    FROM films
    WHERE kind = 'Comedy';

</PRE>

<A NAME="lbAH">&nbsp;</A>
<H2>COMPATIBILITY</H2>

<P>

The SQL standard specifies some additional capabilities for the
<B>CREATE VIEW</B> statement:
<P>
<PRE>
CREATE VIEW <I>name</I> [ ( <I>column_name</I> [, ...] ) ]
    AS <I>query</I>
    [ WITH [ CASCADED | LOCAL ] CHECK OPTION ]

</PRE>

<P>

The optional clauses for the full SQL command are:
<DL COMPACT>
<DT><B>CHECK OPTION</B><DD>
This option has to do with updatable views. All
<B>INSERT</B> and <B>UPDATE</B> commands on the view
will be checked to ensure data satisfy the view-defining
condition (that is, the new data would be visible through the
view). If they do not, the update will be rejected.
<DT><B>LOCAL</B><DD>
Check for integrity on this view.
<DT><B>CASCADED</B><DD>
Check for integrity on this view and on any dependent
view. CASCADED is assumed if neither
CASCADED nor LOCAL is specified.
</DL>
<P>

<P>

<B>CREATE OR REPLACE VIEW</B> is a
PostgreSQL language extension.
So is the concept of a temporary view.
<A NAME="lbAI">&nbsp;</A>
<H2>SEE ALSO</H2>

ALTER VIEW [<B><A HREF="/man/index.html?7+alter_view">alter_view</A></B>(7)], DROP VIEW [<B><A HREF="http://localhost/cgi-bin/man/man2html?7+drop_view">drop_view</A></B>(7)]
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">PARAMETERS</A><DD>
<DT><A HREF="#lbAF">NOTES</A><DD>
<DT><A HREF="#lbAG">EXAMPLES</A><DD>
<DT><A HREF="#lbAH">COMPATIBILITY</A><DD>
<DT><A HREF="#lbAI">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/man/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:34:14 GMT, December 24, 2015
</div></body>
</HTML>
