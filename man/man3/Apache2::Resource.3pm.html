<!DOCTYPE html>

<HTML><head><TITLE>Manpage of docs::api::Apache2::Resource</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/man/index.html">linux man pages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>docs::api::Apache2::Resource</H1>
Section: User Contributed Perl Documentation (3)<BR>Updated: 2007-11-12<BR><A HREF="#index">Index</A>
<A HREF="/man/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

Apache2::Resource - Limit resources used by httpd children
<A NAME="lbAC">&nbsp;</A>
<H2>Synopsis</H2>

<A NAME="ixAAC"></A>


<PRE>
  PerlModule Apache2::Resource
  # set child memory limit in megabytes
  # default is 64 Meg
  PerlSetEnv PERL_RLIMIT_DATA 32:48
  
  # linux does not honor RLIMIT_DATA
  # RLIMIT_AS (address space) will work to limit the size of a process
  PerlSetEnv PERL_RLIMIT_AS 32:48
  
  # set child cpu limit in seconds
  # default is 360 seconds
  PerlSetEnv PERL_RLIMIT_CPU 120
  
  PerlChildInitHandler Apache2::Resource

</PRE>


<A NAME="lbAD">&nbsp;</A>
<H2>Description</H2>

<A NAME="ixAAD"></A>
<TT>&quot;Apache2::Resource&quot;</TT> uses the <TT>&quot;BSD::Resource&quot;</TT> module, which uses the C
function <TT>&quot;setrlimit&quot;</TT> to set limits on system resources such as memory
and cpu usage.
<P>

Any <TT>&quot;RLIMIT&quot;</TT> operation available to limit on your system can be set
by defining that operation as an environment variable with a <TT>&quot;PERL_&quot;</TT>
prefix.  See your system <TT>&quot;setrlimit&quot;</TT> manpage for available resources
which can be limited.
<P>

The following limit values are in megabytes: <TT>&quot;DATA&quot;</TT>, <TT>&quot;RSS&quot;</TT>,
<TT>&quot;STACK&quot;</TT>, <TT>&quot;FSIZE&quot;</TT>, <TT>&quot;CORE&quot;</TT>, <TT>&quot;MEMLOCK&quot;</TT>; all others are treated as
their natural unit.
<P>

If the value of the variable is of the form <TT>&quot;S:H&quot;</TT>, <TT>&quot;S&quot;</TT> is treated as
the soft limit, and <TT>&quot;H&quot;</TT> is the hard limit.  If it is just a single
number, it is used for both soft and hard limits.
<A NAME="lbAE">&nbsp;</A>
<H2>Defaults</H2>

<A NAME="ixAAE"></A>
To set reasonable defaults for all RLIMITs, add this to your httpd.conf:
<P>



<PRE>
  PerlSetEnv PERL_RLIMIT_DEFAULTS On
  PerlModule Apache2::Resource

</PRE>


<A NAME="lbAF">&nbsp;</A>
<H2>See Also</H2>

<A NAME="ixAAF"></A>
<I><A HREF="/man/index.html?3+BSD::Resource">BSD::Resource</A></I>(3), <I><A HREF="http://localhost/cgi-bin/man/man2html?2+setrlimit">setrlimit</A></I>(2)
<A NAME="lbAG">&nbsp;</A>
<H2>Copyright</H2>

<A NAME="ixAAG"></A>
mod_perl 2.0 and its core modules are copyrighted under
The Apache Software License, Version 2.0.
<A NAME="lbAH">&nbsp;</A>
<H2>Author</H2>

<A NAME="ixAAH"></A>
Doug MacEachern
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">Synopsis</A><DD>
<DT><A HREF="#lbAD">Description</A><DD>
<DT><A HREF="#lbAE">Defaults</A><DD>
<DT><A HREF="#lbAF">See Also</A><DD>
<DT><A HREF="#lbAG">Copyright</A><DD>
<DT><A HREF="#lbAH">Author</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/man/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:11 GMT, December 24, 2015
</div></body>
</HTML>
