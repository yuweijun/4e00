<!DOCTYPE html>

<HTML><head><TITLE>Manpage of TAP::Parser::Result</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/man/index.html">linux man pages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>TAP::Parser::Result</H1>
Section: Perl Programmers Reference Guide (3pm)<BR>Updated: 2009-06-12<BR><A HREF="#index">Index</A>
<A HREF="/man/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

TAP::Parser::Result - Base class for TAP::Parser output objects
<A NAME="lbAC">&nbsp;</A>
<H2>VERSION</H2>

<A NAME="ixAAC"></A>
Version 3.17
<A NAME="lbAD">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAD"></A>


<PRE>
  # abstract class - not meany to be used directly
  # see TAP::Parser::ResultFactory for preferred usage

  # directly:
  use TAP::Parser::Result;
  my $token  = {...};
  my $result = TAP::Parser::Result-&gt;new( $token );

</PRE>


<A NAME="lbAE">&nbsp;</A>
<H3><FONT SIZE="-1">DESCRIPTION</FONT></H3>

<A NAME="ixAAE"></A>
This is a simple base class used by TAP::Parser to store objects that
represent the current bit of test output data from <FONT SIZE="-1">TAP</FONT> (usually a single
line).  Unless you're subclassing, you probably won't need to use this module
directly.
<A NAME="lbAF">&nbsp;</A>
<H3><FONT SIZE="-1">METHODS</FONT></H3>

<A NAME="ixAAF"></A>
<I></I>&quot;new&quot;<I></I>
<A NAME="ixAAG"></A>
<P>



<PRE>
  # see TAP::Parser::ResultFactory for preferred usage

  # to use directly:
  my $result = TAP::Parser::Result-&gt;new($token);

</PRE>


<P>

Returns an instance the appropriate class for the test token passed in.
<A NAME="lbAG">&nbsp;</A>
<H3>Boolean methods</H3>

<A NAME="ixAAH"></A>
The following methods all return a boolean value and are to be overridden in
the appropriate subclass.
<DL COMPACT>
<DT>*<DD>
<TT>&quot;is_plan&quot;</TT>


<P>


Indicates whether or not this is the test plan line.


<P>




<PRE>
 1..3

</PRE>


<DT>*<DD>
<TT>&quot;is_pragma&quot;</TT>


<P>


Indicates whether or not this is a pragma line.


<P>




<PRE>
 pragma +strict

</PRE>


<DT>*<DD>
<TT>&quot;is_test&quot;</TT>


<P>


Indicates whether or not this is a test line.


<P>




<PRE>
 ok 1 Is OK!

</PRE>


<DT>*<DD>
<TT>&quot;is_comment&quot;</TT>


<P>


Indicates whether or not this is a comment.


<P>




<PRE>
 # this is a comment

</PRE>


<DT>*<DD>
<TT>&quot;is_bailout&quot;</TT>


<P>


Indicates whether or not this is bailout line.


<P>




<PRE>
 Bail out! We're out of dilithium crystals.

</PRE>


<DT>*<DD>
<TT>&quot;is_version&quot;</TT>


<P>


Indicates whether or not this is a <FONT SIZE="-1">TAP</FONT> version line.


<P>




<PRE>
 TAP version 4

</PRE>


<DT>*<DD>
<TT>&quot;is_unknown&quot;</TT>


<P>


Indicates whether or not the current line could be parsed.


<P>




<PRE>
 ... this line is junk ...

</PRE>


<DT>*<DD>
<TT>&quot;is_yaml&quot;</TT>


<P>


Indicates whether or not this is a <FONT SIZE="-1">YAML</FONT> chunk.
</DL>
<P>

<I></I>&quot;raw&quot;<I></I>
<A NAME="ixAAI"></A>
<P>



<PRE>
  print $result-&gt;raw;

</PRE>


<P>

Returns the original line of text which was parsed.
<P>

<I></I>&quot;type&quot;<I></I>
<A NAME="ixAAJ"></A>
<P>



<PRE>
  my $type = $result-&gt;type;

</PRE>


<P>

Returns the ``type'' of a token, such as <TT>&quot;comment&quot;</TT> or <TT>&quot;test&quot;</TT>.
<P>

<I></I>&quot;as_string&quot;<I></I>
<A NAME="ixAAK"></A>
<P>



<PRE>
  print $result-&gt;as_string;

</PRE>


<P>

Prints a string representation of the token.  This might not be the exact
output, however.  Tests will have test numbers added if not present, <FONT SIZE="-1">TODO</FONT> and
<FONT SIZE="-1">SKIP</FONT> directives will be capitalized and, in general, things will be cleaned
up.  If you need the original text for the token, see the <TT>&quot;raw&quot;</TT> method.
<P>

<I></I>&quot;is_ok&quot;<I></I>
<A NAME="ixAAL"></A>
<P>



<PRE>
  if ( $result-&gt;is_ok ) { ... }

</PRE>


<P>

Reports whether or not a given result has passed.  Anything which is <B>not</B> a
test result returns true.  This is merely provided as a convenient shortcut.
<P>

<I></I>&quot;passed&quot;<I></I>
<A NAME="ixAAM"></A>
<P>

Deprecated.  Please use <TT>&quot;is_ok&quot;</TT> instead.
<P>

<I></I>&quot;has_directive&quot;<I></I>
<A NAME="ixAAN"></A>
<P>



<PRE>
  if ( $result-&gt;has_directive ) {
     ...
  }

</PRE>


<P>

Indicates whether or not the given result has a <FONT SIZE="-1">TODO</FONT> or <FONT SIZE="-1">SKIP</FONT> directive.
<P>

<I></I>&quot;has_todo&quot;<I></I>
<A NAME="ixAAO"></A>
<P>



<PRE>
 if ( $result-&gt;has_todo ) {
     ...
 }

</PRE>


<P>

Indicates whether or not the given result has a <FONT SIZE="-1">TODO</FONT> directive.
<P>

<I></I>&quot;has_skip&quot;<I></I>
<A NAME="ixAAP"></A>
<P>



<PRE>
 if ( $result-&gt;has_skip ) {
     ...
 }

</PRE>


<P>

Indicates whether or not the given result has a <FONT SIZE="-1">SKIP</FONT> directive.
<P>

<I></I>&quot;set_directive&quot;<I></I>
<A NAME="ixAAQ"></A>
<P>

Set the directive associated with this token. Used internally to fake
<FONT SIZE="-1">TODO</FONT> tests.
<A NAME="lbAH">&nbsp;</A>
<H2>SUBCLASSING</H2>

<A NAME="ixAAR"></A>
Please see ``<FONT SIZE="-1">SUBCLASSING</FONT>'' in TAP::Parser for a subclassing overview.
<P>

Remember: if you want your subclass to be automatically used by the parser,
you'll have to register it with ``register_type'' in TAP::Parser::ResultFactory.
<P>

If you're creating a completely new result <I>type</I>, you'll probably need to
subclass TAP::Parser::Grammar too, or else it'll never get used.
<A NAME="lbAI">&nbsp;</A>
<H3>Example</H3>

<A NAME="ixAAS"></A>


<PRE>
  package MyResult;

  use strict;
  use vars '@ISA';

  @ISA = 'TAP::Parser::Result';

  # register with the factory:
  TAP::Parser::ResultFactory-&gt;register_type( 'my_type' =&gt; __PACKAGE__ );

  sub as_string { 'My results all look the same' }

</PRE>


<A NAME="lbAJ">&nbsp;</A>
<H2>SEE ALSO</H2>

<A NAME="ixAAT"></A>
TAP::Object,
TAP::Parser,
TAP::Parser::ResultFactory,
TAP::Parser::Result::Bailout,
TAP::Parser::Result::Comment,
TAP::Parser::Result::Plan,
TAP::Parser::Result::Pragma,
TAP::Parser::Result::Test,
TAP::Parser::Result::Unknown,
TAP::Parser::Result::Version,
TAP::Parser::Result::YAML,
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">VERSION</A><DD>
<DT><A HREF="#lbAD">SYNOPSIS</A><DD>
<DL>
<DT><A HREF="#lbAE"><FONT SIZE="-1">DESCRIPTION</FONT></A><DD>
<DT><A HREF="#lbAF"><FONT SIZE="-1">METHODS</FONT></A><DD>
<DT><A HREF="#lbAG">Boolean methods</A><DD>
</DL>
<DT><A HREF="#lbAH">SUBCLASSING</A><DD>
<DL>
<DT><A HREF="#lbAI">Example</A><DD>
</DL>
<DT><A HREF="#lbAJ">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/man/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:43 GMT, December 24, 2015
</div></body>
</HTML>
