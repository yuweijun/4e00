<!DOCTYPE html>

<HTML><head><TITLE>Manpage of docs::api::Apache2::Util</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/man/index.html">linux man pages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>docs::api::Apache2::Util</H1>
Section: User Contributed Perl Documentation (3)<BR>Updated: 2007-11-12<BR><A HREF="#index">Index</A>
<A HREF="/man/index.html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

Apache2::Util - Perl API for Misc Apache Utility functions
<A NAME="lbAC">&nbsp;</A>
<H2>Synopsis</H2>

<A NAME="ixAAC"></A>


<PRE>
  use Apache2::Util ();
  
  # OS escape path
  $escaped_path = Apache2::Util::escape_path($path, &quot;a 'long' file.html&quot;);
  
  # format time as a string
  my $fmt = &quot;%a, %D %H:%M:%S %Z&quot;;
  $fmtdate = Apache2::Util::ht_time($r-&gt;pool, $r-&gt;request_time, $fmt, 0);

</PRE>


<A NAME="lbAD">&nbsp;</A>
<H2>Description</H2>

<A NAME="ixAAD"></A>
Various Apache utilities that don't fit into any other group.
<A NAME="lbAE">&nbsp;</A>
<H2>Functions API</H2>

<A NAME="ixAAE"></A>
<TT>&quot;Apache2::Util&quot;</TT> provides the following functions and/or methods:
<A NAME="lbAF">&nbsp;</A>
<H3>escape_path</H3>



<A NAME="ixAAF"></A>
convert an <FONT SIZE="-1">OS</FONT> path to a <FONT SIZE="-1">URL</FONT> in an <FONT SIZE="-1">OS</FONT> dependant way.
<P>



<PRE>
  $escaped_path = Apache2::Util::escape_path($path, $p);
  $escaped_path = Apache2::Util::escape_path($path, $p, $partial);

</PRE>


<DL COMPACT>
<DT>arg1: $path ( string )<DD>


<A NAME="ixAAG"></A>
The path to convert
<DT>arg2: $p ( APR::Pool )<DD>


<A NAME="ixAAH"></A>
The pool to allocate from
<DT>opt arg3: $partial ( boolean )<DD>


<A NAME="ixAAI"></A>
if <FONT SIZE="-1">TRUE</FONT>, assume that the path will be appended to something with a '/'
in it (and thus does not prefix ``./'')


<P>


if <FONT SIZE="-1">FALSE</FONT> it prepends <TT>&quot;./&quot;</TT> unless <TT>$path</TT> contains <TT>&quot;:&quot;</TT> optionally
followed by <TT>&quot;/&quot;</TT>.


<P>


the default is <FONT SIZE="-1">TRUE</FONT>
<DT>ret: $escaped_path ( string )<DD>


<A NAME="ixAAJ"></A>
The escaped path
<DT>since: 2.0.00<DD>
<A NAME="ixAAK"></A>
</DL>
<A NAME="lbAG">&nbsp;</A>
<H3>ht_time</H3>



<A NAME="ixAAL"></A>
Convert time from an integer value into a string in a specified format
<P>



<PRE>
  $time_str = Apache2::Util::ht_time($p);
  $time_str = Apache2::Util::ht_time($p, $time);
  $time_str = Apache2::Util::ht_time($p, $time, $fmt);
  $time_str = Apache2::Util::ht_time($p, $time, $fmt, $gmt);

</PRE>


<DL COMPACT>
<DT>arg1: $p ( APR::Pool object )<DD>


<A NAME="ixAAM"></A>
The pool to allocate memory from
<DT>opt arg2: $time ( number )<DD>


<A NAME="ixAAN"></A>
The time to convert (e.g., <TT>&quot;time()&quot;</TT> or
<TT>&quot;$r-&gt;request_time&quot;</TT>).


<P>


If the value is not passed the current time will be used.
<DT>opt arg3: $fmt ( string )<DD>


<A NAME="ixAAO"></A>
The format to use for the conversion, using <I><A HREF="/man/index.html?3+strftime">strftime</A></I>(3) tokens.


<P>


If the value is not passed the default format used is:


<P>




<PRE>
  &quot;%a, %d %b %Y %H:%M:%S %Z&quot;

</PRE>


<DT>opt arg4: $gmt ( boolean )<DD>


<A NAME="ixAAP"></A>
The time will be not converted to <FONT SIZE="-1">GMT</FONT> if <FONT SIZE="-1">FALSE</FONT> is passed.


<P>


If the value is not passed <FONT SIZE="-1">TRUE</FONT> (do convert) is used as a default.
<DT>ret: $time_str (string)<DD>


<A NAME="ixAAQ"></A>
The string that represents the specified time
<DT>since: 2.0.00<DD>
<A NAME="ixAAR"></A>
</DL>
<P>

Examples:
<P>

Use current time, the default format and convert to <FONT SIZE="-1">GMT:</FONT>
<P>



<PRE>
  $fmtdate = Apache2::Util::ht_time($r-&gt;pool);

</PRE>


<P>

Use my time, the default format and convert to <FONT SIZE="-1">GMT:</FONT>
<P>



<PRE>
  my $time = time+100;
  $fmtdate = Apache2::Util::ht_time($r-&gt;pool, $time);

</PRE>


<P>

Use the time the request has started, custom format and don't convert
to <FONT SIZE="-1">GMT:</FONT>
<P>



<PRE>
  my $fmt = &quot;%a, %D %H:%M:%S %Z&quot;;
  $fmtdate = Apache2::Util::ht_time($r-&gt;pool, $r-&gt;request_time, $fmt, 0);

</PRE>


<A NAME="lbAH">&nbsp;</A>
<H2>See Also</H2>

<A NAME="ixAAS"></A>
mod_perl 2.0 documentation.
<A NAME="lbAI">&nbsp;</A>
<H2>Copyright</H2>

<A NAME="ixAAT"></A>
mod_perl 2.0 and its core modules are copyrighted under
The Apache Software License, Version 2.0.
<A NAME="lbAJ">&nbsp;</A>
<H2>Authors</H2>

<A NAME="ixAAU"></A>
The mod_perl development team and numerous
contributors.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">Synopsis</A><DD>
<DT><A HREF="#lbAD">Description</A><DD>
<DT><A HREF="#lbAE">Functions API</A><DD>
<DL>
<DT><A HREF="#lbAF">escape_path</A><DD>
<DT><A HREF="#lbAG">ht_time</A><DD>
</DL>
<DT><A HREF="#lbAH">See Also</A><DD>
<DT><A HREF="#lbAI">Copyright</A><DD>
<DT><A HREF="#lbAJ">Authors</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/man/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:11 GMT, December 24, 2015
</div></body>
</HTML>
