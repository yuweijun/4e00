<!DOCTYPE html>

<HTML><head><TITLE>Manpage of COM_ERR</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/man/index.html">linux man pages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>COM_ERR</H1>
Section: C Library Functions (3)<BR>Updated: 22 Nov 1988<BR><A HREF="#index">Index</A>
<A HREF="/man/index.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

com_err - common error display routine
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<PRE>
 #include &lt;<A HREF="file:/usr/include/et/com_err.h">et/com_err.h</A>&gt;
void (*<I>proc</I>) (const char *, long, const char *, va_list);

void com_err (const char *whoami, long code, const char *format, ...);

proc = set_com_err_hook (proc);

proc = reset_com_err_hook ();

void initialize_XXXX_error_table ();
</PRE>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<I>Com_err</I>

displays an error message on the standard error stream
<I>stderr</I>

(see
<I><A HREF="/man/index.html?3S+stdio">stdio</A></I>(3S))

composed of the
<I>whoami</I>

string, which should specify the program name or some subportion of
a program, followed by an error message generated from the
<I>code</I>

value (derived from
<I><A HREF="/man/index.html?1+compile_et">compile_et</A></I>(1)),

and a string produced using the
<I>format</I>

string and any following arguments, in the same style as
<I><A HREF="/man/index.html?3+fprintf">fprintf</A></I>(3).

<P>
The behavior of
<I>com_err</I>

can be modified using
<I>set_com_err_hook;</I>

this defines a procedure which is called with the arguments passed to
<I>com_err,</I>

instead of the default internal procedure which sends the formatted
text to error output.  Thus the error messages from a program can all
easily be diverted to another form of diagnostic logging, such as
<I><A HREF="/man/index.html?3+syslog">syslog</A></I>(3).

<I>Reset_com_err_hook</I>

may be used to restore the behavior of
<I>com_err</I>

to its default form.  Both procedures return the previous ``hook''
value.  These ``hook'' procedures must have the declaration given for
<I>proc</I>

above in the synopsis.
<P>
The
<I>initialize_XXXX_error_table</I>

routine is generated mechanically by
<I><A HREF="/man/index.html?1+compile_et">compile_et</A></I>(1)

from a source file containing names and associated strings.  Each
table has a name of up to four characters, which is used in place of
the
<B>XXXX</B>

in the name of the routine.  These routines should be called before
any of the corresponding error codes are used, so that the
<I>com_err</I>

library will recognize error codes from these tables when they are
used.
<P>
The
<B>com_err.h</B>

header file should be included in any source file that uses routines
from the
<I>com_err</I>

library; executable files must be linked using
<I>``-lcom_err''</I>

in order to cause the
<I>com_err</I>

library to be included.
<P>


<P>
<A NAME="lbAE">&nbsp;</A>
<H2>SEE ALSO</H2>

compile_et (1), syslog (3).
<P>
Ken Raeburn, &quot;A Common Error Description Library for UNIX&quot;.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/man/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:33:16 GMT, December 24, 2015
</div></body>
</HTML>
