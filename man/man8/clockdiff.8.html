<!DOCTYPE html>

<HTML><head><TITLE>Manpage of CLOCKDIFF</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/man/index.html">linux man pages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>CLOCKDIFF</H1>
Section: System Manager's Manual: iputils (8)<BR>Updated: 19 July 2011<BR><A HREF="#index">Index</A>
<A HREF="/man/index.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

clockdiff - measure clock difference between hosts
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>
<B>clockdiff</B> [ <B>-o</B>]  [ <B>-o1</B>]  <B></B><I>destination</I><B></B>
<P>
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>

<B>clockdiff</B> Measures clock difference between us and
<I>destination</I> with 1 msec resolution using ICMP TIMESTAMP
[2]
packets or, optionally, IP TIMESTAMP option
[3]
option added to ICMP ECHO.
[1]
<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

<DL COMPACT>
<DT><B>-o</B><DD>
Use IP TIMESTAMP with ICMP ECHO instead of ICMP TIMESTAMP
messages. It is useful with some destinations, which do not support
ICMP TIMESTAMP (f.e. Solaris &lt;2.4).
<DT><B>-o1</B><DD>
Slightly different form of <B>-o</B>, namely it uses three-term
IP TIMESTAMP with prespecified hop addresses instead of four term one.
What flavor works better depends on target host. Particularly,
<B>-o</B> is better for Linux.
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>WARNINGS</H2>

<DL COMPACT>
<DT>*<DD>
Some nodes (Cisco) use non-standard timestamps, which is allowed
by RFC, but makes timestamps mostly useless.
<DT>*<DD>
Some nodes generate messed timestamps (Solaris&gt;2.4), when
run <B>xntpd</B>. Seems, its IP stack uses a corrupted clock source,
which is synchronized to time-of-day clock periodically and jumps
randomly making timestamps mostly useless. Good news is that you can
use NTP in this case, which is even better.
<DT>*<DD>
<B>clockdiff</B> shows difference in time modulo 24 days.
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>SEE ALSO</H2>

<P>

<B><A HREF="/man/index.html?8+ping">ping</A></B>(8),
<B><A HREF="/man/index.html?8+arping">arping</A></B>(8),
<B><A HREF="/man/index.html?8+tracepath">tracepath</A></B>(8).
<A NAME="lbAH">&nbsp;</A>
<H2>REFERENCES</H2>

<P>

[1] ICMP ECHO,
RFC0792, page 14.
<P>

[2] ICMP TIMESTAMP,
RFC0792, page 16.
<P>

[3] IP TIMESTAMP option,
RFC0791, 3.1, page 16.
<A NAME="lbAI">&nbsp;</A>
<H2>AUTHOR</H2>

<P>

<B>clockdiff</B> was compiled by
Alexey Kuznetsov
&lt;<A HREF="mailto:kuznet@ms2.inr.ac.ru">kuznet@ms2.inr.ac.ru</A>&gt;. It was based on code borrowed
from BSD <B>timed</B> daemon.
It is now maintained by
YOSHIFUJI Hideaki
&lt;<A HREF="mailto:yoshfuji@skbuff.net">yoshfuji@skbuff.net</A>&gt;.
<A NAME="lbAJ">&nbsp;</A>
<H2>SECURITY</H2>

<P>

<B>clockdiff</B> requires CAP_NET_RAWIO capability
to be executed. It is safe to be used as set-uid root.
<A NAME="lbAK">&nbsp;</A>
<H2>AVAILABILITY</H2>

<P>

<B>clockdiff</B> is part of <I>iputils</I> package
and the latest versions are  available in source form at
<A HREF="http://www.skbuff.net/iputils/iputils-current.tar.bz2.">http://www.skbuff.net/iputils/iputils-current.tar.bz2.</A>
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPTIONS</A><DD>
<DT><A HREF="#lbAF">WARNINGS</A><DD>
<DT><A HREF="#lbAG">SEE ALSO</A><DD>
<DT><A HREF="#lbAH">REFERENCES</A><DD>
<DT><A HREF="#lbAI">AUTHOR</A><DD>
<DT><A HREF="#lbAJ">SECURITY</A><DD>
<DT><A HREF="#lbAK">AVAILABILITY</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/man/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:34:25 GMT, December 24, 2015
</div></body>
</HTML>
