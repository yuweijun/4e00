<!DOCTYPE html>

<HTML><head><TITLE>Manpage of E2FREEFRAG</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/man/index.html">linux man pages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>E2FREEFRAG</H1>
Section: Maintenance Commands (8)<BR>Updated: May 2010<BR><A HREF="#index">Index</A>
<A HREF="/man/index.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

e2freefrag - report free space fragmentation information
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>e2freefrag</B>

[
<B>-c chunk_kb</B>

]
[
<B>-h</B>

]
<B>filesys</B>

<P>
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<B>e2freefrag</B>

is used to report free space fragmentation on ext2/3/4 file systems.
<I>filesys</I>

is the filesystem device name (e.g.
<I>/dev/hdc1</I>, <I>/dev/md0</I>).

The
<B>e2freefrag</B>

program will scan the block bitmap information to check how many free blocks
are present as contiguous and aligned free space. The percentage of contiguous
free blocks of size and of alignment
<I>chunk_kb</I>

is reported.  It also displays the minimum/maximum/average free chunk size in
the filesystem, along with a histogram of all free chunks.  This information
can be used to gauge the level of free space fragmentation in the filesystem.
<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

<DL COMPACT>
<DT><B>-c</B><I> chunk_kb</I>

<DD>
If a chunk size is specified, then
<B>e2freefrag</B>

will print how many free chunks of size
<I>chunk_kb</I>

are available in units of kilobytes (Kb).  The chunk size must be a
power of two and be larger than filesystem block size.
<DT><B>-h</B>

<DD>
Print the usage of the program.
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>EXAMPLE</H2>

# e2freefrag /dev/vgroot/lvhome
<BR>

Device: /dev/vgroot/lvhome
<BR>

Blocksize: 4096 bytes
<BR>

Total blocks: 1504085
<BR>

Free blocks: 292995 (19.5%)
<BR>

<P>
Min. free extent: 4 KB
<BR>

Max. free extent: 24008 KB
<BR>

Avg. free extent: 252 KB
<BR>

<P>
HISTOGRAM OF FREE EXTENT SIZES:
<BR>

Extent Size Range :   Free extents   Free Blocks  Percent
<BR>

<BR>&nbsp;&nbsp;&nbsp;&nbsp;4K...&nbsp;&nbsp;&nbsp;&nbsp;8K-&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;704&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;704&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.2%
<BR>

<BR>&nbsp;&nbsp;&nbsp;&nbsp;8K...&nbsp;&nbsp;&nbsp;16K-&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;810&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1979&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.7%
<BR>

<BR>&nbsp;&nbsp;&nbsp;16K...&nbsp;&nbsp;&nbsp;32K-&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;843&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4467&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.5%
<BR>

<BR>&nbsp;&nbsp;&nbsp;32K...&nbsp;&nbsp;&nbsp;64K-&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;579&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6263&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.1%
<BR>

<BR>&nbsp;&nbsp;&nbsp;64K...&nbsp;&nbsp;128K-&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;493&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;11067&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.8%
<BR>

<BR>&nbsp;&nbsp;128K...&nbsp;&nbsp;256K-&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;394&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;18097&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6.2%
<BR>

<BR>&nbsp;&nbsp;256K...&nbsp;&nbsp;512K-&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;281&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;25477&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8.7%
<BR>

<BR>&nbsp;&nbsp;512K...&nbsp;1024K-&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;253&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;44914&nbsp;&nbsp;&nbsp;&nbsp;15.3%
<BR>

<BR>&nbsp;&nbsp;&nbsp;&nbsp;1M...&nbsp;&nbsp;&nbsp;&nbsp;2M-&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;143&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;51897&nbsp;&nbsp;&nbsp;&nbsp;17.7%
<BR>

<BR>&nbsp;&nbsp;&nbsp;&nbsp;2M...&nbsp;&nbsp;&nbsp;&nbsp;4M-&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;73&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50683&nbsp;&nbsp;&nbsp;&nbsp;17.3%
<BR>

<BR>&nbsp;&nbsp;&nbsp;&nbsp;4M...&nbsp;&nbsp;&nbsp;&nbsp;8M-&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;37&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52417&nbsp;&nbsp;&nbsp;&nbsp;17.9%
<BR>

<BR>&nbsp;&nbsp;&nbsp;&nbsp;8M...&nbsp;&nbsp;&nbsp;16M-&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;19028&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6.5%
<BR>

<BR>&nbsp;&nbsp;&nbsp;16M...&nbsp;&nbsp;&nbsp;32M-&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6002&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.0%
<A NAME="lbAG">&nbsp;</A>
<H2>AUTHOR</H2>

This version of e2freefrag was written by Rupesh Thakare, and modified by
Andreas Dilger &lt;<A HREF="mailto:adilger@sun.com">adilger@sun.com</A>&gt;, and Kalpak Shah.
<A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>

<I><A HREF="/man/index.html?8+debugfs">debugfs</A></I>(8),

<I><A HREF="/man/index.html?8+dumpe2fs">dumpe2fs</A></I>(8),

<I><A HREF="/man/index.html?8+e2fsck">e2fsck</A></I>(8)

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPTIONS</A><DD>
<DT><A HREF="#lbAF">EXAMPLE</A><DD>
<DT><A HREF="#lbAG">AUTHOR</A><DD>
<DT><A HREF="#lbAH">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/man/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:34:25 GMT, December 24, 2015
</div></body>
</HTML>
