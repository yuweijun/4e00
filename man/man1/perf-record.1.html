<!DOCTYPE html>

<HTML><head><TITLE>Manpage of PERF\-RECORD</TITLE>
<meta charset="utf-8">
<link rel="stylesheet" href="/css/main.css" type="text/css">
</head>
<body>
 <header class="site-header">
 <div class="wrap"> <div class="site-title"><a href="/man/index.html">linux man pages</a></div>
 <div class="site-description">{"type":"programming"}</div>
 </div>
 </header>
 <div class="page-content">
<H1>PERF\-RECORD</H1>
Section: Misc. Reference Manual Pages (1)<BR>Updated: 10/16/2012<BR><A HREF="#index">Index</A>
<A HREF="/man/index.html">Return to Main Contents</A><HR>











<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

perf-record - Run a command and record its profile into perf.data
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>
<PRE>
<I>perf record</I> [-e &lt;EVENT&gt; | --event=EVENT] [-l] [-a] &lt;command&gt;
<I>perf record</I> [-e &lt;EVENT&gt; | --event=EVENT] [-l] [-a] --- &lt;command&gt; [&lt;options&gt;]
</PRE>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>
This command runs a command and gathers a performance counter profile from it, into perf.data - without displaying anything.
<P>
This file can then be inspected later on, using <I>perf report</I>.
<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

<P>

&lt;command&gt;...
<DL COMPACT><DT><DD>
Any command you can specify in a shell.
</DL>

<P>

-e, --event=
<DL COMPACT><DT><DD>
Select the PMU event. Selection can be a symbolic event name (use
<I>perf list</I>
to list all events) or a raw PMU event (eventsel+umask) in the form of rNNN where NNN is a hexadecimal event descriptor.
</DL>

<P>

--filter=&lt;filter&gt;
<DL COMPACT><DT><DD>
Event filter.
</DL>

<P>

-a, --all-cpus
<DL COMPACT><DT><DD>
System-wide collection from all CPUs.
</DL>

<P>

-l
<DL COMPACT><DT><DD>
Scale counter values.
</DL>

<P>

-p, --pid=
<DL COMPACT><DT><DD>
Record events on existing process ID.
</DL>

<P>

-t, --tid=
<DL COMPACT><DT><DD>
Record events on existing thread ID.
</DL>

<P>

-r, --realtime=
<DL COMPACT><DT><DD>
Collect data with this RT SCHED_FIFO priority.
</DL>

<P>

-D, --no-delay
<DL COMPACT><DT><DD>
Collect data without buffering.
</DL>

<P>

-A, --append
<DL COMPACT><DT><DD>
Append to the output file to do incremental profiling.
</DL>

<P>

-f, --force
<DL COMPACT><DT><DD>
Overwrite existing data file. (deprecated)
</DL>

<P>

-c, --count=
<DL COMPACT><DT><DD>
Event period to sample.
</DL>

<P>

-o, --output=
<DL COMPACT><DT><DD>
Output file name.
</DL>

<P>

-i, --no-inherit
<DL COMPACT><DT><DD>
Child tasks do not inherit counters.
</DL>

<P>

-F, --freq=
<DL COMPACT><DT><DD>
Profile at this frequency.
</DL>

<P>

-m, --mmap-pages=
<DL COMPACT><DT><DD>
Number of mmap data pages. Must be a power of two.
</DL>

<P>

-g, --call-graph
<DL COMPACT><DT><DD>
Do call-graph (stack chain/backtrace) recording.
</DL>

<P>

-q, --quiet
<DL COMPACT><DT><DD>
Doncqt print any message, useful for scripting.
</DL>

<P>

-v, --verbose
<DL COMPACT><DT><DD>
Be more verbose (show counter open errors, etc).
</DL>

<P>

-s, --stat
<DL COMPACT><DT><DD>
Per thread counts.
</DL>

<P>

-d, --data
<DL COMPACT><DT><DD>
Sample addresses.
</DL>

<P>

-T, --timestamp
<DL COMPACT><DT><DD>
Sample timestamps. Use it with
<I>perf report -D</I>
to see the timestamps, for instance.
</DL>

<P>

-n, --no-samples
<DL COMPACT><DT><DD>
Doncqt sample.
</DL>

<P>

-R, --raw-samples
<DL COMPACT><DT><DD>
Collect raw sample records from all opened counters (default for tracepoint counters).
</DL>

<P>

-C, --cpu
<DL COMPACT><DT><DD>
Collect samples only on the list of CPUs provided. Multiple CPUs can be provided as a comma-separated list with no space: 0,1. Ranges of CPUs are specified with -: 0-2. In per-thread mode with inheritance mode on (default), samples are captured only when the thread executes on the designated CPUs. Default is to monitor all CPUs.
</DL>

<P>

-N, --no-buildid-cache
<DL COMPACT><DT><DD>
Do not update the builid cache. This saves some overhead in situations where the information in the perf.data file (which includes buildids) is sufficient.
</DL>

<P>

-G name,..., --cgroup name,...
<DL COMPACT><DT><DD>
monitor only in the container (cgroup) called &quot;name&quot;. This option is available only in per-cpu mode. The cgroup filesystem must be mounted. All threads belonging to container &quot;name&quot; are monitored when they run on the monitored CPUs. Multiple cgroups can be provided. Each cgroup is applied to the corresponding event, i.e., first cgroup to first event, second cgroup to second event and so on. It is possible to provide an empty cgroup (monitor all the time) using, e.g., -G foo,,bar. Cgroups must have corresponding events, i.e., they always refer to events defined earlier on the command line.
</DL>

<A NAME="lbAF">&nbsp;</A>
<H2>SEE ALSO</H2>

<P>
<B><A HREF="/man/index.html?1+perf-stat">perf-stat</A></B>(1), <B><A HREF="http://localhost/cgi-bin/man/man2html?1+perf-list">perf-list</A></B>(1)
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPTIONS</A><DD>
<DT><A HREF="#lbAF">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/man/index.html">man2html</A>,
using the manual pages.<BR>
Time: 05:29:07 GMT, December 24, 2015
</div></body>
</HTML>
